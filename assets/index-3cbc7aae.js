(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const ht={};function Zg(n){ht.context=n}const Kg=(n,e)=>n===e,It=Symbol("solid-proxy"),vl=Symbol("solid-track"),e0=Symbol("solid-dev-component"),As={equals:Kg};let Bf=zf;const Pn=1,Ds=2,t0={owned:null,cleanups:null,context:null,owner:null};var re=null;let Un=null,Oe=null,Ye=null,rn=null,_a=0,n0=0;function di(n,e){const t=Oe,i=re,r=n.length===0,s=r?{owned:null,cleanups:null,context:null,owner:null}:{owned:null,cleanups:null,context:null,owner:e||i},o=r?()=>n(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>n(()=>Rt(()=>Oo(s)));i&&(s.name=`${i.name}-r${n0++}`),globalThis._$afterCreateRoot&&globalThis._$afterCreateRoot(s),re=s,Oe=null;try{return $i(o,!0)}finally{Oe=t,re=i}}function an(n,e){e=e?Object.assign({},As,e):As;const t={value:n,observers:null,observerSlots:null,comparator:e.equals||void 0};e.internal||(t.name=qf(e.name||jf(n),t));const i=r=>(typeof r=="function"&&(r=r(t.value)),Qa(t,r));return[Gf.bind(t),i]}function Te(n,e,t){const i=vo(n,e,!1,Pn,t);Vi(i)}function Pt(n,e,t){Bf=c0;const i=vo(n,e,!1,Pn,t);i.user=!0,rn?rn.push(i):Vi(i)}function Xt(n,e,t){t=t?Object.assign({},As,t):As;const i=vo(n,e,!0,0,t);return i.observers=null,i.observerSlots=null,i.comparator=t.equals||void 0,Vi(i),Gf.bind(i)}function i0(n){return $i(n,!1)}function Rt(n){const e=Oe;Oe=null;try{return n()}finally{Oe=e}}function wi(n,e,t){const i=Array.isArray(n);let r,s=t&&t.defer;return o=>{let l;if(i){l=Array(n.length);for(let c=0;c<n.length;c++)l[c]=n[c]()}else l=n();if(s){s=!1;return}const a=Rt(()=>e(l,r,o));return r=l,a}}function Ya(n){Pt(()=>Rt(n))}function ar(n){return re===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):re.cleanups===null?re.cleanups=[n]:re.cleanups.push(n),n}function Uf(){return Oe}function r0(n,e){const t=vo(()=>Rt(()=>(Object.assign(n,{[e0]:!0}),n(e))),void 0,!0,0);return t.props=e,t.observers=null,t.observerSlots=null,t.componentName=n.name,Vi(t),t.tValue!==void 0?t.tValue:t.value}function jf(n){const e=new Set;return`s${Ic(typeof n=="string"?n:Rt(()=>JSON.stringify(n,(t,i)=>{if(typeof i=="object"&&i!=null){if(e.has(i))return;e.add(i);const r=Object.keys(i),s=Object.getOwnPropertyDescriptors(i),o=r.reduce((l,a)=>{const c=s[a];return c.get||(l[a]=c),l},{});i=Object.create({},o)}return typeof i=="bigint"?`${i.toString()}n`:i})||""))}`}function qf(n,e){let t=n;if(re){let i=0;for(re.sourceMap||(re.sourceMap={});re.sourceMap[t];)t=`${n}-${++i}`;re.sourceMap[t]=e,e.graph=re}return t}function s0(n){return n||(n=re),n?{...Hf(n.sourceMap),...n.owned?Jf(n):{}}:{}}function o0(n){const e=Xt(n),t=Xt(()=>Ol(e()),void 0,{name:"children"});return t.toArray=()=>{const i=t();return Array.isArray(i)?i:i!=null?[i]:[]},t}function Gf(){const n=Un;if(this.sources&&(this.state||n))if(this.state===Pn||n)Vi(this);else{const e=Ye;Ye=null,$i(()=>Ps(this),!1),Ye=e}if(Oe){const e=this.observers?this.observers.length:0;Oe.sources?(Oe.sources.push(this),Oe.sourceSlots.push(e)):(Oe.sources=[this],Oe.sourceSlots=[e]),this.observers?(this.observers.push(Oe),this.observerSlots.push(Oe.sources.length-1)):(this.observers=[Oe],this.observerSlots=[Oe.sources.length-1])}return this.value}function Qa(n,e,t){let i=n.value;return(!n.comparator||!n.comparator(i,e))&&(n.value=e,n.observers&&n.observers.length&&$i(()=>{for(let r=0;r<n.observers.length;r+=1){const s=n.observers[r],o=Un&&Un.running;o&&Un.disposed.has(s),(o&&!s.tState||!o&&!s.state)&&(s.pure?Ye.push(s):rn.push(s),s.observers&&Xf(s)),o||(s.state=Pn)}if(Ye.length>1e6){throw Ye=[],new Error("Potential Infinite Loop Detected.");throw new Error}},!1)),e}function Vi(n){if(!n.fn)return;Oo(n);const e=re,t=Oe,i=_a;Oe=re=n,l0(n,n.value,i),Oe=t,re=e}function l0(n,e,t){let i;try{i=n.fn(e)}catch(r){n.pure&&(n.state=Pn,n.owned&&n.owned.forEach(Oo),n.owned=null),Wf(r)}(!n.updatedAt||n.updatedAt<=t)&&(n.updatedAt!=null&&"observers"in n?Qa(n,i):n.value=i,n.updatedAt=t)}function vo(n,e,t,i=Pn,r){const s={fn:n,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:re,context:null,pure:t};return re===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):re!==t0&&(re.owned?re.owned.push(s):re.owned=[s],s.name=r&&r.name||`${re.name||"c"}-${(re.owned||re.tOwned).length}`),s}function Is(n){const e=Un;if(n.state===0||e)return;if(n.state===Ds||e)return Ps(n);if(n.suspense&&Rt(n.suspense.inFallback))return n.suspense.effects.push(n);const t=[n];for(;(n=n.owner)&&(!n.updatedAt||n.updatedAt<_a);)(n.state||e)&&t.push(n);for(let i=t.length-1;i>=0;i--)if(n=t[i],n.state===Pn||e)Vi(n);else if(n.state===Ds||e){const r=Ye;Ye=null,$i(()=>Ps(n,t[0]),!1),Ye=r}}function $i(n,e){if(Ye)return n();let t=!1;e||(Ye=[]),rn?t=!0:rn=[],_a++;try{const i=n();return a0(t),i}catch(i){Ye||(rn=null),Ye=null,Wf(i)}}function a0(n){if(Ye&&(zf(Ye),Ye=null),n)return;const e=rn;rn=null,e.length?$i(()=>Bf(e),!1):globalThis._$afterUpdate&&globalThis._$afterUpdate()}function zf(n){for(let e=0;e<n.length;e++)Is(n[e])}function c0(n){let e,t=0;for(e=0;e<n.length;e++){const i=n[e];i.user?n[t++]=i:Is(i)}for(ht.context&&Zg(),e=0;e<t;e++)Is(n[e])}function Ps(n,e){const t=Un;n.state=0;for(let i=0;i<n.sources.length;i+=1){const r=n.sources[i];r.sources&&(r.state===Pn||t?r!==e&&Is(r):(r.state===Ds||t)&&Ps(r,e))}}function Xf(n){const e=Un;for(let t=0;t<n.observers.length;t+=1){const i=n.observers[t];(!i.state||e)&&(i.state=Ds,i.pure?Ye.push(i):rn.push(i),i.observers&&Xf(i))}}function Oo(n){let e;if(n.sources)for(;n.sources.length;){const t=n.sources.pop(),i=n.sourceSlots.pop(),r=t.observers;if(r&&r.length){const s=r.pop(),o=t.observerSlots.pop();i<r.length&&(s.sourceSlots[o]=i,r[i]=s,t.observerSlots[i]=o)}}if(n.owned){for(e=0;e<n.owned.length;e++)Oo(n.owned[e]);n.owned=null}if(n.cleanups){for(e=0;e<n.cleanups.length;e++)n.cleanups[e]();n.cleanups=null}n.state=0,n.context=null,delete n.sourceMap}function u0(n){return n instanceof Error||typeof n=="string"?n:new Error("Unknown error")}function Wf(n){throw n=u0(n),n}function Ol(n){if(typeof n=="function"&&!n.length)return Ol(n());if(Array.isArray(n)){const e=[];for(let t=0;t<n.length;t++){const i=Ol(n[t]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return e}return n}function Ic(n){for(var e=0,t=9;e<n.length;)t=Math.imul(t^n.charCodeAt(e++),9**9);return`${t^t>>>9}`}function Hf(n={}){const e=Object.keys(n),t={};for(let i=0;i<e.length;i++){const r=e[i];t[r]=n[r].value}return t}function Jf(n){const e={};for(let t=0,i=n.owned.length;t<i;t++){const r=n.owned[t];e[r.componentName?`${r.componentName}:${r.name}`:r.name]={...Hf(r.sourceMap),...r.owned?Jf(r):{}}}return e}const h0=Symbol("fallback");function Pc(n){for(let e=0;e<n.length;e++)n[e]()}function f0(n,e,t={}){let i=[],r=[],s=[],o=0,l=e.length>1?[]:null;return ar(()=>Pc(s)),()=>{let a=n()||[],c,u;return a[vl],Rt(()=>{let f=a.length,d,p,y,g,O,w,k,A,R;if(f===0)o!==0&&(Pc(s),s=[],i=[],r=[],o=0,l&&(l=[])),t.fallback&&(i=[h0],r[0]=di(_=>(s[0]=_,t.fallback())),o=1);else if(o===0){for(r=new Array(f),u=0;u<f;u++)i[u]=a[u],r[u]=di(h);o=f}else{for(y=new Array(f),g=new Array(f),l&&(O=new Array(f)),w=0,k=Math.min(o,f);w<k&&i[w]===a[w];w++);for(k=o-1,A=f-1;k>=w&&A>=w&&i[k]===a[A];k--,A--)y[A]=r[k],g[A]=s[k],l&&(O[A]=l[k]);for(d=new Map,p=new Array(A+1),u=A;u>=w;u--)R=a[u],c=d.get(R),p[u]=c===void 0?-1:c,d.set(R,u);for(c=w;c<=k;c++)R=i[c],u=d.get(R),u!==void 0&&u!==-1?(y[u]=r[c],g[u]=s[c],l&&(O[u]=l[c]),u=p[u],d.set(R,u)):s[c]();for(u=w;u<f;u++)u in y?(r[u]=y[u],s[u]=g[u],l&&(l[u]=O[u],l[u](u))):r[u]=di(h);r=r.slice(0,o=f),i=a.slice(0)}return r});function h(f){if(s[u]=f,l){const[d,p]=an(u,{name:"index"});return l[u]=p,e(a[u],d)}return e(a[u])}}}function K(n,e){return r0(n,e||{})}function $r(){return!0}const bl={get(n,e,t){return e===It?t:n.get(e)},has(n,e){return e===It?!0:n.has(e)},set:$r,deleteProperty:$r,getOwnPropertyDescriptor(n,e){return{configurable:!0,enumerable:!0,get(){return n.get(e)},set:$r,deleteProperty:$r}},ownKeys(n){return n.keys()}};function $o(n){return(n=typeof n=="function"?n():n)?n:{}}function On(...n){let e=!1;for(let i=0;i<n.length;i++){const r=n[i];e=e||!!r&&It in r,n[i]=typeof r=="function"?(e=!0,Xt(r)):r}if(e)return new Proxy({get(i){for(let r=n.length-1;r>=0;r--){const s=$o(n[r])[i];if(s!==void 0)return s}},has(i){for(let r=n.length-1;r>=0;r--)if(i in $o(n[r]))return!0;return!1},keys(){const i=[];for(let r=0;r<n.length;r++)i.push(...Object.keys($o(n[r])));return[...new Set(i)]}},bl);const t={};for(let i=n.length-1;i>=0;i--)if(n[i]){const r=Object.getOwnPropertyDescriptors(n[i]);for(const s in r)s in t||Object.defineProperty(t,s,{enumerable:!0,get(){for(let o=n.length-1;o>=0;o--){const l=(n[o]||{})[s];if(l!==void 0)return l}}})}return t}function d0(n,...e){const t=new Set(e.flat());if(It in n){const r=e.map(s=>new Proxy({get(o){return s.includes(o)?n[o]:void 0},has(o){return s.includes(o)&&o in n},keys(){return s.filter(o=>o in n)}},bl));return r.push(new Proxy({get(s){return t.has(s)?void 0:n[s]},has(s){return t.has(s)?!1:s in n},keys(){return Object.keys(n).filter(s=>!t.has(s))}},bl)),r}const i=Object.getOwnPropertyDescriptors(n);return e.push(Object.keys(i).filter(r=>!t.has(r))),e.map(r=>{const s={};for(let o=0;o<r.length;o++){const l=r[o];l in n&&Object.defineProperty(s,l,i[l]?i[l]:{get(){return n[l]},set(){return!0},enumerable:!0})}return s})}function Tl(n){const e="fallback"in n&&{fallback:()=>n.fallback};return Xt(f0(()=>n.each,n.children,e||void 0),void 0,{name:"value"})}function p0(n){let e=!1,t=!1;const i=(o,l)=>o[0]===l[0]&&(e?o[1]===l[1]:!o[1]==!l[1])&&o[2]===l[2],r=o0(()=>n.children),s=Xt(()=>{let o=r();Array.isArray(o)||(o=[o]);for(let l=0;l<o.length;l++){const a=o[l].when;if(a)return t=!!o[l].keyed,[l,a,o[l]]}return[-1]},void 0,{equals:i,name:"eval conditions"});return Xt(()=>{const[o,l,a]=s();if(o<0)return n.fallback;const c=a.children,u=typeof c=="function"&&c.length>0;return e=t||u,u?Rt(()=>c(l)):c},void 0,{name:"value"})}function Fr(n){return n}let vs;vs={writeSignal:Qa,serializeGraph:s0,registerGraph:qf,hashValue:jf};globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);const m0=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],g0=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...m0]),y0=new Set(["innerHTML","textContent","innerText","children"]),v0=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Cc=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),O0=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),b0={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function T0(n,e,t){let i=t.length,r=e.length,s=i,o=0,l=0,a=e[r-1].nextSibling,c=null;for(;o<r||l<s;){if(e[o]===t[l]){o++,l++;continue}for(;e[r-1]===t[s-1];)r--,s--;if(r===o){const u=s<i?l?t[l-1].nextSibling:t[s-l]:a;for(;l<s;)n.insertBefore(t[l++],u)}else if(s===l)for(;o<r;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[s-1]&&t[l]===e[r-1]){const u=e[--r].nextSibling;n.insertBefore(t[l++],e[o++].nextSibling),n.insertBefore(t[--s],u),e[r]=t[s]}else{if(!c){c=new Map;let h=l;for(;h<s;)c.set(t[h],h++)}const u=c.get(e[o]);if(u!=null)if(l<u&&u<s){let h=o,f=1,d;for(;++h<r&&h<s&&!((d=c.get(e[h]))==null||d!==u+f);)f++;if(f>u-l){const p=e[o];for(;l<u;)n.insertBefore(t[l++],p)}else n.replaceChild(t[l++],e[o++])}else o++;else e[o++].remove()}}}const Rc="_$DX_DELEGATE";function S0(n,e,t,i={}){let r;return di(s=>{r=s,e===document?n():ee(e,n(),e.firstChild?null:void 0,t)},i.owner),()=>{r(),e.textContent=""}}function fe(n,e,t){const i=document.createElement("template");if(i.innerHTML=n,e&&i.innerHTML.split("<").length-1!==e)throw`The browser resolved template HTML does not match JSX input:
${i.innerHTML}

${n}. Is your HTML properly formed?`;let r=i.content.firstChild;return t&&(r=r.firstChild),r}function Zf(n,e=window.document){const t=e[Rc]||(e[Rc]=new Set);for(let i=0,r=n.length;i<r;i++){const s=n[i];t.has(s)||(t.add(s),e.addEventListener(s,A0))}}function cn(n,e,t){t==null?n.removeAttribute(e):n.setAttribute(e,t)}function k0(n,e,t,i){i==null?n.removeAttributeNS(e,t):n.setAttributeNS(e,t,i)}function bo(n,e){e==null?n.removeAttribute("class"):n.className=e}function w0(n,e,t,i){if(i)Array.isArray(t)?(n[`$$${e}`]=t[0],n[`$$${e}Data`]=t[1]):n[`$$${e}`]=t;else if(Array.isArray(t)){const r=t[0];n.addEventListener(e,t[0]=s=>r.call(n,t[1],s))}else n.addEventListener(e,t)}function E0(n,e,t={}){const i=Object.keys(e||{}),r=Object.keys(t);let s,o;for(s=0,o=r.length;s<o;s++){const l=r[s];!l||l==="undefined"||e[l]||(_c(n,l,!1),delete t[l])}for(s=0,o=i.length;s<o;s++){const l=i[s],a=!!e[l];!l||l==="undefined"||t[l]===a||!a||(_c(n,l,!0),t[l]=a)}return t}function en(n,e,t){if(!e)return t?cn(n,"style"):e;const i=n.style;if(typeof e=="string")return i.cssText=e;typeof t=="string"&&(i.cssText=t=void 0),t||(t={}),e||(e={});let r,s;for(s in t)e[s]==null&&i.removeProperty(s),delete t[s];for(s in e)r=e[s],r!==t[s]&&(i.setProperty(s,r),t[s]=r);return t}function un(n,e={},t,i){const r={};return i||Te(()=>r.children=Ei(n,e.children,r.children)),Te(()=>e.ref&&e.ref(n)),Te(()=>x0(n,e,t,!0,r,!0)),r}function To(n,e,t){return Rt(()=>n(e,t))}function ee(n,e,t,i){if(t!==void 0&&!i&&(i=[]),typeof e!="function")return Ei(n,e,i,t);Te(r=>Ei(n,e(),r,t),i)}function x0(n,e,t,i,r={},s=!1){e||(e={});for(const o in r)if(!(o in e)){if(o==="children")continue;r[o]=Yc(n,o,null,r[o],t,s)}for(const o in e){if(o==="children"){i||Ei(n,e.children);continue}const l=e[o];r[o]=Yc(n,o,l,r[o],t,s)}}function N0(n){return n.toLowerCase().replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}function _c(n,e,t){const i=e.trim().split(/\s+/);for(let r=0,s=i.length;r<s;r++)n.classList.toggle(i[r],t)}function Yc(n,e,t,i,r,s){let o,l,a;if(e==="style")return en(n,t,i);if(e==="classList")return E0(n,t,i);if(t===i)return i;if(e==="ref")s||t(n);else if(e.slice(0,3)==="on:"){const c=e.slice(3);i&&n.removeEventListener(c,i),t&&n.addEventListener(c,t)}else if(e.slice(0,10)==="oncapture:"){const c=e.slice(10);i&&n.removeEventListener(c,i,!0),t&&n.addEventListener(c,t,!0)}else if(e.slice(0,2)==="on"){const c=e.slice(2).toLowerCase(),u=O0.has(c);if(!u&&i){const h=Array.isArray(i)?i[0]:i;n.removeEventListener(c,h)}(u||t)&&(w0(n,c,t,u),u&&Zf([c]))}else if((a=y0.has(e))||!r&&(Cc[e]||(l=g0.has(e)))||(o=n.nodeName.includes("-")))e==="class"||e==="className"?bo(n,t):o&&!l&&!a?n[N0(e)]=t:n[Cc[e]||e]=t;else{const c=r&&e.indexOf(":")>-1&&b0[e.split(":")[0]];c?k0(n,c,e,t):cn(n,v0[e]||e,t)}return t}function A0(n){const e=`$$${n.type}`;let t=n.composedPath&&n.composedPath()[0]||n.target;for(n.target!==t&&Object.defineProperty(n,"target",{configurable:!0,value:t}),Object.defineProperty(n,"currentTarget",{configurable:!0,get(){return t||document}}),ht.registry&&!ht.done&&(ht.done=!0,document.querySelectorAll("[id^=pl-]").forEach(i=>{for(;i&&i.nodeType!==8&&i.nodeValue!=="pl-"+n;){let r=i.nextSibling;i.remove(),i=r}i&&i.remove()}));t;){const i=t[e];if(i&&!t.disabled){const r=t[`${e}Data`];if(r!==void 0?i.call(t,r,n):i.call(t,n),n.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function Ei(n,e,t,i,r){for(ht.context&&!t&&(t=[...n.childNodes]);typeof t=="function";)t=t();if(e===t)return t;const s=typeof e,o=i!==void 0;if(n=o&&t[0]&&t[0].parentNode||n,s==="string"||s==="number"){if(ht.context)return t;if(s==="number"&&(e=e.toString()),o){let l=t[0];l&&l.nodeType===3?l.data=e:l=document.createTextNode(e),t=oi(n,t,i,l)}else t!==""&&typeof t=="string"?t=n.firstChild.data=e:t=n.textContent=e}else if(e==null||s==="boolean"){if(ht.context)return t;t=oi(n,t,i)}else{if(s==="function")return Te(()=>{let l=e();for(;typeof l=="function";)l=l();t=Ei(n,l,t,i)}),()=>t;if(Array.isArray(e)){const l=[],a=t&&Array.isArray(t);if(Sl(l,e,t,r))return Te(()=>t=Ei(n,l,t,i,!0)),()=>t;if(ht.context){if(!l.length)return t;for(let c=0;c<l.length;c++)if(l[c].parentNode)return t=l}if(l.length===0){if(t=oi(n,t,i),o)return t}else a?t.length===0?Qc(n,l,i):T0(n,t,l):(t&&oi(n),Qc(n,l));t=l}else if(e instanceof Node){if(ht.context&&e.parentNode)return t=o?[e]:e;if(Array.isArray(t)){if(o)return t=oi(n,t,i,e);oi(n,t,null,e)}else t==null||t===""||!n.firstChild?n.appendChild(e):n.replaceChild(e,n.firstChild);t=e}else console.warn("Unrecognized value. Skipped inserting",e)}return t}function Sl(n,e,t,i){let r=!1;for(let s=0,o=e.length;s<o;s++){let l=e[s],a=t&&t[s];if(l instanceof Node)n.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))r=Sl(n,l,a)||r;else if(typeof l=="function")if(i){for(;typeof l=="function";)l=l();r=Sl(n,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||r}else n.push(l),r=!0;else{const c=String(l);a&&a.nodeType===3&&a.data===c?n.push(a):n.push(document.createTextNode(c))}}return r}function Qc(n,e,t=null){for(let i=0,r=e.length;i<r;i++)n.insertBefore(e[i],t)}function oi(n,e,t,i){if(t===void 0)return n.textContent="";const r=i||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(r!==l){const a=l.parentNode===n;!s&&!o?a?n.replaceChild(r,l):n.insertBefore(r,t):a&&l.remove()}else s=!0}}else n.insertBefore(r,t);return[r]}const D0="http://www.w3.org/2000/svg";function I0(n,e=!1){return e?document.createElementNS(D0,n):document.createElement(n)}function P0(n){const{useShadow:e}=n,t=document.createTextNode(""),i=n.mount||document.body;function r(){if(ht.context){const[s,o]=an(!1);return queueMicrotask(()=>o(!0)),()=>s()&&n.children}else return()=>n.children}if(i instanceof HTMLHeadElement){const[s,o]=an(!1),l=()=>o(!0);di(a=>ee(i,()=>s()?a():r()(),null)),ar(()=>{ht.context?queueMicrotask(l):l()})}else{const s=I0(n.isSVG?"g":"div",n.isSVG),o=e&&s.attachShadow?s.attachShadow({mode:"open"}):s;Object.defineProperty(s,"_$host",{get(){return t.parentNode},configurable:!0}),ee(o,r()),i.appendChild(s),n.ref&&n.ref(s),ar(()=>i.removeChild(s))}return t}class H{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Bt.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Bt.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new ir(this),s=new ir(e);for(let o=t,l=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(l+=r.value.length,r.done||l>=i)return!0}}iter(e=1){return new ir(this,e)}iterRange(e,t=this.length){return new Kf(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ed(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?H.empty:e.length<=32?new pe(e):Bt.from(pe.split(e,[]))}}class pe extends H{constructor(e,t=C0(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],l=r+o.length;if((t?i:l)>=e)return new R0(r,l,i,o);r=l+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new pe(Mc(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),l=Os(s.text,o.text.slice(),0,s.length);if(l.length<=32)i.push(new pe(l,o.length+s.length));else{let a=l.length>>1;i.push(new pe(l.slice(0,a)),new pe(l.slice(a)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof pe))return super.replace(e,t,i);let r=Os(this.text,Os(i.text,Mc(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new pe(r,s):Bt.from(pe.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let l=this.text[o],a=s+l.length;s>e&&o&&(r+=i),e<a&&t>s&&(r+=l.slice(Math.max(0,e-s),t-s)),s=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new pe(i,r)),i=[],r=-1);return r>-1&&t.push(new pe(i,r)),t}}class Bt extends H{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],l=r+o.length,a=i+o.lines-1;if((t?a:l)>=e)return o.lineInner(e,t,i,r);r=l+1,i=a+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let l=this.children[s],a=o+l.length;if(e<=a&&t>=o){let c=r&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!c?i.push(l):l.decompose(e-o,t-o,i,c)}o=a+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(e>=s&&t<=l){let a=o.replace(e-s,t-s,i),c=this.lines-o.lines+a.lines;if(a.lines<c>>5-1&&a.lines>c>>5+1){let u=this.children.slice();return u[r]=a,new Bt(u,this.length-(t-e)+i.length)}return super.replace(s,l,a)}s=l+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let l=this.children[s],a=o+l.length;o>e&&s&&(r+=i),e<a&&t>o&&(r+=l.sliceString(e-o,t-o,i)),o=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Bt))return 0;let i=0,[r,s,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==l)return i;let a=this.children[r],c=e.children[s];if(a!=c)return i+a.scanIdentical(c,t);i+=a.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let p of e)p.flatten(d);return new pe(d,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,l=[],a=0,c=-1,u=[];function h(d){let p;if(d.lines>s&&d instanceof Bt)for(let y of d.children)h(y);else d.lines>o&&(a>o||!a)?(f(),l.push(d)):d instanceof pe&&a&&(p=u[u.length-1])instanceof pe&&d.lines+p.lines<=32?(a+=d.lines,c+=d.length+1,u[u.length-1]=new pe(p.text.concat(d.text),p.length+1+d.length)):(a+d.lines>r&&f(),a+=d.lines,c+=d.length+1,u.push(d))}function f(){a!=0&&(l.push(u.length==1?u[0]:Bt.from(u,c)),c=-1,a=u.length=0)}for(let d of e)h(d);return f(),l.length==1?l[0]:new Bt(l,t)}}H.empty=new pe([""],0);function C0(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Os(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let l=n[s],a=r+l.length;a>=t&&(a>i&&(l=l.slice(0,i-r)),r<t&&(l=l.slice(t-r)),o?(e[e.length-1]+=l,o=!1):e.push(l)),r=a+1}return e}function Mc(n,e,t){return Os(n,[""],e,t)}class ir{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof pe?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,l=r instanceof pe?r.text.length:r.children.length;if(o==(t>0?l:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof pe){let a=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=r.children[o+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof pe?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Kf{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new ir(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ed{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(H.prototype[Symbol.iterator]=function(){return this.iter()},ir.prototype[Symbol.iterator]=Kf.prototype[Symbol.iterator]=ed.prototype[Symbol.iterator]=function(){return this});class R0{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let pi="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<pi.length;n++)pi[n]+=pi[n-1];function _0(n){for(let e=1;e<pi.length;e+=2)if(pi[e]>n)return pi[e-1]<=n;return!1}function Lc(n){return n>=127462&&n<=127487}const Vc=8205;function it(n,e,t=!0,i=!0){return(t?td:Y0)(n,e,i)}function td(n,e,t){if(e==n.length)return e;e&&nd(n.charCodeAt(e))&&id(n.charCodeAt(e-1))&&e--;let i=je(n,e);for(e+=ct(i);e<n.length;){let r=je(n,e);if(i==Vc||r==Vc||t&&_0(r))e+=ct(r),i=r;else if(Lc(r)){let s=0,o=e-2;for(;o>=0&&Lc(je(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Y0(n,e,t){for(;e>0;){let i=td(n,e-2,t);if(i<e)return i;e--}return 0}function nd(n){return n>=56320&&n<57344}function id(n){return n>=55296&&n<56320}function je(n,e){let t=n.charCodeAt(e);if(!id(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return nd(i)?(t-55296<<10)+(i-56320)+65536:t}function rd(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function ct(n){return n<65536?1:2}const kl=/\r\n?|\n/;var qe=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(qe||(qe={}));class Gt{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){wl(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new Gt(e)}composeDesc(e){return this.empty?e:e.empty?this:sd(this,e)}mapDesc(e,t=!1){return e.empty?this:El(this,e,t)}mapPos(e,t=-1,i=qe.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],a=this.sections[o++],c=r+l;if(a<0){if(c>e)return s+(e-r);s+=l}else{if(i!=qe.Simple&&c>=e&&(i==qe.TrackDel&&r<e&&c>e||i==qe.TrackBefore&&r<e||i==qe.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!l)return e==r||t<0?s:s+a;s+=a}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],o=this.sections[i++],l=r+s;if(o>=0&&r<=t&&l>=e)return r<e&&l>t?"cover":!0;r=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Gt(e)}static create(e){return new Gt(e)}}class we extends Gt{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return wl(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return El(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],l=t[r+1];if(l>=0){t[r]=l,t[r+1]=o;let a=r>>1;for(;i.length<a;)i.push(H.empty);i.push(o?e.slice(s,s+o):H.empty)}s+=o}return new we(t,i)}compose(e){return this.empty?e:e.empty?this:sd(this,e,!0)}map(e,t=!1){return e.empty?this:El(this,e,t,!0)}iterChanges(e,t=!1){wl(this,e,t)}get desc(){return Gt.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new cr(this);e:for(let o=0,l=0;;){let a=o==e.length?1e9:e[o++];for(;l<a||l==a&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,a-l);$e(r,u,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;$e(t,u,h),h>0&&bn(i,t,s.text),s.forward(u),l+=u}let c=e[o++];for(;l<c;){if(s.done)break e;let u=Math.min(s.len,c-l);$e(t,u,-1),$e(r,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),l+=u}}return{changes:new we(t,i),filtered:Gt.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,l=null;function a(u=!1){if(!u&&!r.length)return;o<t&&$e(r,t-o,-1);let h=new we(r,s);l=l?l.compose(h.map(l)):h,r=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof we){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:h,to:f=h,insert:d}=u;if(h>f||h<0||f>t)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${t})`);let p=d?typeof d=="string"?H.of(d.split(i||kl)):d:H.empty,y=p.length;if(h==f&&y==0)return;h<o&&a(),h>o&&$e(r,h-o,-1),$e(r,f-h,y),bn(s,r,p),o=f}}return c(e),a(!l),l}static empty(e){return new we(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(H.empty);i[r]=H.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new we(t,i)}static createSet(e,t){return new we(e,t)}}function $e(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function bn(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(H.empty);n.push(t)}}function wl(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let l=n.sections[o++],a=n.sections[o++];if(a<0)r+=l,s+=l;else{let c=r,u=s,h=H.empty;for(;c+=l,u+=a,a&&i&&(h=h.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)l=n.sections[o++],a=n.sections[o++];e(r,c,s,u,h),r=c,s=u}}}function El(n,e,t,i=!1){let r=[],s=i?[]:null,o=new cr(n),l=new cr(e);for(let a=-1;;)if(o.ins==-1&&l.ins==-1){let c=Math.min(o.len,l.len);$e(r,c,-1),o.forward(c),l.forward(c)}else if(l.ins>=0&&(o.ins<0||a==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let c=l.len;for($e(r,l.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&a<o.i&&o.len<=u&&($e(r,0,o.ins),s&&bn(s,r,o.text),a=o.i),o.forward(u),c-=u}l.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(l.ins==-1){let h=Math.min(u,l.len);c+=h,u-=h,l.forward(h)}else if(l.ins==0&&l.len<u)u-=l.len,l.next();else break;$e(r,c,a<o.i?o.ins:0),s&&a<o.i&&bn(s,r,o.text),a=o.i,o.forward(o.len-u)}else{if(o.done&&l.done)return s?we.createSet(r,s):Gt.create(r);throw new Error("Mismatched change set lengths")}}function sd(n,e,t=!1){let i=[],r=t?[]:null,s=new cr(n),o=new cr(e);for(let l=!1;;){if(s.done&&o.done)return r?we.createSet(i,r):Gt.create(i);if(s.ins==0)$e(i,s.len,0,l),s.next();else if(o.len==0&&!o.done)$e(i,0,o.ins,l),r&&bn(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;$e(i,a,u,l),r&&u&&bn(r,i,o.text)}else o.ins==-1?($e(i,s.off?0:s.len,a,l),r&&bn(r,i,s.textBit(a))):($e(i,s.off?0:s.len,o.off?0:o.ins,l),r&&!o.off&&bn(r,i,o.text));l=(s.ins>a||o.ins>=0&&o.len>a)&&(l||i.length>c),s.forward2(a),o.forward(a)}}}}class cr{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?H.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?H.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let Br=class xl{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new xl(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return x.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return x.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return x.range(e.anchor,e.head)}static create(e,t,i){return new xl(e,t,i)}};class x{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:x.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new x([this.main],0)}addRange(e,t=!0){return x.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,x.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new x(e.ranges.map(t=>Br.fromJSON(t)),e.main)}static single(e,t=e){return new x([x.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return x.normalized(e.slice(),t);i=s.to}return new x(e,t)}static cursor(e,t=0,i,r){return Br.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(r??33554431)<<5)}static range(e,t,i,r){let s=(i??33554431)<<5|(r==null?3:Math.min(2,r));return t<e?Br.create(t,e,24|s):Br.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,a=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?x.range(a,l):x.range(l,a))}}return new x(e,t)}}function od(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Ma=0;class L{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=Ma++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new L(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:La),!!e.static,e.enables)}of(e){return new bs([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new bs(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new bs(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function La(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class bs{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=Ma++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,a=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?a=!0:h=="selection"?c=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||u.push(e[h.id]);return{create(h){return h.values[o]=i(h),1},update(h,f){if(a&&f.docChanged||c&&(f.docChanged||f.selection)||Nl(h,u)){let d=i(h);if(l?!$c(d,h.values[o],r):!r(d,h.values[o]))return h.values[o]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[s];if(p!=null){let y=Rs(f,p);if(this.dependencies.every(g=>g instanceof L?f.facet(g)===h.facet(g):g instanceof We?f.field(g,!1)==h.field(g,!1):!0)||(l?$c(d=i(h),y,r):r(d=i(h),y)))return h.values[o]=y,0}else d=i(h);return h.values[o]=d,1}}}}function $c(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Nl(n,e){let t=!1;for(let i of e)rr(n,i)&1&&(t=!0);return t}function Q0(n,e,t){let i=t.map(a=>n[a.id]),r=t.map(a=>a.type),s=i.filter(a=>!(a&1)),o=n[e.id]>>1;function l(a){let c=[];for(let u=0;u<i.length;u++){let h=Rs(a,i[u]);if(r[u]==2)for(let f of h)c.push(f);else c.push(h)}return e.combine(c)}return{create(a){for(let c of i)rr(a,c);return a.values[o]=l(a),1},update(a,c){if(!Nl(a,s))return 0;let u=l(a);return e.compare(u,a.values[o])?0:(a.values[o]=u,1)},reconfigure(a,c){let u=Nl(a,i),h=c.config.facets[e.id],f=c.facet(e);if(h&&!u&&La(t,h))return a.values[o]=f,0;let d=l(a);return e.compare(d,f)?(a.values[o]=f,0):(a.values[o]=d,1)}}}const Fc=L.define({static:!0});class We{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new We(Ma++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Fc).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,Fc.of({field:this,create:e})]}get extension(){return this}}const Ln={lowest:4,low:3,default:2,high:1,highest:0};function qi(n){return e=>new ld(e,n)}const So={highest:qi(Ln.highest),high:qi(Ln.high),default:qi(Ln.default),low:qi(Ln.low),lowest:qi(Ln.lowest)};class ld{constructor(e,t){this.inner=e,this.prec=t}}class Ir{of(e){return new Al(this,e)}reconfigure(e){return Ir.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Al{constructor(e,t){this.compartment=e,this.inner=t}}class Cs{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let f of M0(e,t,o))f instanceof We?r.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let l=Object.create(null),a=[],c=[];for(let f of r)l[f.id]=c.length<<1,c.push(d=>f.slot(d));let u=i?.config.facets;for(let f in s){let d=s[f],p=d[0].facet,y=u&&u[f]||[];if(d.every(g=>g.type==0))if(l[p.id]=a.length<<1|1,La(y,d))a.push(i.facet(p));else{let g=p.combine(d.map(O=>O.value));a.push(i&&p.compare(g,i.facet(p))?i.facet(p):g)}else{for(let g of d)g.type==0?(l[g.id]=a.length<<1|1,a.push(g.value)):(l[g.id]=c.length<<1,c.push(O=>g.dynamicSlot(O)));l[p.id]=c.length<<1,c.push(g=>Q0(g,p,d))}}let h=c.map(f=>f(l));return new Cs(e,o,h,l,a,s)}}function M0(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(o,l){let a=r.get(o);if(a!=null){if(a<=l)return;let c=i[a].indexOf(o);c>-1&&i[a].splice(c,1),o instanceof Al&&t.delete(o.compartment)}if(r.set(o,l),Array.isArray(o))for(let c of o)s(c,l);else if(o instanceof Al){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,l)}else if(o instanceof ld)s(o.inner,o.prec);else if(o instanceof We)i[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof bs)i[l].push(o),o.facet.extensions&&s(o.facet.extensions,Ln.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,l)}}return s(n,Ln.default),i.reduce((o,l)=>o.concat(l))}function rr(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Rs(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const ad=L.define(),cd=L.define({combine:n=>n.some(e=>e),static:!0}),ud=L.define({combine:n=>n.length?n[0]:void 0,static:!0}),hd=L.define(),fd=L.define(),dd=L.define(),pd=L.define({combine:n=>n.length?n[0]:!1});class Cn{constructor(e,t){this.type=e,this.value=t}static define(){return new L0}}class L0{of(e){return new Cn(this,e)}}class V0{constructor(e){this.map=e}of(e){return new q(this,e)}}class q{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new q(this.type,t)}is(e){return this.type==e}static define(e={}){return new V0(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}q.reconfigure=q.define();q.appendConfig=q.define();class Ee{constructor(e,t,i,r,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&od(i,t.newLength),s.some(l=>l.type==Ee.time)||(this.annotations=s.concat(Ee.time.of(Date.now())))}static create(e,t,i,r,s,o){return new Ee(e,t,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ee.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Ee.time=Cn.define();Ee.userEvent=Cn.define();Ee.addToHistory=Cn.define();Ee.remote=Cn.define();function $0(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function md(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=we.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:q.mapEffects(n.effects,r).concat(q.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Dl(n,e,t){let i=e.selection,r=mi(e.annotations);return e.userEvent&&(r=r.concat(Ee.userEvent.of(e.userEvent))),{changes:e.changes instanceof we?e.changes:we.of(e.changes||[],t,n.facet(ud)),selection:i&&(i instanceof x?i:x.single(i.anchor,i.head)),effects:mi(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function gd(n,e,t){let i=Dl(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=md(i,Dl(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=Ee.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return B0(t?F0(r):r)}function F0(n){let e=n.startState,t=!0;for(let r of e.facet(hd)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:$0(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=we.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Ee.create(e,r,n.selection&&n.selection.map(s),q.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(fd);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Ee?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ee?n=s[0]:n=gd(e,mi(s),!1)}return n}function B0(n){let e=n.startState,t=e.facet(dd),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=md(i,Dl(e,s,n.changes.newLength),!0))}return i==n?n:Ee.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const U0=[];function mi(n){return n==null?U0:Array.isArray(n)?n:[n]}var ft=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ft||(ft={}));const j0=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Il;try{Il=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function q0(n){if(Il)return Il.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||j0.test(t)))return!0}return!1}function G0(n){return e=>{if(!/\S/.test(e))return ft.Space;if(q0(e))return ft.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return ft.Word;return ft.Other}}class W{constructor(e,t,i,r,s,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)rr(this,l<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return rr(this,i),Rs(this,i)}update(...e){return gd(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let o of e.effects)o.is(Ir.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,a)=>r.set(a,l)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(q.reconfigure)?(t=null,i=o.value):o.is(q.appendConfig)&&(t=null,i=mi(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=Cs.resolve(i,r,this),s=new W(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,a)=>a.reconfigure(l,this),null).values),new W(t,e.newDoc,e.newSelection,s,(o,l)=>l.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:x.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],o=mi(i.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),c=this.changes(a.changes),u=c.map(r);for(let f=0;f<l;f++)s[f]=s[f].map(u);let h=r.mapDesc(c,!0);s.push(a.range.map(h)),r=r.compose(u),o=q.mapEffects(o,u).concat(q.mapEffects(mi(a.effects),h))}return{changes:r,selection:x.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof we?e:we.of(e,this.doc.length,this.facet(W.lineSeparator))}toText(e){return H.of(e.split(this.facet(W.lineSeparator)||kl))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(rr(this,t),Rs(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof We&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],l=e[s];r.push(o.init(a=>o.spec.fromJSON(l,a)))}}return W.create({doc:e.doc,selection:x.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Cs.resolve(e.extensions||[],new Map),i=e.doc instanceof H?e.doc:H.of((e.doc||"").split(t.staticFacet(W.lineSeparator)||kl)),r=e.selection?e.selection instanceof x?e.selection:x.single(e.selection.anchor,e.selection.head):x.single(0);return od(r,i.length),t.staticFacet(cd)||(r=r.asSingle()),new W(t,i,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(W.tabSize)}get lineBreak(){return this.facet(W.lineSeparator)||`
`}get readOnly(){return this.facet(pd)}phrase(e,...t){for(let i of this.facet(W.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(ad))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return G0(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,l=e-i;for(;o>0;){let a=it(t,o,!1);if(s(t.slice(a,o))!=ft.Word)break;o=a}for(;l<r;){let a=it(t,l);if(s(t.slice(l,a))!=ft.Word)break;l=a}return o==l?null:x.range(o+i,l+i)}}W.allowMultipleSelections=cd;W.tabSize=L.define({combine:n=>n.length?n[0]:4});W.lineSeparator=ud;W.readOnly=pd;W.phrases=L.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});W.languageData=ad;W.changeFilter=hd;W.transactionFilter=fd;W.transactionExtender=dd;Ir.reconfigure=q.define();function Pr(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let o=r[s],l=i[s];if(l===void 0)i[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class Wn{eq(e){return this==e}range(e,t=e){return Pl.create(e,t,this)}}Wn.prototype.startSide=Wn.prototype.endSide=0;Wn.prototype.point=!1;Wn.prototype.mapMode=qe.TrackDel;let Pl=class yd{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new yd(e,t,i)}};function Cl(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Va{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,l=s.length;;){if(o==l)return o;let a=o+l>>1,c=s[a]-e||(i?this.value[a].endSide:this.value[a].startSide)-t;if(a==o)return c>=0?o:l;c>=0?l=a:o=a+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],o=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],u=this.from[a]+e,h=this.to[a]+e,f,d;if(u==h){let p=t.mapPos(u,c.startSide,c.mapMode);if(p==null||(f=d=p,c.startSide!=c.endSide&&(d=t.mapPos(u,c.endSide),d<f)))continue}else if(f=t.mapPos(u,c.startSide),d=t.mapPos(h,c.endSide),f>d||f==d&&c.startSide>0&&c.endSide<=0)continue;(d-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(l=Math.max(l,d-f)),i.push(c),r.push(f-o),s.push(d-o))}return{mapped:i.length?new Va(r,s,i,l):null,pos:o}}}class se{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new se(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Cl)),this.isEmpty)return t.length?se.of(t):this;let l=new vd(this,null,-1).goto(0),a=0,c=[],u=new ur;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let h=t[a++];u.addInner(h.from,h.to,h.value)||c.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!o||r>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&u.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||r>l.to||s<l.from||o(l.from,l.to,l.value))&&(u.addInner(l.from,l.to,l.value)||c.push(Pl.create(l.from,l.to,l.value))),l.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?se.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],a=this.chunk[o],c=e.touchesRange(l,l+a.length);if(c===!1)r=Math.max(r,a.maxPoint),t.push(a),i.push(e.mapPos(l));else if(c===!0){let{mapped:u,pos:h}=a.map(l,e);u&&(r=Math.max(r,u.maxPoint),t.push(u),i.push(h))}}let s=this.nextLayer.map(e);return t.length==0?s:new se(i,t,s||se.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return hr.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return hr.from(e).goto(t)}static compare(e,t,i,r,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=Bc(o,l,i),c=new Gi(o,a,s),u=new Gi(l,a,s);i.iterGaps((h,f,d)=>Uc(c,h,u,f,d,r)),i.empty&&i.length==0&&Uc(c,0,u,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=1e9-1);let s=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),o=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=Bc(s,o),a=new Gi(s,l,0).goto(i),c=new Gi(o,l,0).goto(i);for(;;){if(a.to!=c.to||!Rl(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>r)return!0;a.next(),c.next()}}static spans(e,t,i,r,s=-1){let o=new Gi(e,null,s).goto(t),l=t,a=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let u=o.activeForPoint(o.to),h=o.pointFrom<t?u.length+1:Math.min(u.length,a);r.point(l,c,o.point,u,h,o.pointRank),a=Math.min(o.openEnd(c),u.length)}else c>l&&(r.span(l,c,o.active,a),a=o.openEnd(c));if(o.to>i)return a+(o.point&&o.to>i?1:0);l=o.to,o.next()}}static of(e,t=!1){let i=new ur;for(let r of e instanceof Pl?[e]:t?z0(e):e)i.add(r.from,r.to,r.value);return i.finish()}}se.empty=new se([],[],null,-1);function z0(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Cl(e,i)>0)return n.slice().sort(Cl);e=i}return n}se.empty.nextLayer=se.empty;class ur{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Va(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new ur)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(se.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=se.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Bc(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=i.get(s.chunk[o]);l!=null&&(t?t.mapPos(l):l)==s.chunkPos[o]&&!t?.touchesRange(l,l+s.chunk[o].length)&&r.add(s.chunk[o])}return r}class vd{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class hr{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new vd(o,t,i,s));return r.length==1?r[0]:new hr(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Fo(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Fo(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Fo(this.heap,0)}}}function Fo(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class Gi{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=hr.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ur(this.active,e),Ur(this.activeTo,e),Ur(this.activeRank,e),this.minActive=jc(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;jr(this.active,t,i),jr(this.activeTo,t,r),jr(this.activeRank,t,s),e&&jr(e,t,this.cursor.from),this.minActive=jc(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Ur(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Uc(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,l=i,a=i-e;for(;;){let c=n.to+a-t.to||n.endSide-t.endSide,u=c<0?n.to+a:t.to,h=Math.min(u,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Rl(n.activeForPoint(n.to+a),t.activeForPoint(t.to))||s.comparePoint(l,h,n.point,t.point):h>l&&!Rl(n.active,t.active)&&s.compareRange(l,h,n.active,t.active),u>o)break;l=u,c<=0&&n.next(),c>=0&&t.next()}}function Rl(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Ur(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function jr(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function jc(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function $a(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=it(n,r));return i}function X0(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=it(n,r)}return i===!0?-1:n.length}const _l="ͼ",qc=typeof Symbol>"u"?"__"+_l:Symbol.for(_l),Yl=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xn{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,a,c){let u=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&l==null)return a.push(o[0]+";");for(let d in l){let p=l[d];if(/&/.test(d))s(d.split(/,\s*/).map(y=>o.map(g=>y.replace(/&/,g))).reduce((y,g)=>y.concat(g)),p,a);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(r(d),p,u,f)}else p!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+p+";")}(u.length||f)&&a.push((i&&!h&&!c?o.map(i):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Gc[qc]||1;return Gc[qc]=e+1,_l+e.toString(36)}static mount(e,t){(e[Yl]||new W0(e)).mount(Array.isArray(t)?t:[t])}}let qr=null;class W0{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(qr)return e.adoptedStyleSheets=[qr.sheet].concat(e.adoptedStyleSheets),e[Yl]=qr;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),qr=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Yl]=this}mount(e){let t=this.sheet,i=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],l=this.modules.indexOf(o);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,o),t)for(let a=0;a<o.rules.length;a++)t.insertRule(o.rules[a],i++)}else{for(;r<l;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}var Nn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},zc=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),H0=typeof navigator<"u"&&/Mac/.test(navigator.platform),J0=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Z0=H0||zc&&+zc[1]<57;for(var Ce=0;Ce<10;Ce++)Nn[48+Ce]=Nn[96+Ce]=String(Ce);for(var Ce=1;Ce<=24;Ce++)Nn[Ce+111]="F"+Ce;for(var Ce=65;Ce<=90;Ce++)Nn[Ce]=String.fromCharCode(Ce+32),fr[Ce]=String.fromCharCode(Ce);for(var Bo in Nn)fr.hasOwnProperty(Bo)||(fr[Bo]=Nn[Bo]);function K0(n){var e=Z0&&(n.ctrlKey||n.altKey||n.metaKey)||J0&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?fr:Nn)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function _s(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function xi(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function ey(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Ts(n,e){if(!e.anchorNode)return!1;try{return xi(n,e.anchorNode)}catch{return!1}}function dr(n){return n.nodeType==3?Ni(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Ys(n,e,t,i){return t?Xc(n,e,t,i,-1)||Xc(n,e,t,i,1):!1}function Qs(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Xc(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:pr(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Qs(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?pr(n):0}else return!1}}function pr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const Od={left:0,right:0,top:0,bottom:0};function Fa(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function ty(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function ny(n,e,t,i,r,s,o,l){let a=n.ownerDocument,c=a.defaultView||window;for(let u=n;u;)if(u.nodeType==1){let h,f=u==a.body;if(f)h=ty(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let y=u.getBoundingClientRect();h={left:y.left,right:y.left+u.clientWidth,top:y.top,bottom:y.top+u.clientHeight}}let d=0,p=0;if(r=="nearest")e.top<h.top?(p=-(h.top-e.top+o),t>0&&e.bottom>h.bottom+p&&(p=e.bottom-h.bottom+p+o)):e.bottom>h.bottom&&(p=e.bottom-h.bottom+o,t<0&&e.top-p<h.top&&(p=-(h.top+p-e.top+o)));else{let y=e.bottom-e.top,g=h.bottom-h.top;p=(r=="center"&&y<=g?e.top+y/2-g/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-g+o)-h.top}if(i=="nearest"?e.left<h.left?(d=-(h.left-e.left+s),t>0&&e.right>h.right+d&&(d=e.right-h.right+d+s)):e.right>h.right&&(d=e.right-h.right+s,t<0&&e.left<h.left+d&&(d=-(h.left+d-e.left+s))):d=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==l?e.left-s:e.right-(h.right-h.left)+s)-h.left,d||p)if(f)c.scrollBy(d,p);else{let y=0,g=0;if(p){let O=u.scrollTop;u.scrollTop+=p,g=u.scrollTop-O}if(d){let O=u.scrollLeft;u.scrollLeft+=d,y=u.scrollLeft-O}e={left:e.left-y,top:e.top-g,right:e.right-y,bottom:e.bottom-g},y&&Math.abs(y-d)<1&&(i="nearest"),g&&Math.abs(g-p)<1&&(r="nearest")}if(f)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function iy(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class ry{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let li=null;function bd(n){if(n.setActive)return n.setActive();if(li)return n.focus(li);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(li==null?{get preventScroll(){return li={preventScroll:!0},!0}}:void 0),!li){li=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Wc;function Ni(n,e,t=e){let i=Wc||(Wc=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function gi(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function sy(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Td(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function oy(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(;;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=pr(t))}else{if(t==n)return!0;i=Qs(t),t=t.parentNode}}class Be{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Be(e.parentNode,Qs(e),t)}static after(e,t){return new Be(e.parentNode,Qs(e)+1,t)}}const Ba=[];class le{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e,t){if(this.dirty&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.dirty){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let l=le.get(s);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.dirty=0}if(s=r?r.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Hc(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Hc(s)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(e,t),i.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=pr(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!le.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,l=-1;for(let a=0,c=i,u=i;a<this.children.length;a++){let h=this.children[a],f=c+h.length;if(c<e&&f>t)return h.domBoundsAround(e,t,c);if(f>=e&&r==-1&&(r=a,s=c),c>t&&h.dom.parentNode==this.dom){o=a,l=u;break}u=f,c=f+h.breakAfter}return{from:s,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Ba){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Sd(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}le.prototype.breakAfter=0;function Hc(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Sd{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function kd(n,e,t,i,r,s,o,l,a){let{children:c}=n,u=c.length?c[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==i&&u&&!o&&!f&&s.length<2&&u.merge(t,r,s.length?h:null,t==0,l,a))){if(i<c.length){let d=c[i];d&&r<d.length?(e==i&&(d=d.split(r),r=0),!f&&h&&d.merge(0,r,h,!0,0,a)?s[s.length-1]=d:(r&&d.merge(0,r,null,!1,0,a),s.push(d))):d?.breakAfter&&(h?h.breakAfter=1:o=1),i++}for(u&&(u.breakAfter=o,t>0&&(!o&&s.length&&u.merge(t,u.length,s[0],!1,l,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),a=s.length?0:l;else if(c[e].become(s[0]))e++,s.shift(),l=s.length?0:a;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,l,a)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function wd(n,e,t,i,r,s){let o=n.childCursor(),{i:l,off:a}=o.findPos(t,1),{i:c,off:u}=o.findPos(e,-1),h=e-t;for(let f of i)h+=f.length;n.length+=h,kd(n,c,u,l,a,i,0,r,s)}let tt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Ql=typeof document<"u"?document:{documentElement:{style:{}}};const Ml=/Edge\/(\d+)/.exec(tt.userAgent),Ed=/MSIE \d/.test(tt.userAgent),Ll=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tt.userAgent),ko=!!(Ed||Ll||Ml),Jc=!ko&&/gecko\/(\d+)/i.test(tt.userAgent),Uo=!ko&&/Chrome\/(\d+)/.exec(tt.userAgent),Zc="webkitFontSmoothing"in Ql.documentElement.style,xd=!ko&&/Apple Computer/.test(tt.vendor),Kc=xd&&(/Mobile\/\w+/.test(tt.userAgent)||tt.maxTouchPoints>2);var M={mac:Kc||/Mac/.test(tt.platform),windows:/Win/.test(tt.platform),linux:/Linux|X11/.test(tt.platform),ie:ko,ie_version:Ed?Ql.documentMode||6:Ll?+Ll[1]:Ml?+Ml[1]:0,gecko:Jc,gecko_version:Jc?+(/Firefox\/(\d+)/.exec(tt.userAgent)||[0,0])[1]:0,chrome:!!Uo,chrome_version:Uo?+Uo[1]:0,ios:Kc,android:/Android\b/.test(tt.userAgent),webkit:Zc,safari:xd,webkit_version:Zc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Ql.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const ly=256;class An extends le{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof An)||this.length-(t-e)+i.length>ly)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new An(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Be(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Vl(this.dom,e,t)}}class Wt extends le{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(Td(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,s,o){return i&&(!(i instanceof Wt&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(wd(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,s=0;for(let l of this.children){let a=i+l.length;a>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=s),i=a,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Wt(this.mark,t,o)}domAtPos(e){return Dd(this,e)}coordsAt(e,t){return Pd(this,e,t)}}function Vl(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?M.chrome||M.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):t<0?r--:s<i&&s++;let l=Ni(n,r,s).getClientRects();if(!l.length)return Od;let a=l[(o?o<0:t>=0)?0:l.length-1];return M.safari&&!o&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),o?Fa(a,o<0):a||null}class Tn extends le{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||Tn)(e,t,i)}split(e){let t=Tn.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,s,o){return i&&(!(i instanceof Tn)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Tn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return H.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):H.empty}domAtPos(e){return e==0?Be.before(this.dom):Be.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return Od;for(let s=e>0?i.length-1:0;r=i[s],!(e>0?s==0:s==i.length-1||r.top<r.bottom);s+=e>0?-1:1);return this.length?r:Fa(r,this.side>0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Nd extends Tn{domAtPos(e){let{topView:t,text:i}=this.widget;return t?$l(e,0,t,i,(r,s)=>r.domAtPos(s),r=>new Be(i,Math.min(r,i.nodeValue.length))):new Be(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?Ad(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?$l(e,t,i,r,(s,o,l)=>s.coordsAt(o,l),(s,o)=>Vl(r,s,o)):Vl(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function $l(n,e,t,i,r,s){if(t instanceof Wt){for(let o=t.dom.firstChild;o;o=o.nextSibling){let l=le.get(o);if(!l)return s(n,e);let a=xi(o,i),c=l.length+(a?i.nodeValue.length:0);if(n<c||n==c&&l.getSide()<=0)return a?$l(n,e,l,i,r,s):r(l,n,e);n-=c}return r(t,t.length,-1)}else return t.dom==i?s(n,e):r(t,n,e)}function Ad(n,e,t,i){if(t instanceof Wt)for(let r of t.children){let s=0,o=xi(r.dom,i);if(xi(r.dom,n))return s+(o?Ad(n,e,r,i):r.localPosFromDOM(n,e));s+=o?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}class Ai extends le{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ai&&e.side==this.side}split(){return new Ai(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Be.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=ay(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return H.empty}}An.prototype.children=Tn.prototype.children=Ai.prototype.children=Ba;function ay(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof An){let s=r.coordsAt(e<0?r.length:0,e);if(s)return s}i+=e}else if(t instanceof Wt&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function Dd(n,e){let t=n.dom,{children:i}=n,r=0;for(let s=0;r<i.length;r++){let o=i[r],l=s+o.length;if(!(l==s&&o.getSide()<=0)){if(e>s&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=l}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Be(t,0)}function Id(n,e,t){let i,{children:r}=n;t>0&&e instanceof Wt&&r.length&&(i=r[r.length-1])instanceof Wt&&i.mark.eq(e.mark)?Id(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function Pd(n,e,t){let i=null,r=-1,s=null,o=-1;function l(c,u){for(let h=0,f=0;h<c.children.length&&f<=u;h++){let d=c.children[h],p=f+d.length;p>=u&&(d.children.length?l(d,u-f):!s&&(p>u||f==p&&d.getSide()>0)?(s=d,o=u-f):(f<u||f==p&&d.getSide()<0)&&(i=d,r=u-f)),f=p}}l(n,e);let a=(t<0?i:s)||i||s;return a?a.coordsAt(Math.max(0,a==i?r:o),t):cy(n)}function cy(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=dr(e);return t[t.length-1]||null}function Fl(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function Ua(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function Bl(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}class Cr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var me=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(me||(me={}));class J extends Wn{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new wo(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new Hn(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=Cd(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new Hn(e,i,r,t,e.widget||null,!0)}static line(e){return new Rr(e)}static set(e,t=!1){return se.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}J.none=se.empty;class wo extends J{constructor(e){let{start:t,end:i}=Cd(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof wo&&this.tagName==e.tagName&&this.class==e.class&&Ua(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}wo.prototype.point=!1;class Rr extends J{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Rr&&this.spec.class==e.spec.class&&Ua(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Rr.prototype.mapMode=qe.TrackBefore;Rr.prototype.point=!0;class Hn extends J{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?qe.TrackBefore:qe.TrackAfter:qe.TrackDel}get type(){return this.startSide<this.endSide?me.WidgetRange:this.startSide<=0?me.WidgetBefore:me.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Hn&&uy(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Hn.prototype.point=!0;function Cd(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function uy(n,e){return n==e||!!(n&&e&&n.compare(e))}function Ul(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class Ge extends le{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof Ge))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),wd(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new Ge;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Ua(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Id(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Fl(t,this.attrs||{})),i&&(this.attrs=Fl({class:i},this.attrs||{}))}domAtPos(e){return Dd(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var i;this.dom?this.dirty&4&&(Td(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Bl(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&le.get(r)instanceof Wt;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=le.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!M.ios||!this.children.some(s=>s instanceof An))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof An)||/[^ -~]/.test(t.text))return null;let i=dr(t.dom);if(i.length!=1)return null;e+=i[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return Pd(this,e,t)}become(e){return!1}get type(){return me.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof Ge)return s;if(o>t)break}r=o+s.breakAfter}return null}}class jn extends le{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,o){return i&&(!(i instanceof jn)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Be.before(this.dom):Be.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new jn(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return Ba}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):H.empty}domBoundsAround(){return null}become(e){return e instanceof jn&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ja{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof jn&&e.type==me.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ge),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Gr(new Ai(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Gr(new An(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof Hn){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof Hn)if(i.block){let{type:a}=i;a==me.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new jn(i.widget||new eu("div"),l,a))}else{let a=Tn.create(i.widget||new eu("span"),l,l?0:i.startSide),c=this.atCursorPos&&!a.isEditable&&s<=r.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||s>r.length||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(Gr(new Ai(1),r),s),s=r.length+Math.max(0,s-r.length)),h.append(Gr(a,r),s),this.atCursorPos=u,this.pendingBuffer=u?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let o=new ja(e,t,i,s);return o.openEnd=se.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Gr(n,e){for(let t of e)n=new Wt(t,[n],n.length);return n}class eu extends Cr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Rd=L.define(),_d=L.define(),Yd=L.define(),Qd=L.define(),jl=L.define(),Md=L.define(),Ld=L.define({combine:n=>n.some(e=>e)}),hy=L.define({combine:n=>n.some(e=>e)});class Ms{constructor(e,t="nearest",i="nearest",r=5,s=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s}map(e){return e.empty?this:new Ms(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const tu=q.define({map:(n,e)=>n.map(e)});function st(n,e,t){let i=n.facet(Qd);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Eo=L.define({combine:n=>n.length?n[0]:!0});let fy=0;const Hi=L.define();class mt{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:s}=t||{};return new mt(fy++,e,i,o=>{let l=[Hi.of(o)];return s&&l.push(mr.of(a=>{let c=a.plugin(o);return c?s(c):J.none})),r&&l.push(r(o)),l})}static fromClass(e,t){return mt.define(i=>new e(i),t)}}class jo{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(st(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){st(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){st(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Vd=L.define(),qa=L.define(),mr=L.define(),$d=L.define(),Fd=L.define(),Ji=L.define();class zt{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new zt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,o=0,l=0;;r++){let a=r==e.length?null:e[r],c=o-l,u=a?a.fromB:1e9;for(;s<t.length&&t[s]<u;){let h=t[s],f=t[s+1],d=Math.max(l,h),p=Math.min(u,f);if(d<=p&&new zt(d+c,p+c,d,p).addToSet(i),f>u)break;s+=2}if(!a)return i;new zt(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),o=a.toA,l=a.toB}}}class Ls{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=we.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,l,a,c)=>r.push(new zt(o,l,a,c))),this.changedRanges=r;let s=e.hasFocus;s!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=s,this.flags|=1)}static create(e,t,i){return new Ls(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Se=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Se||(Se={}));const ql=Se.LTR,dy=Se.RTL;function Bd(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const py=Bd("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),my=Bd("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Gl=Object.create(null),Mt=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Gl[e]=t,Gl[t]=-e}function gy(n){return n<=247?py[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?my[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const yy=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class yi{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?dy:ql}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==i)return o;(s<0||(r!=0?r<0?l.from<t:l.to>t:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const ue=[];function vy(n,e){let t=n.length,i=e==ql?1:2,r=e==ql?2:1;if(!n||i==1&&!yy.test(n))return Ud(t);for(let o=0,l=i,a=i;o<t;o++){let c=gy(n.charCodeAt(o));c==512?c=l:c==8&&a==4&&(c=16),ue[o]=c==4?2:c,c&7&&(a=c),l=c}for(let o=0,l=i,a=i;o<t;o++){let c=ue[o];if(c==128)o<t-1&&l==ue[o+1]&&l&24?c=ue[o]=l:ue[o]=256;else if(c==64){let u=o+1;for(;u<t&&ue[u]==64;)u++;let h=o&&l==8||u<t&&ue[u]==8?a==1?1:8:256;for(let f=o;f<u;f++)ue[f]=h;o=u-1}else c==8&&a==1&&(ue[o]=1);l=c,c&7&&(a=c)}for(let o=0,l=0,a=0,c,u,h;o<t;o++)if(u=Gl[c=n.charCodeAt(o)])if(u<0){for(let f=l-3;f>=0;f-=3)if(Mt[f+1]==-u){let d=Mt[f+2],p=d&2?i:d&4?d&1?r:i:0;p&&(ue[o]=ue[Mt[f]]=p),l=f;break}}else{if(Mt.length==189)break;Mt[l++]=o,Mt[l++]=c,Mt[l++]=a}else if((h=ue[o])==2||h==1){let f=h==i;a=f?0:1;for(let d=l-3;d>=0;d-=3){let p=Mt[d+2];if(p&2)break;if(f)Mt[d+2]|=2;else{if(p&4)break;Mt[d+2]|=4}}}for(let o=0;o<t;o++)if(ue[o]==256){let l=o+1;for(;l<t&&ue[l]==256;)l++;let a=(o?ue[o-1]:i)==1,c=(l<t?ue[l]:i)==1,u=a==c?a?1:2:i;for(let h=o;h<l;h++)ue[h]=u;o=l-1}let s=[];if(i==1)for(let o=0;o<t;){let l=o,a=ue[o++]!=1;for(;o<t&&a==(ue[o]!=1);)o++;if(a)for(let c=o;c>l;){let u=c,h=ue[--c]!=2;for(;c>l&&h==(ue[c-1]!=2);)c--;s.push(new yi(c,u,h?2:1))}else s.push(new yi(l,o,0))}else for(let o=0;o<t;){let l=o,a=ue[o++]==2;for(;o<t&&a==(ue[o]==2);)o++;s.push(new yi(l,o,a?1:2))}return s}function Ud(n){return[new yi(0,n,0)]}let jd="";function Oy(n,e,t,i,r){var s;let o=i.head-n.from,l=-1;if(o==0){if(!r||!n.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),l=0)}else if(o==n.length){if(r)return null;let f=e[e.length-1];f.level!=t&&(o=f.side(!0,t),l=e.length-1)}l<0&&(l=yi.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let a=e[l];o==a.side(r,t)&&(a=e[l+=r?1:-1],o=a.side(!r,t));let c=r==(a.dir==t),u=it(n.text,o,c);if(jd=n.text.slice(Math.min(o,u),Math.max(o,u)),u!=a.side(r,t))return x.cursor(u+n.from,c?-1:1,a.level);let h=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!h&&a.level!=t?x.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<a.level?x.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):x.cursor(u+n.from,r?-1:1,a.level)}const Sn="￿";class qd{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(W.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Sn}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let s=r.nextSibling;if(s==t)break;let o=le.get(r),l=le.get(s);(o&&l?o.breakAfter:(o?o.breakAfter:nu(r))||nu(s)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=s}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(l=r.exec(t))&&(s=l.index,o=l[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=le.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function nu(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class iu{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class ru extends le{constructor(e){super(),this.view=e,this.compositionDeco=J.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ge],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new zt(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:o,toA:l})=>l<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=J.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Ty(this.view,e.changes)),(M.ie||M.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),s=Ey(i,r,e.changes);return t=zt.extendWithRanges(t,s),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=M.chrome||M.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof jn&&s.widget instanceof su&&r.push(s.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let s=r>=0?e[r]:null;if(!s)break;let{fromA:o,toA:l,fromB:a,toB:c}=s,{content:u,breakAtStart:h,openStart:f,openEnd:d}=ja.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:p,off:y}=i.findPos(l,1),{i:g,off:O}=i.findPos(o,-1);kd(this,g,O,p,y,u,h,f,d)}}updateSelection(e=!1,t=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection()))return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,s=this.domAtPos(r.anchor),o=r.empty?s:this.domAtPos(r.head);if(M.gecko&&r.empty&&by(s)){let a=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(a,s.node.childNodes[s.offset]||null)),s=o=new Be(a,0),i=!0}let l=this.view.observer.selectionRange;(i||!l.focusNode||!Ys(s.node,s.offset,l.anchorNode,l.anchorOffset)||!Ys(o.node,o.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{M.android&&M.chrome&&this.dom.contains(l.focusNode)&&xy(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=_s(this.view.root);if(a)if(r.empty){if(M.gecko){let c=ky(s.node,s.offset);if(c&&c!=3){let u=zd(s.node,s.offset,c==1?1:-1);u&&(s=new Be(u,c==1?0:u.nodeValue.length))}}a.collapse(s.node,s.offset),r.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=r.bidiLevel)}else if(a.extend){a.collapse(s.node,s.offset);try{a.extend(o.node,o.offset)}catch{}}else{let c=document.createRange();r.anchor>r.head&&([s,o]=[o,s]),c.setEnd(o.node,o.offset),c.setStart(s.node,s.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(s,o)),this.impreciseAnchor=s.precise?null:new Be(l.anchorNode,l.anchorOffset),this.impreciseHead=o.precise?null:new Be(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,i=_s(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=Ge.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let a=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!a||!c||a.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);i.collapse(u.node,u.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&i.collapse(r,s)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||Ts(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let i=le.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Ge)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let s=this.children[r],o=i-s.breakAfter-s.length;if(e>o||e==o&&s.type!=me.WidgetBefore&&s.type!=me.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==me.WidgetBefore&&t>-2))return s.coordsAt(e-o,t);i=o}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==Se.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],f=c+h.length;if(f>r)break;if(c>=i){let d=h.dom.getBoundingClientRect();if(t.push(d.height),o){let p=h.dom.lastChild,y=p?dr(p):[];if(y.length){let g=y[y.length-1],O=a?g.right-d.left:d.right-g.left;O>l&&(l=O,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Se.RTL:Se.LTR}measureTextSize(){for(let r of this.children)if(r instanceof Ge){let s=r.measureTextSize();if(s)return s}let e=document.createElement("div"),t,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=dr(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Sd(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>i){let l=t.lineBlockAt(o).bottom-t.lineBlockAt(i).top;e.push(J.replace({widget:new su(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return J.set(e)}updateDeco(){let e=this.view.state.facet(mr).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=0,o=0,l=0,a=0;for(let u of this.view.state.facet(Fd).map(h=>h(this.view)))if(u){let{left:h,right:f,top:d,bottom:p}=u;h!=null&&(s=Math.max(s,h)),f!=null&&(o=Math.max(o,f)),d!=null&&(l=Math.max(l,d)),p!=null&&(a=Math.max(a,p))}let c={left:i.left-s,top:i.top-l,right:i.right+o,bottom:i.bottom+a};ny(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Se.LTR)}}function by(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class su extends Cr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Gd(n){let e=n.observer.selectionRange,t=e.focusNode&&zd(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof Ge){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let s=r.previousSibling;for(;s&&!le.get(s);)s=s.previousSibling;let o=s?le.get(s).posAtEnd:i.posAtStart;return{from:o,to:o,node:r,text:t}}else{for(;;){let{parent:s}=i;if(!s)return null;if(s instanceof Ge)break;i=s}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function Ty(n,e){let t=Gd(n);if(!t)return J.none;let{from:i,to:r,node:s,text:o}=t,l=e.mapPos(i,1),a=Math.max(l,e.mapPos(r,-1)),{state:c}=n,u=s.nodeType==3?s.nodeValue:new qd([],c).readRange(s.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),Sn)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,Sn)==u)l=a-u.length;else return J.none;else if(c.doc.sliceString(l,a,Sn)!=u)return J.none;let h=le.get(s);return h instanceof Nd?h=h.widget.topView:h&&(h.parent=null),J.set(J.replace({widget:new Sy(s,o,h),inclusive:!0}).range(l,a))}class Sy extends Cr{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Nd}}function zd(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=pr(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function ky(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}class wy{constructor(){this.changes=[]}compareRange(e,t){Ul(e,t,this.changes)}comparePoint(e,t){Ul(e,t,this.changes)}}function Ey(n,e,t){let i=new wy;return se.compare(n,e,t,i),i.changes}function xy(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Ny(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return x.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,l=s;t<0?o=it(r.text,s,!1):l=it(r.text,s);let a=i(r.text.slice(o,l));for(;o>0;){let c=it(r.text,o,!1);if(i(r.text.slice(c,o))!=a)break;o=c}for(;l<r.length;){let c=it(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return x.range(o+r.from,l+r.from)}function Ay(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Dy(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function qo(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function ou(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function lu(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function zl(n,e,t){let i,r,s,o,l=!1,a,c,u,h;for(let p=n.firstChild;p;p=p.nextSibling){let y=dr(p);for(let g=0;g<y.length;g++){let O=y[g];r&&qo(r,O)&&(O=ou(lu(O,r.bottom),r.top));let w=Ay(e,O),k=Dy(t,O);if(w==0&&k==0)return p.nodeType==3?au(p,e,t):zl(p,e,t);if(!i||o>k||o==k&&s>w){i=p,r=O,s=w,o=k;let A=k?t<O.top?-1:1:w?e<O.left?-1:1:0;l=!A||(A>0?g<y.length-1:g>0)}w==0?t>O.bottom&&(!u||u.bottom<O.bottom)?(a=p,u=O):t<O.top&&(!h||h.top>O.top)&&(c=p,h=O):u&&qo(u,O)?u=lu(u,O.bottom):h&&qo(h,O)&&(h=ou(h,O.top))}}if(u&&u.bottom>=t?(i=a,r=u):h&&h.top<=t&&(i=c,r=h),!i)return{node:n,offset:0};let f=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return au(i,f,t);if(l&&i.contentEditable!="false")return zl(i,f,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function au(n,e,t){let i=n.nodeValue.length,r=-1,s=1e9,o=0;for(let l=0;l<i;l++){let a=Ni(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<s){let f=e>=(u.left+u.right)/2,d=f;if((M.chrome||M.gecko)&&Ni(n,l).getBoundingClientRect().left==u.right&&(d=!f),h<=0)return{node:n,offset:l+(d?1:0)};r=l+(d?1:0),s=h}}}return{node:n,offset:r>-1?r:o>0?n.nodeValue.length:0}}function Xd(n,{x:e,y:t},i,r=-1){var s;let o=n.contentDOM.getBoundingClientRect(),l=o.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,u=t-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let O=n.defaultLineHeight/2,w=!1;a=n.elementAtHeight(u),a.type!=me.Text;)for(;u=r>0?a.bottom+O:a.top-O,!(u>=0&&u<=c);){if(w)return i?null:0;w=!0,r=-r}t=l+u;let h=a.from;if(h<n.viewport.from)return n.viewport.from==0?0:i?null:cu(n,o,a,e,t);if(h>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:cu(n,o,a,e,t);let f=n.dom.ownerDocument,d=n.root.elementFromPoint?n.root:f,p=d.elementFromPoint(e,t);p&&!n.contentDOM.contains(p)&&(p=null),p||(e=Math.max(o.left+1,Math.min(o.right-1,e)),p=d.elementFromPoint(e,t),p&&!n.contentDOM.contains(p)&&(p=null));let y,g=-1;if(p&&((s=n.docView.nearest(p))===null||s===void 0?void 0:s.isEditable)!=!1){if(f.caretPositionFromPoint){let O=f.caretPositionFromPoint(e,t);O&&({offsetNode:y,offset:g}=O)}else if(f.caretRangeFromPoint){let O=f.caretRangeFromPoint(e,t);O&&({startContainer:y,startOffset:g}=O,(!n.contentDOM.contains(y)||M.safari&&Iy(y,g,e)||M.chrome&&Py(y,g,e))&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let O=Ge.find(n.docView,h);if(!O)return u>a.top+a.height/2?a.to:a.from;({node:y,offset:g}=zl(O.dom,e,t))}return n.docView.posFromDOM(y,g)}function cu(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=Math.floor((r-t.top)/n.defaultLineHeight);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+X0(o,s,n.state.tabSize)}function Iy(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Ni(n,i-1,i).getBoundingClientRect().left>t}function Py(n,e,t){if(e!=0)return!1;for(let r=n;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=n.nodeType==1?n.getBoundingClientRect():Ni(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function Cy(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==Se.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(u!=null)return x.cursor(u,t?-1:1)}let o=Ge.find(n.docView,e.head),l=o?t?o.posAtEnd:o.posAtStart:t?r.to:r.from;return x.cursor(l,t?-1:1)}function uu(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),o=n.textDirectionAt(r.from);for(let l=e,a=null;;){let c=Oy(r,s,o,l,t),u=jd;if(!c){if(r.number==(t?n.state.doc.lines:1))return l;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),c=x.cursor(t?r.from:r.to)}if(a){if(!a(u))return l}else{if(!i)return c;a=i(u)}l=c}}function Ry(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let o=i(s);return r==ft.Space&&(r=o),r==o}}function _y(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return x.cursor(r,e.assoc);let o=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)o==null&&(o=c.left-a.left),l=s<0?c.top:c.bottom;else{let d=n.viewState.lineBlockAt(r);o==null&&(o=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-d.from))),l=(s<0?d.top:d.bottom)+u}let h=a.left+o,f=i??n.defaultLineHeight>>1;for(let d=0;;d+=10){let p=l+(f+d)*s,y=Xd(n,{x:h,y:p},!1,s);if(p<a.top||p>a.bottom||(s<0?y<r:y>r))return x.cursor(y,e.assoc,void 0,o)}}function Go(n,e,t){let i=n.state.facet($d).map(r=>r(n));for(;;){let r=!1;for(let s of i)s.between(t.from-1,t.from+1,(o,l,a)=>{t.from>o&&t.from<l&&(t=e.head>t.from?x.cursor(o,1):x.cursor(l,-1),r=!0)});if(!r)return t}}class Yy{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let t=(i,r)=>{this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(r.type,e,r)?r.preventDefault():i(e,r))};for(let i in Ne){let r=Ne[i];e.contentDOM.addEventListener(i,s=>{hu(e,s)&&t(r,s)},Xl[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(Ne.mousedown,i)}),M.chrome&&M.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,M.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let s of t)if(r=(i=s.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:r});for(let o in r)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,l=>{hu(e,l)&&this.runCustomHandlers(o,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let s=r.handlers[e];if(s)try{if(s.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(o){st(t.state,o)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(s){st(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(M.android&&M.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return M.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((i=Wd.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||Qy.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,gi(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:M.safari&&!M.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Wd=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Qy="dthko",Hd=[16,17,18,20,91,92,224,225];function zr(n){return n*.7+8}class My{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=iy(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(W.allowMultipleSelections)&&Ly(e,t),this.dragMove=Vy(e,t),this.dragging=$y(e,t)&&ep(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let i=0,r=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left?i=-zr(s.left-e.clientX):e.clientX>=s.right&&(i=zr(e.clientX-s.right)),e.clientY<=s.top?r=-zr(s.top-e.clientY):e.clientY>=s.bottom&&(r=zr(e.clientY-s.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Ly(n,e){let t=n.state.facet(Rd);return t.length?t[0](e):M.mac?e.metaKey:e.ctrlKey}function Vy(n,e){let t=n.state.facet(_d);return t.length?t[0](e):M.mac?!e.altKey:!e.ctrlKey}function $y(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=_s(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function hu(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=le.get(t))&&i.ignoreEvent(e))return!1;return!0}const Ne=Object.create(null),Xl=Object.create(null),Jd=M.ie&&M.ie_version<15||M.ios&&M.webkit_version<604;function Fy(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Zd(n,t.value)},50)}function Zd(n,e){let{state:t}=n,i,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(Wl!=null&&t.selection.ranges.every(a=>a.empty)&&Wl==s.toString()){let a=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:x.cursor(c.from+h.length)}})}else o?i=t.changeByRange(a=>{let c=s.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:x.cursor(a.from+c.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ne.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():Hd.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};Ne.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ne.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Xl.touchstart=Xl.touchmove={passive:!0};Ne.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let i of n.state.facet(Yd))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=jy(n,e)),t){let i=n.root.activeElement!=n.contentDOM;n.inputState.startMouseSelection(new My(n,e,t,i)),i&&n.observer.ignore(()=>bd(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(e)}};function fu(n,e,t,i){if(i==1)return x.cursor(e,t);if(i==2)return Ny(n.state,e,t);{let r=Ge.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,l=r?r.posAtEnd:s.to;return l<n.state.doc.length&&l==s.to&&l++,x.range(o,l)}}let Kd=(n,e)=>n>=e.top&&n<=e.bottom,du=(n,e,t)=>Kd(e,t)&&n>=t.left&&n<=t.right;function By(n,e,t,i){let r=Ge.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&du(t,i,o))return-1;let l=r.coordsAt(s,1);return l&&du(t,i,l)?1:o&&Kd(i,o)?-1:1}function pu(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:By(n,t,e.clientX,e.clientY)}}const Uy=M.ie&&M.ie_version<=11;let mu=null,gu=0,yu=0;function ep(n){if(!Uy)return n.detail;let e=mu,t=yu;return mu=n,yu=Date.now(),gu=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(gu+1)%3:1}function jy(n,e){let t=pu(n,e),i=ep(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,o,l){let a=pu(n,s),c=fu(n,a.pos,a.bias,i);if(t.pos!=a.pos&&!o){let u=fu(n,t.pos,t.bias,i),h=Math.min(u.from,c.from),f=Math.max(u.to,c.to);c=h<c.from?x.range(h,f):x.range(f,h)}return o?r.replaceRange(r.main.extend(c.from,c.to)):l&&r.ranges.length>1&&r.ranges.some(u=>u.eq(c))?qy(r,c):l?r.addRange(c):x.create([c])}}}function qy(n,e){for(let t=0;;t++)if(n.ranges[t].eq(e))return x.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}Ne.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function vu(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=n.inputState,o=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,l={from:r,insert:t},a=n.state.changes(o?[o,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}Ne.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,s=()=>{++r==t.length&&vu(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[o]=l.result),s()},l.readAsText(t[o])}}else vu(n,e,e.dataTransfer.getData("Text"),!0)};Ne.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=Jd?null:e.clipboardData;t?(Zd(n,t.getData("text/plain")),e.preventDefault()):Fy(n)};function Gy(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function zy(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let Wl=null;Ne.copy=Ne.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=zy(n.state);if(!t&&!r)return;Wl=r?t:null;let s=Jd?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):Gy(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function tp(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Ne.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),tp(n)};Ne.blur=n=>{n.observer.clearSelectionRange(),tp(n)};Ne.compositionstart=Ne.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};Ne.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,M.chrome&&M.android&&n.observer.flushSoon(),setTimeout(()=>{n.inputState.composing<0&&n.docView.compositionDeco.size&&n.update([])},50)};Ne.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Ne.beforeinput=(n,e)=>{var t;let i;if(M.chrome&&M.android&&(i=Wd.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const Ou=["pre-wrap","normal","pre-line","break-spaces"];class Xy{constructor(e){this.lineWrapping=e,this.doc=H.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ou.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s){let o=Ou.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.lineLength=r,l){this.heightSamples={};for(let a=0;a<s.length;a++){let c=s[a];c<0?a++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class Wy{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class kn{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new kn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var oe=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(oe||(oe={}));const Ss=.001;class Xe{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Ss&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Xe.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this;for(let o=r.length-1;o>=0;o--){let{fromA:l,toA:a,fromB:c,toB:u}=r[o],h=s.lineAt(l,oe.ByPosNoHeight,t,0,0),f=h.to>=a?h:s.lineAt(a,oe.ByPosNoHeight,t,0,0);for(u+=f.to-a,a=f.to;o>0&&h.from<=r[o-1].toA;)l=r[o-1].fromA,c=r[o-1].fromB,o--,l<h.from&&(h=s.lineAt(l,oe.ByPosNoHeight,t,0,0));c+=h.from-l,l=h.from;let d=Ga.build(i,e,c,u);s=s.replace(l,a,d)}return s.updateHeight(i,0)}static empty(){return new et(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(s>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,s-=l.size}else break;else if(r<s){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(s+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new Hy(Xe.of(e.slice(0,t)),o,Xe.of(e.slice(i)))}}Xe.prototype.size=1;class np extends Xe{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new kn(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class et extends np{constructor(e,t){super(e,t,me.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof et||r instanceof Pe&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Pe?r=new et(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Xe.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Pe extends Xe{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:s,lastLine:o,lineHeight:l}=this.lines(t,r),a=Math.max(0,Math.min(o-s,Math.floor((e-i)/l))),{from:c,length:u}=t.line(s+a);return new kn(c,u,i+l*a,l,me.Text)}lineAt(e,t,i,r,s){if(t==oe.ByHeight)return this.blockAt(e,i,r,s);if(t==oe.ByPosNoHeight){let{from:h,to:f}=i.lineAt(e);return new kn(h,f-h,0,0,me.Text)}let{firstLine:o,lineHeight:l}=this.lines(i,s),{from:a,length:c,number:u}=i.lineAt(e);return new kn(a,c,r+l*(u-o),l,me.Text)}forEachLine(e,t,i,r,s,o){let{firstLine:l,lineHeight:a}=this.lines(i,s);for(let c=Math.max(e,s),u=Math.min(s+this.length,t);c<=u;){let h=i.lineAt(c);c==e&&(r+=a*(h.number-l)),o(new kn(h.from,h.length,r,a,me.Text)),r+=a,c=h.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof Pe?i[i.length-1]=new Pe(s.length+r):i.push(null,new Pe(r-1))}if(e>0){let s=i[0];s instanceof Pe?i[0]=new Pe(e+s.length):i.unshift(new Pe(e-1),null)}return Xe.of(i)}decomposeLeft(e,t){t.push(new Pe(e-1),null)}decomposeRight(e,t){t.push(null,new Pe(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],l=Math.max(t,r.from),a=-1,c=e.heightChanged;for(r.from>t&&o.push(new Pe(r.from-t-1).updateHeight(e,t));l<=s&&r.more;){let h=e.doc.lineAt(l).length;o.length&&o.push(null);let f=r.heights[r.index++];a==-1?a=f:Math.abs(f-a)>=Ss&&(a=-2);let d=new et(h,f);d.outdated=!1,o.push(d),l+=h+1}l<=s&&o.push(null,new Pe(s-l).updateHeight(e,l));let u=Xe.of(o);return e.heightChanged=c||a<0||Math.abs(u.height-this.height)>=Ss||Math.abs(a-this.lines(e.doc,t).lineHeight)>=Ss,u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Hy extends Xe{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let o=r+this.left.height,l=s+this.left.length+this.break,a=t==oe.ByHeight?e<o:e<l,c=a?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,o,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=t==oe.ByPosNoHeight?oe.ByPosNoHeight:oe.ByPos;return a?c.join(this.right.lineAt(l,u,i,o,l)):this.left.lineAt(l,u,i,r,s).join(c)}forEachLine(e,t,i,r,s,o){let l=r+this.left.height,a=s+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,r,s,o),t>=a&&this.right.forEachLine(e,t,i,l,a,o);else{let c=this.lineAt(a,oe.ByPos,i,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,l,a,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of i)s.push(l);if(e>0&&bu(s,o-1),t<this.length){let l=s.length;this.decomposeRight(t,s),bu(s,l)}return Xe.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Xe.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:o}=this,l=t+s.length+this.break,a=null;return r&&r.from<=t+s.length&&r.more?a=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=l+o.length&&r.more?a=o=o.updateHeight(e,l,i,r):o.updateHeight(e,l,i),a?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bu(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Pe&&(i=n[e+1])instanceof Pe&&n.splice(e-1,3,new Pe(t.length+1+i.length))}const Jy=5;class Ga{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof et?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new et(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let s=t-e;i.block?this.addBlock(new np(s,r,i.type)):(s||r>=Jy)&&this.addLineDeco(r,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new et(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Pe(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof et)return e;let t=new et(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==me.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=me.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof et)&&!this.isCovered?this.nodes.push(new et(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof et&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new Ga(i,e);return se.spans(t,i,r,s,0),s.finish(i)}}function Zy(n,e,t){let i=new Ky;return se.compare(n,e,t,i,0),i.changes}class Ky{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&Ul(e,t,this.changes,5)}}function ev(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(r.innerWidth,t.right),l=Math.max(0,t.top),a=Math.min(r.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=i.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let f=u.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),l=Math.max(l,f.top),a=c==n.parentNode?f.bottom:Math.min(a,f.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,a)-(t.top+e)}}function tv(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class zo{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e){return J.replace({widget:new nv(this.size,e)}).range(this.from,this.to)}}class nv extends Cr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Tu{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=Su,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Se.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(qa).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new Xy(t),this.stateDeco=e.facet(mr).filter(i=>typeof i!="function"),this.heightMap=Xe.empty().applyChanges(this.stateDeco,H.empty,this.heightOracle.setDoc(e.doc),[new zt(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=J.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new Xr(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?Su:new sv(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Zi(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(mr).filter(c=>typeof c!="function");let r=e.changedRanges,s=zt.extendWithRanges(r,Zy(i,this.stateDeco,e?e.changes:we.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(hy)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Se.RTL:Se.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=o||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let a=0,c=0,u=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=u||this.paddingBottom!=h)&&(this.paddingTop=u,this.paddingBottom=h,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);let f=(this.printing?tv:ev)(t,this.paddingTop),d=f.top-this.pixelViewport.top,p=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let g=t.clientWidth;if((this.contentDOMWidth!=g||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=g,this.editorHeight=e.scrollDOM.clientHeight,a|=8),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(w)&&(o=!0),o||r.lineWrapping&&Math.abs(g-this.contentDOMWidth)>r.charWidth){let{lineHeight:k,charWidth:A}=e.docView.measureTextSize();o=k>0&&r.refresh(s,k,A,g/A,w),o&&(e.docView.minWidth=0,a|=8)}d>0&&p>0?c=Math.max(d,p):d<0&&p<0&&(c=Math.min(d,p)),r.heightChanged=!1;for(let k of this.viewports){let A=k.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(k);this.heightMap=(o?Xe.empty().applyChanges(this.stateDeco,H.empty,this.heightOracle,[new zt(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new Wy(k.from,A))}r.heightChanged&&(a|=2)}let O=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(a&2||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.state.doc,{visibleTop:o,visibleBottom:l}=this,a=new Xr(r.lineAt(o-i*1e3,oe.ByHeight,s,0,0).from,r.lineAt(l+(1-i)*1e3,oe.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,oe.ByPos,s,0,0),f;t.y=="center"?f=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<a.from?f=h.top:f=h.bottom-u,a=new Xr(r.lineAt(f-1e3/2,oe.ByHeight,s,0,0).from,r.lineAt(f+u+1e3/2,oe.ByHeight,s,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Xr(this.heightMap.lineAt(i,oe.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,oe.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,oe.ByPos,this.state.doc,0,0),{bottom:s}=this.heightMap.lineAt(t,oe.ByPos,this.state.doc,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=l+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new zo(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=Se.LTR&&!i)return[];let l=[],a=(c,u,h,f)=>{if(u-c<s)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let g of p)if(g>c&&g<u){a(c,g-10,h,f),a(g+10,u,h,f);return}let y=rv(e,g=>g.from>=h.from&&g.to<=h.to&&Math.abs(g.from-c)<s&&Math.abs(g.to-u)<s&&!p.some(O=>g.from<O&&g.to>O));if(!y){if(u<h.to&&t&&i&&t.visibleRanges.some(g=>g.from<=u&&g.to>=u)){let g=t.moveToLineBoundary(x.cursor(u),!1,!0).head;g>c&&(u=g)}y=new zo(c,u,this.gapSize(h,c,u,f))}l.push(y)};for(let c of this.viewportLines){if(c.length<o)continue;let u=iv(c.from,c.to,this.stateDeco);if(u.total<o)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(i){let p=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,g;if(h!=null){let O=Hr(u,h),w=((this.visibleBottom-this.visibleTop)/2+p)/c.height;y=O-w,g=O+w}else y=(this.visibleTop-c.top-p)/c.height,g=(this.visibleBottom-c.top+p)/c.height;f=Wr(u,y),d=Wr(u,g)}else{let p=u.total*this.heightOracle.charWidth,y=r*this.heightOracle.charWidth,g,O;if(h!=null){let w=Hr(u,h),k=((this.pixelViewport.right-this.pixelViewport.left)/2+y)/p;g=w-k,O=w+k}else g=(this.pixelViewport.left-y)/p,O=(this.pixelViewport.right+y)/p;f=Wr(u,g),d=Wr(u,O)}f>c.from&&a(c.from,f,c,u),d<c.to&&a(d,c.to,c,u)}return l}gapSize(e,t,i,r){let s=Hr(r,i)-Hr(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){zo.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=J.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];se.spans(e,this.viewport.from,this.viewport.to,{span(r,s){t.push({from:r,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=t[s].from||r.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Zi(this.heightMap.lineAt(e,oe.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return Zi(this.heightMap.lineAt(this.scaler.fromDOM(e),oe.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return Zi(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Xr{constructor(e,t){this.from=e,this.to=t}}function iv(n,e,t){let i=[],r=n,s=0;return se.spans(t,n,e,{span(){},point(o,l){o>r&&(i.push({from:r,to:o}),s+=o-r),r=l}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function Wr({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:o}=e[r],l=o-s;if(i<=l)return s+i;i-=l}}function Hr(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function rv(n,e){for(let t of n)if(e(t))return t}const Su={toDOM(n){return n},fromDOM(n){return n},scale:1};class sv{constructor(e,t,i){let r=0,s=0,o=0;this.viewports=i.map(({from:l,to:a})=>{let c=t.lineAt(l,oe.ByPos,e,0,0).top,u=t.lineAt(a,oe.ByPos,e,0,0).bottom;return r+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function Zi(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new kn(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>Zi(r,e)):n.type)}const Jr=L.define({combine:n=>n.join(" ")}),Hl=L.define({combine:n=>n.indexOf(!0)>-1}),Jl=xn.newName(),ip=xn.newName(),rp=xn.newName(),sp={"&light":"."+ip,"&dark":"."+rp};function Zl(n,e,t){return new xn(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const ov=Zl("."+Jl,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},sp);class lv{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let l=s||o?[]:cv(e),a=new qd(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=uv(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!xi(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),c=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!xi(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset);this.newSel=x.single(c,a)}}}function op(n,e){let t,{newSel:i}=e,r=n.state.selection.main;if(e.bounds){let{from:s,to:o}=e.bounds,l=r.from,a=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||M.android&&e.text.length<o-s)&&(l=r.to,a="end");let c=av(n.state.doc.sliceString(s,o,Sn),e.text,l-s,a);c&&(M.chrome&&n.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Sn+Sn&&c.toB--,t={from:s+c.from,to:s+c.toA,insert:H.of(e.text.slice(c.from,c.toB).split(Sn))})}else i&&(!n.hasFocus&&n.state.facet(Eo)||i.main.eq(r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:(M.mac||M.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())?(i&&t.insert.length==2&&(i=x.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:H.of([" "])}):M.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=x.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:H.of([" "])}),t){let s=n.state;if(M.ios&&n.inputState.flushIOSKey(n)||M.android&&(t.from==r.from&&t.to==r.to&&t.insert.length==1&&t.insert.lines==2&&gi(n.contentDOM,"Enter",13)||t.from==r.from-1&&t.to==r.to&&t.insert.length==0&&gi(n.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&gi(n.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();if(n.state.facet(Md).some(c=>c(n,t.from,t.to,o)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let l;if(t.from>=r.from&&t.to<=r.to&&t.to-t.from>=(r.to-r.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let c=r.from<t.from?s.sliceDoc(r.from,t.from):"",u=r.to>t.to?s.sliceDoc(t.to,r.to):"";l=s.replaceSelection(n.state.toText(c+t.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let c=s.changes(t),u=i&&!s.selection.main.eq(i.main)&&i.main.to<=c.newLength?i.main:void 0;if(s.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=r.to&&t.to>=r.to-10){let h=n.state.sliceDoc(t.from,t.to),f=Gd(n)||n.state.doc.lineAt(r.head),d=r.to-t.to,p=r.to-r.from;l=s.changeByRange(y=>{if(y.from==r.from&&y.to==r.to)return{changes:c,range:u||y.map(c)};let g=y.to-d,O=g-h.length;if(y.to-y.from!=p||n.state.sliceDoc(O,g)!=h||f&&y.to>=f.from&&y.from<=f.to)return{range:y};let w=s.changes({from:O,to:g,insert:t.insert}),k=y.to-r.to;return{changes:w,range:u?x.range(Math.max(0,u.anchor+k),Math.max(0,u.head+k)):y.map(w)}})}else l={changes:c,selection:u&&s.selection.replaceRange(u)}}let a="input.type";return n.composing&&(a+=".compose",n.inputState.compositionFirstChange&&(a+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(l,{scrollIntoView:!0,userEvent:a}),!0}else if(i&&!i.main.eq(r)){let s=!1,o="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),o=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:s,userEvent:o}),!0}else return!1}function av(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let o=n.length,l=e.length;for(;o>0&&l>0&&n.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(i=="end"){let a=Math.max(0,s-Math.min(o,l));t-=o+a-s}if(o<s&&n.length<e.length){let a=t<=s&&t>=o?s-t:0;s-=a,l=s+(l-o),o=s}else if(l<s){let a=t<=s&&t>=l?s-t:0;s-=a,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function cv(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new iu(t,i)),(r!=t||s!=i)&&e.push(new iu(r,s))),e}function uv(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?x.single(t+e,i+e):null}const hv={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Xo=M.ie&&M.ie_version<=11;class fv{constructor(e){this.view=e,this.active=!1,this.selectionRange=new ry,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(M.ie&&M.ie_version<=11||M.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Xo&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Eo)?i.root.activeElement!=this.dom:!Ts(i.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(M.ie&&M.ie_version<=11||M.android&&M.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Ys(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=M.safari&&e.root.nodeType==11&&ey(this.dom.ownerDocument)==this.dom&&dv(this.view)||_s(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=Ts(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&oy(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,hv),Xo&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Xo&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&gi(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Ts(this.dom,this.selectionRange);return e<0&&!r?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new lv(this.view,e,t,i))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let i=this.view.state,r=op(this.view,t);return this.view.state==i&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=ku(t,e.previousSibling||e.target.previousSibling,-1),r=ku(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(r=this.resizeContent)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function ku(n,e,t){for(;e;){let i=le.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function dv(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return Ys(l.node,l.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}class V{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||sy(e.parent)||document,this.viewState=new Tu(e.state||W.create(e)),this.plugins=this.state.facet(Hi).map(t=>new jo(t));for(let t of this.plugins)t.update(this);this.observer=new fv(this),this.inputState=new Yy(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new ru(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Ee?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let c of e){if(c.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=c.state}if(this.destroyed){this.viewState.state=s;return}let o=this.observer.delayedAndroidKey,l=null;if(o?(this.observer.clearDelayedAndroidKey(),l=this.observer.readChange(),(l&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(l=null)):this.observer.clear(),s.facet(W.phrases)!=this.state.facet(W.phrases))return this.setState(s);r=Ls.create(this,s,e);let a=this.viewState.scrollTarget;try{this.updateState=2;for(let c of e){if(a&&(a=a.map(c.changes)),c.scrollIntoView){let{main:u}=c.state.selection;a=new Ms(u.empty?u:x.cursor(u.head,u.head>u.anchor?-1:1))}for(let u of c.effects)u.is(tu)&&(a=u.value)}this.viewState.update(r,a),this.bidiCache=Vs.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Ji)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(c=>c.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Jr)!=r.state.facet(Jr)&&(this.viewState.mustMeasureContent=!0),(t||i||a||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let c of this.state.facet(jl))c(r);l&&!op(this,l)&&o.force&&gi(this.contentDOM,o.key,o.keyCode)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Tu(e),this.plugins=e.facet(Hi).map(i=>new jo(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new ru(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Hi),i=e.state.facet(Hi);if(t!=i){let r=[];for(let s of i){let o=t.indexOf(s);if(o<0)r.push(new jo(s));else{let l=this.plugins[o];l.mustUpdate=e,r.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:i,scrollTop:r,clientHeight:s}=this.scrollDOM,o=r>i-s-4?i:r;try{for(let l=0;;l++){this.updateState=1;let a=this.viewport,c=this.viewState.lineBlockAtHeight(o),u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(g=>{try{return g.read(this)}catch(O){return st(this.state,O),wu}}),d=Ls.create(this,this.state,[]),p=!1,y=!1;d.flags|=u,t?t.flags|=u:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d));for(let g=0;g<h.length;g++)if(f[g]!=wu)try{let O=h[g];O.write&&O.write(f[g],this)}catch(O){st(this.state,O)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,y=!0;else{let g=this.viewState.lineBlockAt(c.from).top-c.top;(g>1||g<-1)&&(this.scrollDOM.scrollTop+=g,y=!0)}if(p&&this.docView.updateSelection(!0),this.viewport.from==a.from&&this.viewport.to==a.to&&!y&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(jl))l(t)}get themeClasses(){return Jl+" "+(this.state.facet(Hl)?rp:ip)+" "+this.state.facet(Jr)}updateAttrs(){let e=Eu(this,Vd,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Eo)?"true":"false",class:"cm-content",style:`${M.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Eu(this,qa,t);let i=this.observer.ignore(()=>{let r=Bl(this.contentDOM,this.contentAttrs,t),s=Bl(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(V.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Ji),xn.mount(this.root,this.styleModules.concat(ov).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Go(this,e,uu(this,e,t,i))}moveByGroup(e,t){return Go(this,e,uu(this,e,t,i=>Ry(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return Cy(this,e,t,i)}moveVertically(e,t,i){return Go(this,e,_y(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Xd(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[yi.find(s,e-r.from,-1,t)];return Fa(i,o.dir==Se.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ld)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>pv)return Ud(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=vy(e.text,t);return this.bidiCache.push(new Vs(e.from,e.to,t,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||M.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{bd(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return tu.of(new Ms(typeof e=="number"?x.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return mt.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=xn.newName(),r=[Jr.of(i),Ji.of(Zl(`.${i}`,e))];return t&&t.dark&&r.push(Hl.of(!0)),r}static baseTheme(e){return So.lowest(Ji.of(Zl("."+Jl,e,sp)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&le.get(i)||le.get(e);return((t=r?.rootView)===null||t===void 0?void 0:t.view)||null}}V.styleModule=Ji;V.inputHandler=Md;V.perLineTextDirection=Ld;V.exceptionSink=Qd;V.updateListener=jl;V.editable=Eo;V.mouseSelectionStyle=Yd;V.dragMovesSelection=_d;V.clickAddsSelectionRange=Rd;V.decorations=mr;V.atomicRanges=$d;V.scrollMargins=Fd;V.darkTheme=Hl;V.contentAttributes=qa;V.editorAttributes=Vd;V.lineWrapping=V.contentAttributes.of({class:"cm-lineWrapping"});V.announce=q.define();const pv=4096,wu={};class Vs{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:Se.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&i.push(new Vs(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return i}}function Eu(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(n):s;o&&Fl(o,t)}return t}const mv=M.mac?"mac":M.windows?"win":M.linux?"linux":"key";function gv(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,o,l;for(let a=0;a<t.length-1;++a){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),l&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Zr(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const yv=So.default(V.domEventHandlers({keydown(n,e){return Tv(vv(e.state),n,e,"editor")}})),za=L.define({enables:yv}),xu=new WeakMap;function vv(n){let e=n.facet(za),t=xu.get(e);return t||xu.set(e,t=bv(e.reduce((i,r)=>i.concat(r),[]))),t}let vn=null;const Ov=4e3;function bv(n,e=mv){let t=Object.create(null),i=Object.create(null),r=(o,l)=>{let a=i[o];if(a==null)i[o]=l;else if(a!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,a,c)=>{var u,h;let f=t[o]||(t[o]=Object.create(null)),d=l.split(/ (?!$)/).map(g=>gv(g,e));for(let g=1;g<d.length;g++){let O=d.slice(0,g).join(" ");r(O,!0),f[O]||(f[O]={preventDefault:!0,run:[w=>{let k=vn={view:w,prefix:O,scope:o};return setTimeout(()=>{vn==k&&(vn=null)},Ov),!0}]})}let p=d.join(" ");r(p,!1);let y=f[p]||(f[p]={preventDefault:!1,run:((h=(u=f._any)===null||u===void 0?void 0:u.run)===null||h===void 0?void 0:h.slice())||[]});a&&y.run.push(a),c&&(y.preventDefault=!0)};for(let o of n){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of l){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,run:[]});for(let h in u)u[h].run.push(o.any)}let a=o[e]||o.key;if(a)for(let c of l)s(c,a,o.run,o.preventDefault),o.shift&&s(c,"Shift-"+a,o.shift,o.preventDefault)}return t}function Tv(n,e,t,i){let r=K0(e),s=je(r,0),o=ct(s)==r.length&&r!=" ",l="",a=!1;vn&&vn.view==t&&vn.scope==i&&(l=vn.prefix+" ",(a=Hd.indexOf(e.keyCode)<0)&&(vn=null));let c=new Set,u=p=>{if(p){for(let y of p.run)if(!c.has(y)&&(c.add(y),y(t,e)))return!0;p.preventDefault&&(a=!0)}return!1},h=n[i],f,d;if(h){if(u(h[l+Zr(r,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(M.windows&&e.ctrlKey&&e.altKey)&&(f=Nn[e.keyCode])&&f!=r){if(u(h[l+Zr(f,e,!0)]))return!0;if(e.shiftKey&&(d=fr[e.keyCode])!=r&&d!=f&&u(h[l+Zr(d,e,!1)]))return!0}else if(o&&e.shiftKey&&u(h[l+Zr(r,e,!0)]))return!0;if(u(h._any))return!0}return a}const Sv=!M.ios,kv={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Sv&&(kv[".cm-line"].caretColor="transparent !important");const Kr="-10000px";class lp{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e){var t;let i=e.state.facet(this.facet),r=i.filter(o=>o);if(i===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<r.length;o++){let l=r[o],a=-1;if(l){for(let c=0;c<this.tooltips.length;c++){let u=this.tooltips[c];u&&u.create==l.create&&(a=c)}if(a<0)s[o]=this.createTooltipView(l);else{let c=s[o]=this.tooltipViews[a];c.update&&c.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(t=o.destroy)===null||t===void 0||t.call(o));return this.input=i,this.tooltips=r,this.tooltipViews=s,!0}}function wv(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Wo=L.define({combine:n=>{var e,t,i;return{position:M.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||wv}}}),Nu=new WeakMap,ap=mt.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Wo);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new lp(n,Xa,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Wo);if(i.position!=this.position){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Kr,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(n=t.destroy)===null||n===void 0||n.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(Wo).tooltipSpace(this.view)}}writeMeasure(n){var e;let{editor:t,space:i}=n,r=[];for(let s=0;s<this.manager.tooltips.length;s++){let o=this.manager.tooltips[s],l=this.manager.tooltipViews[s],{dom:a}=l,c=n.pos[s],u=n.size[s];if(!c||c.bottom<=Math.max(t.top,i.top)||c.top>=Math.min(t.bottom,i.bottom)||c.right<Math.max(t.left,i.left)-.1||c.left>Math.min(t.right,i.right)+.1){a.style.top=Kr;continue}let h=o.arrow?l.dom.querySelector(".cm-tooltip-arrow"):null,f=h?7:0,d=u.right-u.left,p=(e=Nu.get(l))!==null&&e!==void 0?e:u.bottom-u.top,y=l.offset||xv,g=this.view.textDirection==Se.LTR,O=u.width>i.right-i.left?g?i.left:i.right-u.width:g?Math.min(c.left-(h?14:0)+y.x,i.right-d):Math.max(i.left,c.left-d+(h?14:0)-y.x),w=!!o.above;!o.strictSide&&(w?c.top-(u.bottom-u.top)-y.y<i.top:c.bottom+(u.bottom-u.top)+y.y>i.bottom)&&w==i.bottom-c.bottom>c.top-i.top&&(w=!w);let k=(w?c.top-i.top:i.bottom-c.bottom)-f;if(k<p&&l.resize!==!1){if(k<this.view.defaultLineHeight){a.style.top=Kr;continue}Nu.set(l,p),a.style.height=(p=k)+"px"}else a.style.height&&(a.style.height="");let A=w?c.top-p-f-y.y:c.bottom+f+y.y,R=O+d;if(l.overlap!==!0)for(let _ of r)_.left<R&&_.right>O&&_.top<A+p&&_.bottom>A&&(A=w?_.top-p-2-f:_.bottom+f+2);this.position=="absolute"?(a.style.top=A-n.parent.top+"px",a.style.left=O-n.parent.left+"px"):(a.style.top=A+"px",a.style.left=O+"px"),h&&(h.style.left=`${c.left+(g?y.x:-y.x)-(O+14-7)}px`),l.overlap!==!0&&r.push({left:O,top:A,right:R,bottom:A+p}),a.classList.toggle("cm-tooltip-above",w),a.classList.toggle("cm-tooltip-below",!w),l.positioned&&l.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Kr}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Ev=V.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),xv={x:0,y:0},Xa=L.define({enables:[ap,Ev]}),$s=L.define();class Wa{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new lp(e,$s,t=>this.createHostedView(t))}static create(e){return new Wa(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}}const Nv=Xa.compute([$s],n=>{let e=n.facet($s).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:Wa.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Av{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let i=this.view.coordsAtPos(t);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(l=>l.from<=t&&l.to>=t),s=r&&r.dir==Se.RTL?-1:1,o=this.source(this.view,t,e.x<i.left?-s:s);if(o?.then){let l=this.pending={pos:t};o.then(a=>{this.pending==l&&(this.pending=null,a&&this.view.dispatch({effects:this.setHover.of(a)}))},a=>st(this.view.state,a,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!Au(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,s=(t=i?.end)!==null&&t!==void 0?t:r;(r==s?this.view.posAtCoords(this.lastMove)!=r:!Dv(this.view,r,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Au(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Au(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Dv(n,e,t,i,r,s){let o=document.createRange(),l=n.domAtPos(e),a=n.domAtPos(t);o.setEnd(a.node,a.offset),o.setStart(l.node,l.offset);let c=o.getClientRects();o.detach();for(let u=0;u<c.length;u++){let h=c[u];if(Math.max(h.top-r,r-h.bottom,h.left-i,i-h.right)<=s)return!0}return!1}function Iv(n,e={}){let t=q.define(),i=We.define({create(){return null},update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,qe.TrackDel);if(o==null)return null;let l=Object.assign(Object.create(null),r);l.pos=o,r.end!=null&&(l.end=s.changes.mapPos(r.end)),r=l}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(Cv)&&(r=null);return r},provide:r=>$s.from(r)});return[i,mt.define(r=>new Av(r,n,i,t,e.hoverTime||300)),Nv]}function Pv(n,e){let t=n.plugin(ap);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const Cv=q.define(),Du=L.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}}),Rv=mt.fromClass(class{constructor(n){this.input=n.state.facet(Kl),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(Du);this.top=new es(n,!0,e.topContainer),this.bottom=new es(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(Du);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new es(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new es(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Kl);if(t!=this.input){let i=t.filter(a=>a),r=[],s=[],o=[],l=[];for(let a of i){let c=this.specs.indexOf(a),u;c<0?(u=a(n.view),l.push(u)):(u=this.panels[c],u.update&&u.update(n)),r.push(u),(u.top?s:o).push(u)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>V.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class es{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Iu(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Iu(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Iu(n){let e=n.nextSibling;return n.remove(),e}const Kl=L.define({enables:Rv});class Jn extends Wn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Jn.prototype.elementClass="";Jn.prototype.toDOM=void 0;Jn.prototype.mapMode=qe.TrackBefore;Jn.prototype.startSide=Jn.prototype.endSide=-1;Jn.prototype.point=!0;const Ho=L.define(),ks=L.define(),ea=L.define({combine:n=>n.some(e=>e)});function _v(n){let e=[Yv];return n&&n.fixed===!1&&e.push(ea.of(!0)),e}const Yv=mt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(ks).map(e=>new Cu(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(ea),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ea)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=se.iter(this.view.state.facet(Ho),this.view.viewport.from),i=[],r=this.gutters.map(s=>new Qv(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let o;if(Array.isArray(s.type)){for(let l of s.type)if(l.type==me.Text){o=l;break}}else o=s.type==me.Text?s:void 0;if(o){i.length&&(i=[]),cp(t,i,s.from);for(let l of r)l.line(this.view,o,i)}}for(let s of r)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(ks),t=n.state.facet(ks),i=n.docChanged||n.heightChanged||n.viewportChanged||!se.eq(n.startState.facet(Ho),n.state.facet(Ho),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new Cu(this.view,s)):(this.gutters[o].update(n),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>V.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Se.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Pu(n){return Array.isArray(n)?n:[n]}function cp(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Qv{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=se.iter(e.markers,t.from)}line(e,t,i){let r=[];cp(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;if(r.length==0&&!o.config.renderEmptyElements)return;let l=t.top-this.height;if(this.i==o.elements.length){let a=new up(e,t.height,l,r);o.elements.push(a),o.dom.appendChild(a.dom)}else o.elements[this.i].update(e,t.height,l,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Cu{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let a=s.getBoundingClientRect();o=(a.top+a.bottom)/2}else o=r.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,l,r)&&r.preventDefault()});this.markers=Pu(t.markers(e)),t.initialSpacer&&(this.spacer=new up(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Pu(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!se.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class up{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),Mv(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let l=o,a=s<t.length?t[s++]:null,c=!1;if(a){let u=a.elementClass;u&&(i+=" "+u);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(a)){l=h,c=!0;break}}else l=this.markers.length;for(;o<l;){let u=this.markers[o++];if(u.toDOM){u.destroy(r);let h=r.nextSibling;r.remove(),r=h}}if(!a)break;a.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),c&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function Mv(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const Lv=L.define(),ci=L.define({combine(n){return Pr(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],o=t[r];i[r]=s?(l,a,c)=>s(l,a,c)||o(l,a,c):o}return i}})}});class Jo extends Jn{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Zo(n,e){return n.state.facet(ci).formatNumber(e,n.state)}const Vv=ks.compute([ci],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Lv)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new Jo(Zo(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(ci)!=e.state.facet(ci),initialSpacer(e){return new Jo(Zo(e,Ru(e.state.doc.lines)))},updateSpacer(e,t){let i=Zo(t.view,Ru(t.view.state.doc.lines));return i==e.number?e:new Jo(i)},domEventHandlers:n.facet(ci).domEventHandlers}));function $v(n={}){return[ci.of(n),_v(),Vv]}function Ru(n){let e=9;for(;e<n;)e=e*10+9;return e}function X(n,e){if(!Boolean(n))throw new Error(e)}function hn(n){return typeof n=="object"&&n!==null}function ot(n,e){if(!Boolean(n))throw new Error(e??"Unexpected invariant triggered.")}const Fv=/\r\n|[\n\r]/g;function ta(n,e){let t=0,i=1;for(const r of n.body.matchAll(Fv)){if(typeof r.index=="number"||ot(!1),r.index>=e)break;t=r.index+r[0].length,i+=1}return{line:i,column:e+1-t}}function Bv(n){return hp(n.source,ta(n.source,n.start))}function hp(n,e){const t=n.locationOffset.column-1,i="".padStart(t)+n.body,r=e.line-1,s=n.locationOffset.line-1,o=e.line+s,l=e.line===1?t:0,a=e.column+l,c=`${n.name}:${o}:${a}
`,u=i.split(/\r\n|[\n\r]/g),h=u[r];if(h.length>120){const f=Math.floor(a/80),d=a%80,p=[];for(let y=0;y<h.length;y+=80)p.push(h.slice(y,y+80));return c+_u([[`${o} |`,p[0]],...p.slice(1,f+1).map(y=>["|",y]),["|","^".padStart(d)],["|",p[f+1]]])}return c+_u([[`${o-1} |`,u[r-1]],[`${o} |`,h],["|","^".padStart(a)],[`${o+1} |`,u[r+1]]])}function _u(n){const e=n.filter(([i,r])=>r!==void 0),t=Math.max(...e.map(([i])=>i.length));return e.map(([i,r])=>i.padStart(t)+(r?" "+r:"")).join(`
`)}function Uv(n){const e=n[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:n[1],positions:n[2],path:n[3],originalError:n[4],extensions:n[5]}:e}class E extends Error{constructor(e,...t){var i,r,s;const{nodes:o,source:l,positions:a,path:c,originalError:u,extensions:h}=Uv(t);super(e),this.name="GraphQLError",this.path=c??void 0,this.originalError=u??void 0,this.nodes=Yu(Array.isArray(o)?o:o?[o]:void 0);const f=Yu((i=this.nodes)===null||i===void 0?void 0:i.map(p=>p.loc).filter(p=>p!=null));this.source=l??(f==null||(r=f[0])===null||r===void 0?void 0:r.source),this.positions=a??f?.map(p=>p.start),this.locations=a&&l?a.map(p=>ta(l,p)):f?.map(p=>ta(p.source,p.start));const d=hn(u?.extensions)?u?.extensions:void 0;this.extensions=(s=h??d)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,E):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+=`

`+Bv(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+=`

`+hp(this.source,t);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Yu(n){return n===void 0||n.length===0?void 0:n}function De(n,e,t){return new E(`Syntax Error: ${t}`,{source:n,positions:[e]})}let jv=class{constructor(e,t,i){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}};class fp{constructor(e,t,i,r,s,o){this.kind=e,this.start=t,this.end=i,this.line=r,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const dp={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},qv=new Set(Object.keys(dp));function na(n){const e=n?.kind;return typeof e=="string"&&qv.has(e)}var ze;(function(n){n.QUERY="query",n.MUTATION="mutation",n.SUBSCRIPTION="subscription"})(ze||(ze={}));var Y;(function(n){n.QUERY="QUERY",n.MUTATION="MUTATION",n.SUBSCRIPTION="SUBSCRIPTION",n.FIELD="FIELD",n.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",n.FRAGMENT_SPREAD="FRAGMENT_SPREAD",n.INLINE_FRAGMENT="INLINE_FRAGMENT",n.VARIABLE_DEFINITION="VARIABLE_DEFINITION",n.SCHEMA="SCHEMA",n.SCALAR="SCALAR",n.OBJECT="OBJECT",n.FIELD_DEFINITION="FIELD_DEFINITION",n.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",n.INTERFACE="INTERFACE",n.UNION="UNION",n.ENUM="ENUM",n.ENUM_VALUE="ENUM_VALUE",n.INPUT_OBJECT="INPUT_OBJECT",n.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Y||(Y={}));var m;(function(n){n.NAME="Name",n.DOCUMENT="Document",n.OPERATION_DEFINITION="OperationDefinition",n.VARIABLE_DEFINITION="VariableDefinition",n.SELECTION_SET="SelectionSet",n.FIELD="Field",n.ARGUMENT="Argument",n.FRAGMENT_SPREAD="FragmentSpread",n.INLINE_FRAGMENT="InlineFragment",n.FRAGMENT_DEFINITION="FragmentDefinition",n.VARIABLE="Variable",n.INT="IntValue",n.FLOAT="FloatValue",n.STRING="StringValue",n.BOOLEAN="BooleanValue",n.NULL="NullValue",n.ENUM="EnumValue",n.LIST="ListValue",n.OBJECT="ObjectValue",n.OBJECT_FIELD="ObjectField",n.DIRECTIVE="Directive",n.NAMED_TYPE="NamedType",n.LIST_TYPE="ListType",n.NON_NULL_TYPE="NonNullType",n.SCHEMA_DEFINITION="SchemaDefinition",n.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",n.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",n.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",n.FIELD_DEFINITION="FieldDefinition",n.INPUT_VALUE_DEFINITION="InputValueDefinition",n.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",n.UNION_TYPE_DEFINITION="UnionTypeDefinition",n.ENUM_TYPE_DEFINITION="EnumTypeDefinition",n.ENUM_VALUE_DEFINITION="EnumValueDefinition",n.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",n.DIRECTIVE_DEFINITION="DirectiveDefinition",n.SCHEMA_EXTENSION="SchemaExtension",n.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",n.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",n.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",n.UNION_TYPE_EXTENSION="UnionTypeExtension",n.ENUM_TYPE_EXTENSION="EnumTypeExtension",n.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(m||(m={}));function ia(n){return n===9||n===32}function gr(n){return n>=48&&n<=57}function pp(n){return n>=97&&n<=122||n>=65&&n<=90}function Ha(n){return pp(n)||n===95}function mp(n){return pp(n)||gr(n)||n===95}function Gv(n){var e;let t=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let o=0;o<n.length;++o){var s;const l=n[o],a=zv(l);a!==l.length&&(i=(s=i)!==null&&s!==void 0?s:o,r=o,o!==0&&a<t&&(t=a))}return n.map((o,l)=>l===0?o:o.slice(t)).slice((e=i)!==null&&e!==void 0?e:0,r+1)}function zv(n){let e=0;for(;e<n.length&&ia(n.charCodeAt(e));)++e;return e}function Xv(n,e){const t=n.replace(/"""/g,'\\"""'),i=t.split(/\r\n|[\n\r]/g),r=i.length===1,s=i.length>1&&i.slice(1).every(d=>d.length===0||ia(d.charCodeAt(0))),o=t.endsWith('\\"""'),l=n.endsWith('"')&&!o,a=n.endsWith("\\"),c=l||a,u=!(e!=null&&e.minimize)&&(!r||n.length>70||c||s||o);let h="";const f=r&&ia(n.charCodeAt(0));return(u&&!f||s)&&(h+=`
`),h+=t,(u||c)&&(h+=`
`),'"""'+h+'"""'}var T;(function(n){n.SOF="<SOF>",n.EOF="<EOF>",n.BANG="!",n.DOLLAR="$",n.AMP="&",n.PAREN_L="(",n.PAREN_R=")",n.SPREAD="...",n.COLON=":",n.EQUALS="=",n.AT="@",n.BRACKET_L="[",n.BRACKET_R="]",n.BRACE_L="{",n.PIPE="|",n.BRACE_R="}",n.NAME="Name",n.INT="Int",n.FLOAT="Float",n.STRING="String",n.BLOCK_STRING="BlockString",n.COMMENT="Comment"})(T||(T={}));class Wv{constructor(e){const t=new fp(T.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==T.EOF)do if(e.next)e=e.next;else{const t=Jv(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===T.COMMENT);return e}}function Hv(n){return n===T.BANG||n===T.DOLLAR||n===T.AMP||n===T.PAREN_L||n===T.PAREN_R||n===T.SPREAD||n===T.COLON||n===T.EQUALS||n===T.AT||n===T.BRACKET_L||n===T.BRACKET_R||n===T.BRACE_L||n===T.PIPE||n===T.BRACE_R}function Fi(n){return n>=0&&n<=55295||n>=57344&&n<=1114111}function xo(n,e){return gp(n.charCodeAt(e))&&yp(n.charCodeAt(e+1))}function gp(n){return n>=55296&&n<=56319}function yp(n){return n>=56320&&n<=57343}function Zn(n,e){const t=n.source.body.codePointAt(e);if(t===void 0)return T.EOF;if(t>=32&&t<=126){const i=String.fromCodePoint(t);return i==='"'?`'"'`:`"${i}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function ve(n,e,t,i,r){const s=n.line,o=1+t-n.lineStart;return new fp(e,t,i,s,o,r)}function Jv(n,e){const t=n.source.body,i=t.length;let r=e;for(;r<i;){const s=t.charCodeAt(r);switch(s){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++n.line,n.lineStart=r;continue;case 13:t.charCodeAt(r+1)===10?r+=2:++r,++n.line,n.lineStart=r;continue;case 35:return Zv(n,r);case 33:return ve(n,T.BANG,r,r+1);case 36:return ve(n,T.DOLLAR,r,r+1);case 38:return ve(n,T.AMP,r,r+1);case 40:return ve(n,T.PAREN_L,r,r+1);case 41:return ve(n,T.PAREN_R,r,r+1);case 46:if(t.charCodeAt(r+1)===46&&t.charCodeAt(r+2)===46)return ve(n,T.SPREAD,r,r+3);break;case 58:return ve(n,T.COLON,r,r+1);case 61:return ve(n,T.EQUALS,r,r+1);case 64:return ve(n,T.AT,r,r+1);case 91:return ve(n,T.BRACKET_L,r,r+1);case 93:return ve(n,T.BRACKET_R,r,r+1);case 123:return ve(n,T.BRACE_L,r,r+1);case 124:return ve(n,T.PIPE,r,r+1);case 125:return ve(n,T.BRACE_R,r,r+1);case 34:return t.charCodeAt(r+1)===34&&t.charCodeAt(r+2)===34?rO(n,r):eO(n,r)}if(gr(s)||s===45)return Kv(n,r,s);if(Ha(s))return sO(n,r);throw De(n.source,r,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Fi(s)||xo(t,r)?`Unexpected character: ${Zn(n,r)}.`:`Invalid character: ${Zn(n,r)}.`)}return ve(n,T.EOF,i,i)}function Zv(n,e){const t=n.source.body,i=t.length;let r=e+1;for(;r<i;){const s=t.charCodeAt(r);if(s===10||s===13)break;if(Fi(s))++r;else if(xo(t,r))r+=2;else break}return ve(n,T.COMMENT,e,r,t.slice(e+1,r))}function Kv(n,e,t){const i=n.source.body;let r=e,s=t,o=!1;if(s===45&&(s=i.charCodeAt(++r)),s===48){if(s=i.charCodeAt(++r),gr(s))throw De(n.source,r,`Invalid number, unexpected digit after 0: ${Zn(n,r)}.`)}else r=Ko(n,r,s),s=i.charCodeAt(r);if(s===46&&(o=!0,s=i.charCodeAt(++r),r=Ko(n,r,s),s=i.charCodeAt(r)),(s===69||s===101)&&(o=!0,s=i.charCodeAt(++r),(s===43||s===45)&&(s=i.charCodeAt(++r)),r=Ko(n,r,s),s=i.charCodeAt(r)),s===46||Ha(s))throw De(n.source,r,`Invalid number, expected digit but got: ${Zn(n,r)}.`);return ve(n,o?T.FLOAT:T.INT,e,r,i.slice(e,r))}function Ko(n,e,t){if(!gr(t))throw De(n.source,e,`Invalid number, expected digit but got: ${Zn(n,e)}.`);const i=n.source.body;let r=e+1;for(;gr(i.charCodeAt(r));)++r;return r}function eO(n,e){const t=n.source.body,i=t.length;let r=e+1,s=r,o="";for(;r<i;){const l=t.charCodeAt(r);if(l===34)return o+=t.slice(s,r),ve(n,T.STRING,e,r+1,o);if(l===92){o+=t.slice(s,r);const a=t.charCodeAt(r+1)===117?t.charCodeAt(r+2)===123?tO(n,r):nO(n,r):iO(n,r);o+=a.value,r+=a.size,s=r;continue}if(l===10||l===13)break;if(Fi(l))++r;else if(xo(t,r))r+=2;else throw De(n.source,r,`Invalid character within String: ${Zn(n,r)}.`)}throw De(n.source,r,"Unterminated string.")}function tO(n,e){const t=n.source.body;let i=0,r=3;for(;r<12;){const s=t.charCodeAt(e+r++);if(s===125){if(r<5||!Fi(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|Ki(s),i<0)break}throw De(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+r)}".`)}function nO(n,e){const t=n.source.body,i=Qu(t,e+2);if(Fi(i))return{value:String.fromCodePoint(i),size:6};if(gp(i)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){const r=Qu(t,e+8);if(yp(r))return{value:String.fromCodePoint(i,r),size:12}}throw De(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function Qu(n,e){return Ki(n.charCodeAt(e))<<12|Ki(n.charCodeAt(e+1))<<8|Ki(n.charCodeAt(e+2))<<4|Ki(n.charCodeAt(e+3))}function Ki(n){return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:-1}function iO(n,e){const t=n.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw De(n.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function rO(n,e){const t=n.source.body,i=t.length;let r=n.lineStart,s=e+3,o=s,l="";const a=[];for(;s<i;){const c=t.charCodeAt(s);if(c===34&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34){l+=t.slice(o,s),a.push(l);const u=ve(n,T.BLOCK_STRING,e,s+3,Gv(a).join(`
`));return n.line+=a.length-1,n.lineStart=r,u}if(c===92&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34&&t.charCodeAt(s+3)===34){l+=t.slice(o,s),o=s+1,s+=4;continue}if(c===10||c===13){l+=t.slice(o,s),a.push(l),c===13&&t.charCodeAt(s+1)===10?s+=2:++s,l="",o=s,r=s;continue}if(Fi(c))++s;else if(xo(t,s))s+=2;else throw De(n.source,s,`Invalid character within String: ${Zn(n,s)}.`)}throw De(n.source,s,"Unterminated string.")}function sO(n,e){const t=n.source.body,i=t.length;let r=e+1;for(;r<i;){const s=t.charCodeAt(r);if(mp(s))++r;else break}return ve(n,T.NAME,e,r,t.slice(e,r))}const oO=10,vp=2;function D(n){return No(n,[])}function No(n,e){switch(typeof n){case"string":return JSON.stringify(n);case"function":return n.name?`[function ${n.name}]`:"[function]";case"object":return lO(n,e);default:return String(n)}}function lO(n,e){if(n===null)return"null";if(e.includes(n))return"[Circular]";const t=[...e,n];if(aO(n)){const i=n.toJSON();if(i!==n)return typeof i=="string"?i:No(i,t)}else if(Array.isArray(n))return uO(n,t);return cO(n,t)}function aO(n){return typeof n.toJSON=="function"}function cO(n,e){const t=Object.entries(n);return t.length===0?"{}":e.length>vp?"["+hO(n)+"]":"{ "+t.map(([r,s])=>r+": "+No(s,e)).join(", ")+" }"}function uO(n,e){if(n.length===0)return"[]";if(e.length>vp)return"[Array]";const t=Math.min(oO,n.length),i=n.length-t,r=[];for(let s=0;s<t;++s)r.push(No(n[s],e));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function hO(n){const e=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof n.constructor=="function"){const t=n.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}const _t=function(e,t){return e instanceof t};class Op{constructor(e,t="GraphQL request",i={line:1,column:1}){typeof e=="string"||X(!1,`Body must be a string. Received: ${D(e)}.`),this.body=e,this.name=t,this.locationOffset=i,this.locationOffset.line>0||X(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||X(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function fO(n){return _t(n,Op)}function Ja(n,e){return new bp(n,e).parseDocument()}function dO(n,e){const t=new bp(n,e);t.expectToken(T.SOF);const i=t.parseValueLiteral(!1);return t.expectToken(T.EOF),i}let bp=class{constructor(e,t={}){const i=fO(e)?e:new Op(e);this._lexer=new Wv(i),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(T.NAME);return this.node(e,{kind:m.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:m.DOCUMENT,definitions:this.many(T.SOF,this.parseDefinition,T.EOF)})}parseDefinition(){if(this.peek(T.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===T.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw De(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(T.BRACE_L))return this.node(e,{kind:m.OPERATION_DEFINITION,operation:ze.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let i;return this.peek(T.NAME)&&(i=this.parseName()),this.node(e,{kind:m.OPERATION_DEFINITION,operation:t,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(T.NAME);switch(e.value){case"query":return ze.QUERY;case"mutation":return ze.MUTATION;case"subscription":return ze.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(T.PAREN_L,this.parseVariableDefinition,T.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:m.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(T.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(T.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(T.DOLLAR),this.node(e,{kind:m.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:m.SELECTION_SET,selections:this.many(T.BRACE_L,this.parseSelection,T.BRACE_R)})}parseSelection(){return this.peek(T.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let i,r;return this.expectOptionalToken(T.COLON)?(i=t,r=this.parseName()):r=t,this.node(e,{kind:m.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(T.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(T.PAREN_L,t,T.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,i=this.parseName();return this.expectToken(T.COLON),this.node(t,{kind:m.ARGUMENT,name:i,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(T.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(T.NAME)?this.node(e,{kind:m.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:m.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:m.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:m.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case T.BRACKET_L:return this.parseList(e);case T.BRACE_L:return this.parseObject(e);case T.INT:return this.advanceLexer(),this.node(t,{kind:m.INT,value:t.value});case T.FLOAT:return this.advanceLexer(),this.node(t,{kind:m.FLOAT,value:t.value});case T.STRING:case T.BLOCK_STRING:return this.parseStringLiteral();case T.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:m.BOOLEAN,value:!0});case"false":return this.node(t,{kind:m.BOOLEAN,value:!1});case"null":return this.node(t,{kind:m.NULL});default:return this.node(t,{kind:m.ENUM,value:t.value})}case T.DOLLAR:if(e)if(this.expectToken(T.DOLLAR),this._lexer.token.kind===T.NAME){const i=this._lexer.token.value;throw De(this._lexer.source,t.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:m.STRING,value:e.value,block:e.kind===T.BLOCK_STRING})}parseList(e){const t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:m.LIST,values:this.any(T.BRACKET_L,t,T.BRACKET_R)})}parseObject(e){const t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:m.OBJECT,fields:this.any(T.BRACE_L,t,T.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,i=this.parseName();return this.expectToken(T.COLON),this.node(t,{kind:m.OBJECT_FIELD,name:i,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(T.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(T.AT),this.node(t,{kind:m.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(T.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(T.BRACKET_R),t=this.node(e,{kind:m.LIST_TYPE,type:i})}else t=this.parseNamedType();return this.expectOptionalToken(T.BANG)?this.node(e,{kind:m.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:m.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(T.STRING)||this.peek(T.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(T.BRACE_L,this.parseOperationTypeDefinition,T.BRACE_R);return this.node(e,{kind:m.SCHEMA_DEFINITION,description:t,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(T.COLON);const i=this.parseNamedType();return this.node(e,{kind:m.OPERATION_TYPE_DEFINITION,operation:t,type:i})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:m.SCALAR_TYPE_DEFINITION,description:t,name:i,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:m.OBJECT_TYPE_DEFINITION,description:t,name:i,interfaces:r,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(T.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(T.BRACE_L,this.parseFieldDefinition,T.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(T.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:m.FIELD_DEFINITION,description:t,name:i,arguments:r,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(T.PAREN_L,this.parseInputValueDef,T.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),i=this.parseName();this.expectToken(T.COLON);const r=this.parseTypeReference();let s;this.expectOptionalToken(T.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:m.INPUT_VALUE_DEFINITION,description:t,name:i,type:r,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:m.INTERFACE_TYPE_DEFINITION,description:t,name:i,interfaces:r,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:m.UNION_TYPE_DEFINITION,description:t,name:i,directives:r,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(T.EQUALS)?this.delimitedMany(T.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:m.ENUM_TYPE_DEFINITION,description:t,name:i,directives:r,values:s})}parseEnumValuesDefinition(){return this.optionalMany(T.BRACE_L,this.parseEnumValueDefinition,T.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:m.ENUM_VALUE_DEFINITION,description:t,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw De(this._lexer.source,this._lexer.token.start,`${ts(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:m.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:i,directives:r,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(T.BRACE_L,this.parseInputValueDef,T.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===T.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),i=this.optionalMany(T.BRACE_L,this.parseOperationTypeDefinition,T.BRACE_R);if(t.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:m.SCHEMA_EXTENSION,directives:t,operationTypes:i})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(e,{kind:m.SCALAR_TYPE_EXTENSION,name:t,directives:i})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:m.OBJECT_TYPE_EXTENSION,name:t,interfaces:i,directives:r,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:m.INTERFACE_TYPE_EXTENSION,name:t,interfaces:i,directives:r,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:m.UNION_TYPE_EXTENSION,name:t,directives:i,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:m.ENUM_TYPE_EXTENSION,name:t,directives:i,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:m.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:i,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(T.AT);const i=this.parseName(),r=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:m.DIRECTIVE_DEFINITION,description:t,name:i,arguments:r,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(T.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(Y,t.value))return t;throw this.unexpected(e)}node(e,t){return this._options.noLocation!==!0&&(t.loc=new jv(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw De(this._lexer.source,t.start,`Expected ${Tp(e)}, found ${ts(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const t=this._lexer.token;if(t.kind===T.NAME&&t.value===e)this.advanceLexer();else throw De(this._lexer.source,t.start,`Expected "${e}", found ${ts(t)}.`)}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===T.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const t=e??this._lexer.token;return De(this._lexer.source,t.start,`Unexpected ${ts(t)}.`)}any(e,t,i){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(i);)r.push(t.call(this));return r}optionalMany(e,t,i){if(this.expectOptionalToken(e)){const r=[];do r.push(t.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(e,t,i){this.expectToken(e);const r=[];do r.push(t.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(e,t){this.expectOptionalToken(e);const i=[];do i.push(t.call(this));while(this.expectOptionalToken(e));return i}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(e!==void 0&&t.kind!==T.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw De(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function ts(n){const e=n.value;return Tp(n.kind)+(e!=null?` "${e}"`:"")}function Tp(n){return Hv(n)?`"${n}"`:n}const pO=5;function Dn(n,e){const[t,i]=e?[n,e]:[void 0,n];let r=" Did you mean ";t&&(r+=t+" ");const s=i.map(a=>`"${a}"`);switch(s.length){case 0:return"";case 1:return r+s[0]+"?";case 2:return r+s[0]+" or "+s[1]+"?"}const o=s.slice(0,pO),l=o.pop();return r+o.join(", ")+", or "+l+"?"}function Mu(n){return n}function Di(n,e){const t=Object.create(null);for(const i of n)t[e(i)]=i;return t}function $n(n,e,t){const i=Object.create(null);for(const r of n)i[e(r)]=t(r);return i}function Ao(n,e){const t=Object.create(null);for(const i of Object.keys(n))t[i]=e(n[i],i);return t}function Za(n,e){let t=0,i=0;for(;t<n.length&&i<e.length;){let r=n.charCodeAt(t),s=e.charCodeAt(i);if(ns(r)&&ns(s)){let o=0;do++t,o=o*10+r-ra,r=n.charCodeAt(t);while(ns(r)&&o>0);let l=0;do++i,l=l*10+s-ra,s=e.charCodeAt(i);while(ns(s)&&l>0);if(o<l)return-1;if(o>l)return 1}else{if(r<s)return-1;if(r>s)return 1;++t,++i}}return n.length-e.length}const ra=48,mO=57;function ns(n){return!isNaN(n)&&ra<=n&&n<=mO}function ti(n,e){const t=Object.create(null),i=new gO(n),r=Math.floor(n.length*.4)+1;for(const s of e){const o=i.measure(s,r);o!==void 0&&(t[s]=o)}return Object.keys(t).sort((s,o)=>{const l=t[s]-t[o];return l!==0?l:Za(s,o)})}class gO{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=Lu(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,t){if(this._input===e)return 0;const i=e.toLowerCase();if(this._inputLowerCase===i)return 1;let r=Lu(i),s=this._inputArray;if(r.length<s.length){const u=r;r=s,s=u}const o=r.length,l=s.length;if(o-l>t)return;const a=this._rows;for(let u=0;u<=l;u++)a[0][u]=u;for(let u=1;u<=o;u++){const h=a[(u-1)%3],f=a[u%3];let d=f[0]=u;for(let p=1;p<=l;p++){const y=r[u-1]===s[p-1]?0:1;let g=Math.min(h[p]+1,f[p-1]+1,h[p-1]+y);if(u>1&&p>1&&r[u-1]===s[p-2]&&r[u-2]===s[p-1]){const O=a[(u-2)%3][p-2];g=Math.min(g,O+1)}g<d&&(d=g),f[p]=g}if(d>t)return}const c=a[o%3][l];return c<=t?c:void 0}}function Lu(n){const e=n.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i);return t}function Ot(n){if(n==null)return Object.create(null);if(Object.getPrototypeOf(n)===null)return n;const e=Object.create(null);for(const[t,i]of Object.entries(n))e[t]=i;return e}function yO(n){return`"${n.replace(vO,OO)}"`}const vO=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function OO(n){return bO[n.charCodeAt(0)]}const bO=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],ui=Object.freeze({});function _r(n,e,t=dp){const i=new Map;for(const O of Object.values(m))i.set(O,Fs(e,O));let r,s=Array.isArray(n),o=[n],l=-1,a=[],c=n,u,h;const f=[],d=[];do{l++;const O=l===o.length,w=O&&a.length!==0;if(O){if(u=d.length===0?void 0:f[f.length-1],c=h,h=d.pop(),w)if(s){c=c.slice();let A=0;for(const[R,_]of a){const I=R-A;_===null?(c.splice(I,1),A++):c[I]=_}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[A,R]of a)c[A]=R}l=r.index,o=r.keys,a=r.edits,s=r.inArray,r=r.prev}else if(h){if(u=s?l:o[l],c=h[u],c==null)continue;f.push(u)}let k;if(!Array.isArray(c)){var p,y;na(c)||X(!1,`Invalid AST Node: ${D(c)}.`);const A=O?(p=i.get(c.kind))===null||p===void 0?void 0:p.leave:(y=i.get(c.kind))===null||y===void 0?void 0:y.enter;if(k=A?.call(e,c,u,h,f,d),k===ui)break;if(k===!1){if(!O){f.pop();continue}}else if(k!==void 0&&(a.push([u,k]),!O))if(na(k))c=k;else{f.pop();continue}}if(k===void 0&&w&&a.push([u,c]),O)f.pop();else{var g;r={inArray:s,index:l,keys:o,edits:a,prev:r},s=Array.isArray(c),o=s?c:(g=t[c.kind])!==null&&g!==void 0?g:[],l=-1,a=[],h&&d.push(h),h=c}}while(r!==void 0);return a.length!==0?a[a.length-1][1]:n}function TO(n){const e=new Array(n.length).fill(null),t=Object.create(null);for(const i of Object.values(m)){let r=!1;const s=new Array(n.length).fill(void 0),o=new Array(n.length).fill(void 0);for(let a=0;a<n.length;++a){const{enter:c,leave:u}=Fs(n[a],i);r||(r=c!=null||u!=null),s[a]=c,o[a]=u}if(!r)continue;const l={enter(...a){const c=a[0];for(let h=0;h<n.length;h++)if(e[h]===null){var u;const f=(u=s[h])===null||u===void 0?void 0:u.apply(n[h],a);if(f===!1)e[h]=c;else if(f===ui)e[h]=ui;else if(f!==void 0)return f}},leave(...a){const c=a[0];for(let h=0;h<n.length;h++)if(e[h]===null){var u;const f=(u=o[h])===null||u===void 0?void 0:u.apply(n[h],a);if(f===ui)e[h]=ui;else if(f!==void 0&&f!==!1)return f}else e[h]===c&&(e[h]=null)}};t[i]=l}return t}function Fs(n,e){const t=n[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:n.enter,leave:n.leave}}function Ae(n){return _r(n,kO)}const SO=80,kO={Name:{leave:n=>n.value},Variable:{leave:n=>"$"+n.name},Document:{leave:n=>Q(n.definitions,`

`)},OperationDefinition:{leave(n){const e=U("(",Q(n.variableDefinitions,", "),")"),t=Q([n.operation,Q([n.name,e]),Q(n.directives," ")]," ");return(t==="query"?"":t+" ")+n.selectionSet}},VariableDefinition:{leave:({variable:n,type:e,defaultValue:t,directives:i})=>n+": "+e+U(" = ",t)+U(" ",Q(i," "))},SelectionSet:{leave:({selections:n})=>kt(n)},Field:{leave({alias:n,name:e,arguments:t,directives:i,selectionSet:r}){const s=U("",n,": ")+e;let o=s+U("(",Q(t,", "),")");return o.length>SO&&(o=s+U(`(
`,ws(Q(t,`
`)),`
)`)),Q([o,Q(i," "),r]," ")}},Argument:{leave:({name:n,value:e})=>n+": "+e},FragmentSpread:{leave:({name:n,directives:e})=>"..."+n+U(" ",Q(e," "))},InlineFragment:{leave:({typeCondition:n,directives:e,selectionSet:t})=>Q(["...",U("on ",n),Q(e," "),t]," ")},FragmentDefinition:{leave:({name:n,typeCondition:e,variableDefinitions:t,directives:i,selectionSet:r})=>`fragment ${n}${U("(",Q(t,", "),")")} on ${e} ${U("",Q(i," ")," ")}`+r},IntValue:{leave:({value:n})=>n},FloatValue:{leave:({value:n})=>n},StringValue:{leave:({value:n,block:e})=>e?Xv(n):yO(n)},BooleanValue:{leave:({value:n})=>n?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:n})=>n},ListValue:{leave:({values:n})=>"["+Q(n,", ")+"]"},ObjectValue:{leave:({fields:n})=>"{"+Q(n,", ")+"}"},ObjectField:{leave:({name:n,value:e})=>n+": "+e},Directive:{leave:({name:n,arguments:e})=>"@"+n+U("(",Q(e,", "),")")},NamedType:{leave:({name:n})=>n},ListType:{leave:({type:n})=>"["+n+"]"},NonNullType:{leave:({type:n})=>n+"!"},SchemaDefinition:{leave:({description:n,directives:e,operationTypes:t})=>U("",n,`
`)+Q(["schema",Q(e," "),kt(t)]," ")},OperationTypeDefinition:{leave:({operation:n,type:e})=>n+": "+e},ScalarTypeDefinition:{leave:({description:n,name:e,directives:t})=>U("",n,`
`)+Q(["scalar",e,Q(t," ")]," ")},ObjectTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:i,fields:r})=>U("",n,`
`)+Q(["type",e,U("implements ",Q(t," & ")),Q(i," "),kt(r)]," ")},FieldDefinition:{leave:({description:n,name:e,arguments:t,type:i,directives:r})=>U("",n,`
`)+e+(Vu(t)?U(`(
`,ws(Q(t,`
`)),`
)`):U("(",Q(t,", "),")"))+": "+i+U(" ",Q(r," "))},InputValueDefinition:{leave:({description:n,name:e,type:t,defaultValue:i,directives:r})=>U("",n,`
`)+Q([e+": "+t,U("= ",i),Q(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:i,fields:r})=>U("",n,`
`)+Q(["interface",e,U("implements ",Q(t," & ")),Q(i," "),kt(r)]," ")},UnionTypeDefinition:{leave:({description:n,name:e,directives:t,types:i})=>U("",n,`
`)+Q(["union",e,Q(t," "),U("= ",Q(i," | "))]," ")},EnumTypeDefinition:{leave:({description:n,name:e,directives:t,values:i})=>U("",n,`
`)+Q(["enum",e,Q(t," "),kt(i)]," ")},EnumValueDefinition:{leave:({description:n,name:e,directives:t})=>U("",n,`
`)+Q([e,Q(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:n,name:e,directives:t,fields:i})=>U("",n,`
`)+Q(["input",e,Q(t," "),kt(i)]," ")},DirectiveDefinition:{leave:({description:n,name:e,arguments:t,repeatable:i,locations:r})=>U("",n,`
`)+"directive @"+e+(Vu(t)?U(`(
`,ws(Q(t,`
`)),`
)`):U("(",Q(t,", "),")"))+(i?" repeatable":"")+" on "+Q(r," | ")},SchemaExtension:{leave:({directives:n,operationTypes:e})=>Q(["extend schema",Q(n," "),kt(e)]," ")},ScalarTypeExtension:{leave:({name:n,directives:e})=>Q(["extend scalar",n,Q(e," ")]," ")},ObjectTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:i})=>Q(["extend type",n,U("implements ",Q(e," & ")),Q(t," "),kt(i)]," ")},InterfaceTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:i})=>Q(["extend interface",n,U("implements ",Q(e," & ")),Q(t," "),kt(i)]," ")},UnionTypeExtension:{leave:({name:n,directives:e,types:t})=>Q(["extend union",n,Q(e," "),U("= ",Q(t," | "))]," ")},EnumTypeExtension:{leave:({name:n,directives:e,values:t})=>Q(["extend enum",n,Q(e," "),kt(t)]," ")},InputObjectTypeExtension:{leave:({name:n,directives:e,fields:t})=>Q(["extend input",n,Q(e," "),kt(t)]," ")}};function Q(n,e=""){var t;return(t=n?.filter(i=>i).join(e))!==null&&t!==void 0?t:""}function kt(n){return U(`{
`,ws(Q(n,`
`)),`
}`)}function U(n,e,t=""){return e!=null&&e!==""?n+e+t:""}function ws(n){return U("  ",n.replace(/\n/g,`
  `))}function Vu(n){var e;return(e=n?.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}function sa(n,e){switch(n.kind){case m.NULL:return null;case m.INT:return parseInt(n.value,10);case m.FLOAT:return parseFloat(n.value);case m.STRING:case m.ENUM:case m.BOOLEAN:return n.value;case m.LIST:return n.values.map(t=>sa(t,e));case m.OBJECT:return $n(n.fields,t=>t.name.value,t=>sa(t.value,e));case m.VARIABLE:return e?.[n.name.value]}}function Yt(n){if(n!=null||X(!1,"Must provide name."),typeof n=="string"||X(!1,"Expected name to be a string."),n.length===0)throw new E("Expected name to be a non-empty string.");for(let e=1;e<n.length;++e)if(!mp(n.charCodeAt(e)))throw new E(`Names must only contain [_a-zA-Z0-9] but "${n}" does not.`);if(!Ha(n.charCodeAt(0)))throw new E(`Names must start with [_a-zA-Z] but "${n}" does not.`);return n}function wO(n){if(n==="true"||n==="false"||n==="null")throw new E(`Enum values cannot be named: ${n}`);return Yt(n)}function Ka(n){return Rn(n)||ae(n)||ce(n)||gt(n)||lt(n)||Le(n)||Me(n)||te(n)}function Rn(n){return _t(n,ni)}function ae(n){return _t(n,Ht)}function EO(n){if(!ae(n))throw new Error(`Expected ${D(n)} to be a GraphQL Object type.`);return n}function ce(n){return _t(n,Oi)}function xO(n){if(!ce(n))throw new Error(`Expected ${D(n)} to be a GraphQL Interface type.`);return n}function gt(n){return _t(n,Ip)}function lt(n){return _t(n,Bi)}function Le(n){return _t(n,nc)}function Me(n){return _t(n,Je)}function te(n){return _t(n,j)}function nt(n){return Rn(n)||lt(n)||Le(n)||ec(n)&&nt(n.ofType)}function qn(n){return Rn(n)||ae(n)||ce(n)||gt(n)||lt(n)||ec(n)&&qn(n.ofType)}function Ii(n){return Rn(n)||lt(n)}function Qe(n){return ae(n)||ce(n)||gt(n)}function sn(n){return ce(n)||gt(n)}function NO(n){if(!sn(n))throw new Error(`Expected ${D(n)} to be a GraphQL abstract type.`);return n}class Je{constructor(e){Ka(e)||X(!1,`Expected ${D(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class j{constructor(e){Sp(e)||X(!1,`Expected ${D(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function ec(n){return Me(n)||te(n)}function Sp(n){return Ka(n)&&!te(n)}function AO(n){if(!Sp(n))throw new Error(`Expected ${D(n)} to be a GraphQL nullable type.`);return n}function tc(n){if(n)return te(n)?n.ofType:n}function DO(n){return Rn(n)||ae(n)||ce(n)||gt(n)||lt(n)||Le(n)}function xe(n){if(n){let e=n;for(;ec(e);)e=e.ofType;return e}}function kp(n){return typeof n=="function"?n():n}function wp(n){return typeof n=="function"?n():n}class ni{constructor(e){var t,i,r,s;const o=(t=e.parseValue)!==null&&t!==void 0?t:Mu;this.name=Yt(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=(i=e.serialize)!==null&&i!==void 0?i:Mu,this.parseValue=o,this.parseLiteral=(r=e.parseLiteral)!==null&&r!==void 0?r:(l,a)=>o(sa(l,a)),this.extensions=Ot(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(s=e.extensionASTNodes)!==null&&s!==void 0?s:[],e.specifiedByURL==null||typeof e.specifiedByURL=="string"||X(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${D(e.specifiedByURL)}.`),e.serialize==null||typeof e.serialize=="function"||X(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&(typeof e.parseValue=="function"&&typeof e.parseLiteral=="function"||X(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Ht{constructor(e){var t;this.name=Yt(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=Ot(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._fields=()=>xp(e),this._interfaces=()=>Ep(e),e.isTypeOf==null||typeof e.isTypeOf=="function"||X(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${D(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Ap(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Ep(n){var e;const t=kp((e=n.interfaces)!==null&&e!==void 0?e:[]);return Array.isArray(t)||X(!1,`${n.name} interfaces must be an Array or a function which returns an Array.`),t}function xp(n){const e=wp(n.fields);return vi(e)||X(!1,`${n.name} fields must be an object with field names as keys or a function which returns such an object.`),Ao(e,(t,i)=>{var r;vi(t)||X(!1,`${n.name}.${i} field config must be an object.`),t.resolve==null||typeof t.resolve=="function"||X(!1,`${n.name}.${i} field resolver must be a function if provided, but got: ${D(t.resolve)}.`);const s=(r=t.args)!==null&&r!==void 0?r:{};return vi(s)||X(!1,`${n.name}.${i} args must be an object with argument names as keys.`),{name:Yt(i),description:t.description,type:t.type,args:Np(s),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:Ot(t.extensions),astNode:t.astNode}})}function Np(n){return Object.entries(n).map(([e,t])=>({name:Yt(e),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:Ot(t.extensions),astNode:t.astNode}))}function vi(n){return hn(n)&&!Array.isArray(n)}function Ap(n){return Ao(n,e=>({description:e.description,type:e.type,args:Dp(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function Dp(n){return $n(n,e=>e.name,e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function Yr(n){return te(n.type)&&n.defaultValue===void 0}class Oi{constructor(e){var t;this.name=Yt(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=Ot(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._fields=xp.bind(void 0,e),this._interfaces=Ep.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||X(!1,`${this.name} must provide "resolveType" as a function, but got: ${D(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Ap(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Ip{constructor(e){var t;this.name=Yt(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=Ot(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._types=IO.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||X(!1,`${this.name} must provide "resolveType" as a function, but got: ${D(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function IO(n){const e=kp(n.types);return Array.isArray(e)||X(!1,`Must provide Array of types or a function which returns such an array for Union ${n.name}.`),e}class Bi{constructor(e){var t;this.name=Yt(e.name),this.description=e.description,this.extensions=Ot(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._values=PO(this.name,e.values),this._valueLookup=new Map(this._values.map(i=>[i.value,i])),this._nameLookup=Di(this._values,i=>i.name)}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(e){return this._nameLookup[e]}serialize(e){const t=this._valueLookup.get(e);if(t===void 0)throw new E(`Enum "${this.name}" cannot represent value: ${D(e)}`);return t.name}parseValue(e){if(typeof e!="string"){const i=D(e);throw new E(`Enum "${this.name}" cannot represent non-string value: ${i}.`+is(this,i))}const t=this.getValue(e);if(t==null)throw new E(`Value "${e}" does not exist in "${this.name}" enum.`+is(this,e));return t.value}parseLiteral(e,t){if(e.kind!==m.ENUM){const r=Ae(e);throw new E(`Enum "${this.name}" cannot represent non-enum value: ${r}.`+is(this,r),{nodes:e})}const i=this.getValue(e.value);if(i==null){const r=Ae(e);throw new E(`Value "${r}" does not exist in "${this.name}" enum.`+is(this,r),{nodes:e})}return i.value}toConfig(){const e=$n(this.getValues(),t=>t.name,t=>({description:t.description,value:t.value,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function is(n,e){const t=n.getValues().map(r=>r.name),i=ti(e,t);return Dn("the enum value",i)}function PO(n,e){return vi(e)||X(!1,`${n} values must be an object with value names as keys.`),Object.entries(e).map(([t,i])=>(vi(i)||X(!1,`${n}.${t} must refer to an object with a "value" key representing an internal value but got: ${D(i)}.`),{name:wO(t),description:i.description,value:i.value!==void 0?i.value:t,deprecationReason:i.deprecationReason,extensions:Ot(i.extensions),astNode:i.astNode}))}class nc{constructor(e){var t;this.name=Yt(e.name),this.description=e.description,this.extensions=Ot(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._fields=CO.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const e=Ao(this.getFields(),t=>({description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function CO(n){const e=wp(n.fields);return vi(e)||X(!1,`${n.name} fields must be an object with field names as keys or a function which returns such an object.`),Ao(e,(t,i)=>(!("resolve"in t)||X(!1,`${n.name}.${i} field has a resolve property, but Input Types cannot define resolvers.`),{name:Yt(i),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:Ot(t.extensions),astNode:t.astNode}))}function Pp(n){return te(n.type)&&n.defaultValue===void 0}function oa(n,e){return n===e?!0:te(n)&&te(e)||Me(n)&&Me(e)?oa(n.ofType,e.ofType):!1}function bi(n,e,t){return e===t?!0:te(t)?te(e)?bi(n,e.ofType,t.ofType):!1:te(e)?bi(n,e.ofType,t):Me(t)?Me(e)?bi(n,e.ofType,t.ofType):!1:Me(e)?!1:sn(t)&&(ce(e)||ae(e))&&n.isSubType(t,e)}function la(n,e,t){return e===t?!0:sn(e)?sn(t)?n.getPossibleTypes(e).some(i=>n.isSubType(t,i)):n.isSubType(e,t):sn(t)?n.isSubType(t,e):!1}const el=2147483647,tl=-2147483648,RO=new ni({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(n){const e=Qr(n);if(typeof e=="boolean")return e?1:0;let t=e;if(typeof e=="string"&&e!==""&&(t=Number(e)),typeof t!="number"||!Number.isInteger(t))throw new E(`Int cannot represent non-integer value: ${D(e)}`);if(t>el||t<tl)throw new E("Int cannot represent non 32-bit signed integer value: "+D(e));return t},parseValue(n){if(typeof n!="number"||!Number.isInteger(n))throw new E(`Int cannot represent non-integer value: ${D(n)}`);if(n>el||n<tl)throw new E(`Int cannot represent non 32-bit signed integer value: ${n}`);return n},parseLiteral(n){if(n.kind!==m.INT)throw new E(`Int cannot represent non-integer value: ${Ae(n)}`,{nodes:n});const e=parseInt(n.value,10);if(e>el||e<tl)throw new E(`Int cannot represent non 32-bit signed integer value: ${n.value}`,{nodes:n});return e}}),_O=new ni({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(n){const e=Qr(n);if(typeof e=="boolean")return e?1:0;let t=e;if(typeof e=="string"&&e!==""&&(t=Number(e)),typeof t!="number"||!Number.isFinite(t))throw new E(`Float cannot represent non numeric value: ${D(e)}`);return t},parseValue(n){if(typeof n!="number"||!Number.isFinite(n))throw new E(`Float cannot represent non numeric value: ${D(n)}`);return n},parseLiteral(n){if(n.kind!==m.FLOAT&&n.kind!==m.INT)throw new E(`Float cannot represent non numeric value: ${Ae(n)}`,n);return parseFloat(n.value)}}),ge=new ni({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(n){const e=Qr(n);if(typeof e=="string")return e;if(typeof e=="boolean")return e?"true":"false";if(typeof e=="number"&&Number.isFinite(e))return e.toString();throw new E(`String cannot represent value: ${D(n)}`)},parseValue(n){if(typeof n!="string")throw new E(`String cannot represent a non string value: ${D(n)}`);return n},parseLiteral(n){if(n.kind!==m.STRING)throw new E(`String cannot represent a non string value: ${Ae(n)}`,{nodes:n});return n.value}}),_e=new ni({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(n){const e=Qr(n);if(typeof e=="boolean")return e;if(Number.isFinite(e))return e!==0;throw new E(`Boolean cannot represent a non boolean value: ${D(e)}`)},parseValue(n){if(typeof n!="boolean")throw new E(`Boolean cannot represent a non boolean value: ${D(n)}`);return n},parseLiteral(n){if(n.kind!==m.BOOLEAN)throw new E(`Boolean cannot represent a non boolean value: ${Ae(n)}`,{nodes:n});return n.value}}),Cp=new ni({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(n){const e=Qr(n);if(typeof e=="string")return e;if(Number.isInteger(e))return String(e);throw new E(`ID cannot represent value: ${D(n)}`)},parseValue(n){if(typeof n=="string")return n;if(typeof n=="number"&&Number.isInteger(n))return n.toString();throw new E(`ID cannot represent value: ${D(n)}`)},parseLiteral(n){if(n.kind!==m.STRING&&n.kind!==m.INT)throw new E("ID cannot represent a non-string and non-integer value: "+Ae(n),{nodes:n});return n.value}}),Rp=Object.freeze([ge,RO,_O,_e,Cp]);function Qr(n){if(hn(n)){if(typeof n.valueOf=="function"){const e=n.valueOf();if(!hn(e))return e}if(typeof n.toJSON=="function")return n.toJSON()}return n}function _p(n){return _t(n,Ui)}class Ui{constructor(e){var t,i;this.name=Yt(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=(t=e.isRepeatable)!==null&&t!==void 0?t:!1,this.extensions=Ot(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||X(!1,`@${e.name} locations must be an Array.`);const r=(i=e.args)!==null&&i!==void 0?i:{};hn(r)&&!Array.isArray(r)||X(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=Np(r)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:Dp(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const Yp=new Ui({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[Y.FIELD,Y.FRAGMENT_SPREAD,Y.INLINE_FRAGMENT],args:{if:{type:new j(_e),description:"Included when true."}}}),Qp=new Ui({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[Y.FIELD,Y.FRAGMENT_SPREAD,Y.INLINE_FRAGMENT],args:{if:{type:new j(_e),description:"Skipped when true."}}}),YO="No longer supported",Mp=new Ui({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[Y.FIELD_DEFINITION,Y.ARGUMENT_DEFINITION,Y.INPUT_FIELD_DEFINITION,Y.ENUM_VALUE],args:{reason:{type:ge,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:YO}}}),QO=new Ui({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[Y.SCALAR],args:{url:{type:new j(ge),description:"The URL that specifies the behavior of this scalar."}}}),Mr=Object.freeze([Yp,Qp,Mp,QO]);function MO(n){return typeof n=="object"&&typeof n?.[Symbol.iterator]=="function"}function er(n,e){if(te(e)){const t=er(n,e.ofType);return t?.kind===m.NULL?null:t}if(n===null)return{kind:m.NULL};if(n===void 0)return null;if(Me(e)){const t=e.ofType;if(MO(n)){const i=[];for(const r of n){const s=er(r,t);s!=null&&i.push(s)}return{kind:m.LIST,values:i}}return er(n,t)}if(Le(e)){if(!hn(n))return null;const t=[];for(const i of Object.values(e.getFields())){const r=er(n[i.name],i.type);r&&t.push({kind:m.OBJECT_FIELD,name:{kind:m.NAME,value:i.name},value:r})}return{kind:m.OBJECT,fields:t}}if(Ii(e)){const t=e.serialize(n);if(t==null)return null;if(typeof t=="boolean")return{kind:m.BOOLEAN,value:t};if(typeof t=="number"&&Number.isFinite(t)){const i=String(t);return $u.test(i)?{kind:m.INT,value:i}:{kind:m.FLOAT,value:i}}if(typeof t=="string")return lt(e)?{kind:m.ENUM,value:t}:e===Cp&&$u.test(t)?{kind:m.INT,value:t}:{kind:m.STRING,value:t};throw new TypeError(`Cannot convert value to AST: ${D(t)}.`)}ot(!1,"Unexpected input type: "+D(e))}const $u=/^-?(?:0|[1-9][0-9]*)$/,ic=new Ht({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:ge,resolve:n=>n.description},types:{description:"A list of all types supported by this server.",type:new j(new Je(new j(Nt))),resolve(n){return Object.values(n.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new j(Nt),resolve:n=>n.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:Nt,resolve:n=>n.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:Nt,resolve:n=>n.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new j(new Je(new j(Lp))),resolve:n=>n.getDirectives()}})}),Lp=new Ht({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new j(ge),resolve:n=>n.name},description:{type:ge,resolve:n=>n.description},isRepeatable:{type:new j(_e),resolve:n=>n.isRepeatable},locations:{type:new j(new Je(new j(Vp))),resolve:n=>n.locations},args:{type:new j(new Je(new j(Do))),args:{includeDeprecated:{type:_e,defaultValue:!1}},resolve(n,{includeDeprecated:e}){return e?n.args:n.args.filter(t=>t.deprecationReason==null)}}})}),Vp=new Bi({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:Y.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:Y.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:Y.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:Y.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:Y.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:Y.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:Y.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:Y.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:Y.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:Y.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:Y.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:Y.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:Y.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:Y.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:Y.UNION,description:"Location adjacent to a union definition."},ENUM:{value:Y.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:Y.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:Y.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:Y.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),Nt=new Ht({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new j(Bp),resolve(n){if(Rn(n))return ne.SCALAR;if(ae(n))return ne.OBJECT;if(ce(n))return ne.INTERFACE;if(gt(n))return ne.UNION;if(lt(n))return ne.ENUM;if(Le(n))return ne.INPUT_OBJECT;if(Me(n))return ne.LIST;if(te(n))return ne.NON_NULL;ot(!1,`Unexpected type: "${D(n)}".`)}},name:{type:ge,resolve:n=>"name"in n?n.name:void 0},description:{type:ge,resolve:n=>"description"in n?n.description:void 0},specifiedByURL:{type:ge,resolve:n=>"specifiedByURL"in n?n.specifiedByURL:void 0},fields:{type:new Je(new j($p)),args:{includeDeprecated:{type:_e,defaultValue:!1}},resolve(n,{includeDeprecated:e}){if(ae(n)||ce(n)){const t=Object.values(n.getFields());return e?t:t.filter(i=>i.deprecationReason==null)}}},interfaces:{type:new Je(new j(Nt)),resolve(n){if(ae(n)||ce(n))return n.getInterfaces()}},possibleTypes:{type:new Je(new j(Nt)),resolve(n,e,t,{schema:i}){if(sn(n))return i.getPossibleTypes(n)}},enumValues:{type:new Je(new j(Fp)),args:{includeDeprecated:{type:_e,defaultValue:!1}},resolve(n,{includeDeprecated:e}){if(lt(n)){const t=n.getValues();return e?t:t.filter(i=>i.deprecationReason==null)}}},inputFields:{type:new Je(new j(Do)),args:{includeDeprecated:{type:_e,defaultValue:!1}},resolve(n,{includeDeprecated:e}){if(Le(n)){const t=Object.values(n.getFields());return e?t:t.filter(i=>i.deprecationReason==null)}}},ofType:{type:Nt,resolve:n=>"ofType"in n?n.ofType:void 0}})}),$p=new Ht({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new j(ge),resolve:n=>n.name},description:{type:ge,resolve:n=>n.description},args:{type:new j(new Je(new j(Do))),args:{includeDeprecated:{type:_e,defaultValue:!1}},resolve(n,{includeDeprecated:e}){return e?n.args:n.args.filter(t=>t.deprecationReason==null)}},type:{type:new j(Nt),resolve:n=>n.type},isDeprecated:{type:new j(_e),resolve:n=>n.deprecationReason!=null},deprecationReason:{type:ge,resolve:n=>n.deprecationReason}})}),Do=new Ht({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new j(ge),resolve:n=>n.name},description:{type:ge,resolve:n=>n.description},type:{type:new j(Nt),resolve:n=>n.type},defaultValue:{type:ge,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(n){const{type:e,defaultValue:t}=n,i=er(t,e);return i?Ae(i):null}},isDeprecated:{type:new j(_e),resolve:n=>n.deprecationReason!=null},deprecationReason:{type:ge,resolve:n=>n.deprecationReason}})}),Fp=new Ht({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new j(ge),resolve:n=>n.name},description:{type:ge,resolve:n=>n.description},isDeprecated:{type:new j(_e),resolve:n=>n.deprecationReason!=null},deprecationReason:{type:ge,resolve:n=>n.deprecationReason}})});var ne;(function(n){n.SCALAR="SCALAR",n.OBJECT="OBJECT",n.INTERFACE="INTERFACE",n.UNION="UNION",n.ENUM="ENUM",n.INPUT_OBJECT="INPUT_OBJECT",n.LIST="LIST",n.NON_NULL="NON_NULL"})(ne||(ne={}));const Bp=new Bi({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:ne.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:ne.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:ne.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:ne.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:ne.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:ne.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:ne.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:ne.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),yr={name:"__schema",type:new j(ic),description:"Access the current type schema of this server.",args:[],resolve:(n,e,t,{schema:i})=>i,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},vr={name:"__type",type:Nt,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new j(ge),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(n,{name:e},t,{schema:i})=>i.getType(e),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Or={name:"__typename",type:new j(ge),description:"The name of the current Object type at runtime.",args:[],resolve:(n,e,t,{parentType:i})=>i.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},rc=Object.freeze([ic,Lp,Vp,Nt,$p,Do,Fp,Bp]);function LO(n){return rc.some(({name:e})=>n.name===e)}function VO(n){return _t(n,Up)}function $O(n){if(!VO(n))throw new Error(`Expected ${D(n)} to be a GraphQL schema.`);return n}class Up{constructor(e){var t,i;this.__validationErrors=e.assumeValid===!0?[]:void 0,hn(e)||X(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||X(!1,`"types" must be Array if provided but got: ${D(e.types)}.`),!e.directives||Array.isArray(e.directives)||X(!1,`"directives" must be Array if provided but got: ${D(e.directives)}.`),this.description=e.description,this.extensions=Ot(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=(i=e.directives)!==null&&i!==void 0?i:Mr;const r=new Set(e.types);if(e.types!=null)for(const s of e.types)r.delete(s),Et(s,r);this._queryType!=null&&Et(this._queryType,r),this._mutationType!=null&&Et(this._mutationType,r),this._subscriptionType!=null&&Et(this._subscriptionType,r);for(const s of this._directives)if(_p(s))for(const o of s.args)Et(o.type,r);Et(ic,r),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const s of r){if(s==null)continue;const o=s.name;if(o||X(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[o]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${o}".`);if(this._typeMap[o]=s,ce(s)){for(const l of s.getInterfaces())if(ce(l)){let a=this._implementationsMap[l.name];a===void 0&&(a=this._implementationsMap[l.name]={objects:[],interfaces:[]}),a.interfaces.push(s)}}else if(ae(s)){for(const l of s.getInterfaces())if(ce(l)){let a=this._implementationsMap[l.name];a===void 0&&(a=this._implementationsMap[l.name]={objects:[],interfaces:[]}),a.objects.push(s)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case ze.QUERY:return this.getQueryType();case ze.MUTATION:return this.getMutationType();case ze.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return gt(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const t=this._implementationsMap[e.name];return t??{objects:[],interfaces:[]}}isSubType(e,t){let i=this._subTypeMap[e.name];if(i===void 0){if(i=Object.create(null),gt(e))for(const r of e.getTypes())i[r.name]=!0;else{const r=this.getImplementations(e);for(const s of r.objects)i[s.name]=!0;for(const s of r.interfaces)i[s.name]=!0}this._subTypeMap[e.name]=i}return i[t.name]!==void 0}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find(t=>t.name===e)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}function Et(n,e){const t=xe(n);if(!e.has(t)){if(e.add(t),gt(t))for(const i of t.getTypes())Et(i,e);else if(ae(t)||ce(t)){for(const i of t.getInterfaces())Et(i,e);for(const i of Object.values(t.getFields())){Et(i.type,e);for(const r of i.args)Et(r.type,e)}}else if(Le(t))for(const i of Object.values(t.getFields()))Et(i.type,e)}return e}function FO(n){if($O(n),n.__validationErrors)return n.__validationErrors;const e=new UO(n);jO(e),qO(e),GO(e);const t=e.getErrors();return n.__validationErrors=t,t}function BO(n){const e=FO(n);if(e.length!==0)throw new Error(e.map(t=>t.message).join(`

`))}class UO{constructor(e){this._errors=[],this.schema=e}reportError(e,t){const i=Array.isArray(t)?t.filter(Boolean):t;this._errors.push(new E(e,{nodes:i}))}getErrors(){return this._errors}}function jO(n){const e=n.schema,t=e.getQueryType();if(!t)n.reportError("Query root type must be provided.",e.astNode);else if(!ae(t)){var i;n.reportError(`Query root type must be Object type, it cannot be ${D(t)}.`,(i=nl(e,ze.QUERY))!==null&&i!==void 0?i:t.astNode)}const r=e.getMutationType();if(r&&!ae(r)){var s;n.reportError(`Mutation root type must be Object type if provided, it cannot be ${D(r)}.`,(s=nl(e,ze.MUTATION))!==null&&s!==void 0?s:r.astNode)}const o=e.getSubscriptionType();if(o&&!ae(o)){var l;n.reportError(`Subscription root type must be Object type if provided, it cannot be ${D(o)}.`,(l=nl(e,ze.SUBSCRIPTION))!==null&&l!==void 0?l:o.astNode)}}function nl(n,e){var t;return(t=[n.astNode,...n.extensionASTNodes].flatMap(i=>{var r;return(r=i?.operationTypes)!==null&&r!==void 0?r:[]}).find(i=>i.operation===e))===null||t===void 0?void 0:t.type}function qO(n){for(const t of n.schema.getDirectives()){if(!_p(t)){n.reportError(`Expected directive but got: ${D(t)}.`,t?.astNode);continue}Kn(n,t);for(const i of t.args)if(Kn(n,i),nt(i.type)||n.reportError(`The type of @${t.name}(${i.name}:) must be Input Type but got: ${D(i.type)}.`,i.astNode),Yr(i)&&i.deprecationReason!=null){var e;n.reportError(`Required argument @${t.name}(${i.name}:) cannot be deprecated.`,[sc(i.astNode),(e=i.astNode)===null||e===void 0?void 0:e.type])}}}function Kn(n,e){e.name.startsWith("__")&&n.reportError(`Name "${e.name}" must not begin with "__", which is reserved by GraphQL introspection.`,e.astNode)}function GO(n){const e=ZO(n),t=n.schema.getTypeMap();for(const i of Object.values(t)){if(!DO(i)){n.reportError(`Expected GraphQL named type but got: ${D(i)}.`,i.astNode);continue}LO(i)||Kn(n,i),ae(i)||ce(i)?(Fu(n,i),Bu(n,i)):gt(i)?WO(n,i):lt(i)?HO(n,i):Le(i)&&(JO(n,i),e(i))}}function Fu(n,e){const t=Object.values(e.getFields());t.length===0&&n.reportError(`Type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(const o of t){if(Kn(n,o),!qn(o.type)){var i;n.reportError(`The type of ${e.name}.${o.name} must be Output Type but got: ${D(o.type)}.`,(i=o.astNode)===null||i===void 0?void 0:i.type)}for(const l of o.args){const a=l.name;if(Kn(n,l),!nt(l.type)){var r;n.reportError(`The type of ${e.name}.${o.name}(${a}:) must be Input Type but got: ${D(l.type)}.`,(r=l.astNode)===null||r===void 0?void 0:r.type)}if(Yr(l)&&l.deprecationReason!=null){var s;n.reportError(`Required argument ${e.name}.${o.name}(${a}:) cannot be deprecated.`,[sc(l.astNode),(s=l.astNode)===null||s===void 0?void 0:s.type])}}}}function Bu(n,e){const t=Object.create(null);for(const i of e.getInterfaces()){if(!ce(i)){n.reportError(`Type ${D(e)} must only implement Interface types, it cannot implement ${D(i)}.`,sr(e,i));continue}if(e===i){n.reportError(`Type ${e.name} cannot implement itself because it would create a circular reference.`,sr(e,i));continue}if(t[i.name]){n.reportError(`Type ${e.name} can only implement ${i.name} once.`,sr(e,i));continue}t[i.name]=!0,XO(n,e,i),zO(n,e,i)}}function zO(n,e,t){const i=e.getFields();for(const a of Object.values(t.getFields())){const c=a.name,u=i[c];if(!u){n.reportError(`Interface field ${t.name}.${c} expected but ${e.name} does not provide it.`,[a.astNode,e.astNode,...e.extensionASTNodes]);continue}if(!bi(n.schema,u.type,a.type)){var r,s;n.reportError(`Interface field ${t.name}.${c} expects type ${D(a.type)} but ${e.name}.${c} is type ${D(u.type)}.`,[(r=a.astNode)===null||r===void 0?void 0:r.type,(s=u.astNode)===null||s===void 0?void 0:s.type])}for(const h of a.args){const f=h.name,d=u.args.find(p=>p.name===f);if(!d){n.reportError(`Interface field argument ${t.name}.${c}(${f}:) expected but ${e.name}.${c} does not provide it.`,[h.astNode,u.astNode]);continue}if(!oa(h.type,d.type)){var o,l;n.reportError(`Interface field argument ${t.name}.${c}(${f}:) expects type ${D(h.type)} but ${e.name}.${c}(${f}:) is type ${D(d.type)}.`,[(o=h.astNode)===null||o===void 0?void 0:o.type,(l=d.astNode)===null||l===void 0?void 0:l.type])}}for(const h of u.args){const f=h.name;!a.args.find(p=>p.name===f)&&Yr(h)&&n.reportError(`Object field ${e.name}.${c} includes required argument ${f} that is missing from the Interface field ${t.name}.${c}.`,[h.astNode,a.astNode])}}}function XO(n,e,t){const i=e.getInterfaces();for(const r of t.getInterfaces())i.includes(r)||n.reportError(r===e?`Type ${e.name} cannot implement ${t.name} because it would create a circular reference.`:`Type ${e.name} must implement ${r.name} because it is implemented by ${t.name}.`,[...sr(t,r),...sr(e,t)])}function WO(n,e){const t=e.getTypes();t.length===0&&n.reportError(`Union type ${e.name} must define one or more member types.`,[e.astNode,...e.extensionASTNodes]);const i=Object.create(null);for(const r of t){if(i[r.name]){n.reportError(`Union type ${e.name} can only include type ${r.name} once.`,Uu(e,r.name));continue}i[r.name]=!0,ae(r)||n.reportError(`Union type ${e.name} can only include Object types, it cannot include ${D(r)}.`,Uu(e,String(r)))}}function HO(n,e){const t=e.getValues();t.length===0&&n.reportError(`Enum type ${e.name} must define one or more values.`,[e.astNode,...e.extensionASTNodes]);for(const i of t)Kn(n,i)}function JO(n,e){const t=Object.values(e.getFields());t.length===0&&n.reportError(`Input Object type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(const s of t){if(Kn(n,s),!nt(s.type)){var i;n.reportError(`The type of ${e.name}.${s.name} must be Input Type but got: ${D(s.type)}.`,(i=s.astNode)===null||i===void 0?void 0:i.type)}if(Pp(s)&&s.deprecationReason!=null){var r;n.reportError(`Required input field ${e.name}.${s.name} cannot be deprecated.`,[sc(s.astNode),(r=s.astNode)===null||r===void 0?void 0:r.type])}}}function ZO(n){const e=Object.create(null),t=[],i=Object.create(null);return r;function r(s){if(e[s.name])return;e[s.name]=!0,i[s.name]=t.length;const o=Object.values(s.getFields());for(const l of o)if(te(l.type)&&Le(l.type.ofType)){const a=l.type.ofType,c=i[a.name];if(t.push(l),c===void 0)r(a);else{const u=t.slice(c),h=u.map(f=>f.name).join(".");n.reportError(`Cannot reference Input Object "${a.name}" within itself through a series of non-null fields: "${h}".`,u.map(f=>f.astNode))}t.pop()}i[s.name]=void 0}}function sr(n,e){const{astNode:t,extensionASTNodes:i}=n;return(t!=null?[t,...i]:i).flatMap(s=>{var o;return(o=s.interfaces)!==null&&o!==void 0?o:[]}).filter(s=>s.name.value===e.name)}function Uu(n,e){const{astNode:t,extensionASTNodes:i}=n;return(t!=null?[t,...i]:i).flatMap(s=>{var o;return(o=s.types)!==null&&o!==void 0?o:[]}).filter(s=>s.name.value===e)}function sc(n){var e;return n==null||(e=n.directives)===null||e===void 0?void 0:e.find(t=>t.name.value===Mp.name)}function yt(n,e){switch(e.kind){case m.LIST_TYPE:{const t=yt(n,e.type);return t&&new Je(t)}case m.NON_NULL_TYPE:{const t=yt(n,e.type);return t&&new j(t)}case m.NAMED_TYPE:return n.getType(e.name.value)}}class jp{constructor(e,t,i){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=i??KO,t&&(nt(t)&&this._inputTypeStack.push(t),Qe(t)&&this._parentTypeStack.push(t),qn(t)&&this._typeStack.push(t))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const t=this._schema;switch(e.kind){case m.SELECTION_SET:{const r=xe(this.getType());this._parentTypeStack.push(Qe(r)?r:void 0);break}case m.FIELD:{const r=this.getParentType();let s,o;r&&(s=this._getFieldDef(t,r,e),s&&(o=s.type)),this._fieldDefStack.push(s),this._typeStack.push(qn(o)?o:void 0);break}case m.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case m.OPERATION_DEFINITION:{const r=t.getRootType(e.operation);this._typeStack.push(ae(r)?r:void 0);break}case m.INLINE_FRAGMENT:case m.FRAGMENT_DEFINITION:{const r=e.typeCondition,s=r?yt(t,r):xe(this.getType());this._typeStack.push(qn(s)?s:void 0);break}case m.VARIABLE_DEFINITION:{const r=yt(t,e.type);this._inputTypeStack.push(nt(r)?r:void 0);break}case m.ARGUMENT:{var i;let r,s;const o=(i=this.getDirective())!==null&&i!==void 0?i:this.getFieldDef();o&&(r=o.args.find(l=>l.name===e.name.value),r&&(s=r.type)),this._argument=r,this._defaultValueStack.push(r?r.defaultValue:void 0),this._inputTypeStack.push(nt(s)?s:void 0);break}case m.LIST:{const r=tc(this.getInputType()),s=Me(r)?r.ofType:r;this._defaultValueStack.push(void 0),this._inputTypeStack.push(nt(s)?s:void 0);break}case m.OBJECT_FIELD:{const r=xe(this.getInputType());let s,o;Le(r)&&(o=r.getFields()[e.name.value],o&&(s=o.type)),this._defaultValueStack.push(o?o.defaultValue:void 0),this._inputTypeStack.push(nt(s)?s:void 0);break}case m.ENUM:{const r=xe(this.getInputType());let s;lt(r)&&(s=r.getValue(e.value)),this._enumValue=s;break}}}leave(e){switch(e.kind){case m.SELECTION_SET:this._parentTypeStack.pop();break;case m.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case m.DIRECTIVE:this._directive=null;break;case m.OPERATION_DEFINITION:case m.INLINE_FRAGMENT:case m.FRAGMENT_DEFINITION:this._typeStack.pop();break;case m.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case m.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case m.LIST:case m.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case m.ENUM:this._enumValue=null;break}}}function KO(n,e,t){const i=t.name.value;if(i===yr.name&&n.getQueryType()===e)return yr;if(i===vr.name&&n.getQueryType()===e)return vr;if(i===Or.name&&Qe(e))return Or;if(ae(e)||ce(e))return e.getFields()[i]}function qp(n,e){return{enter(...t){const i=t[0];n.enter(i);const r=Fs(e,i.kind).enter;if(r){const s=r.apply(e,t);return s!==void 0&&(n.leave(i),na(s)&&n.enter(s)),s}},leave(...t){const i=t[0],r=Fs(e,i.kind).leave;let s;return r&&(s=r.apply(e,t)),n.leave(i),s}}}function eb(n){return n.kind===m.OPERATION_DEFINITION||n.kind===m.FRAGMENT_DEFINITION}function tb(n){return n.kind===m.SCHEMA_DEFINITION||Io(n)||n.kind===m.DIRECTIVE_DEFINITION}function Io(n){return n.kind===m.SCALAR_TYPE_DEFINITION||n.kind===m.OBJECT_TYPE_DEFINITION||n.kind===m.INTERFACE_TYPE_DEFINITION||n.kind===m.UNION_TYPE_DEFINITION||n.kind===m.ENUM_TYPE_DEFINITION||n.kind===m.INPUT_OBJECT_TYPE_DEFINITION}function nb(n){return n.kind===m.SCHEMA_EXTENSION||Gp(n)}function Gp(n){return n.kind===m.SCALAR_TYPE_EXTENSION||n.kind===m.OBJECT_TYPE_EXTENSION||n.kind===m.INTERFACE_TYPE_EXTENSION||n.kind===m.UNION_TYPE_EXTENSION||n.kind===m.ENUM_TYPE_EXTENSION||n.kind===m.INPUT_OBJECT_TYPE_EXTENSION}function zp(n){return{Document(e){for(const t of e.definitions)if(!eb(t)){const i=t.kind===m.SCHEMA_DEFINITION||t.kind===m.SCHEMA_EXTENSION?"schema":'"'+t.name.value+'"';n.reportError(new E(`The ${i} definition is not executable.`,{nodes:t}))}return!1}}}function ib(n){return{Field(e){const t=n.getParentType();if(t&&!n.getFieldDef()){const r=n.getSchema(),s=e.name.value;let o=Dn("to use an inline fragment on",rb(r,t,s));o===""&&(o=Dn(sb(t,s))),n.reportError(new E(`Cannot query field "${s}" on type "${t.name}".`+o,{nodes:e}))}}}}function rb(n,e,t){if(!sn(e))return[];const i=new Set,r=Object.create(null);for(const o of n.getPossibleTypes(e))if(o.getFields()[t]){i.add(o),r[o.name]=1;for(const l of o.getInterfaces()){var s;l.getFields()[t]&&(i.add(l),r[l.name]=((s=r[l.name])!==null&&s!==void 0?s:0)+1)}}return[...i].sort((o,l)=>{const a=r[l.name]-r[o.name];return a!==0?a:ce(o)&&n.isSubType(o,l)?-1:ce(l)&&n.isSubType(l,o)?1:Za(o.name,l.name)}).map(o=>o.name)}function sb(n,e){if(ae(n)||ce(n)){const t=Object.keys(n.getFields());return ti(e,t)}return[]}function ob(n){return{InlineFragment(e){const t=e.typeCondition;if(t){const i=yt(n.getSchema(),t);if(i&&!Qe(i)){const r=Ae(t);n.reportError(new E(`Fragment cannot condition on non composite type "${r}".`,{nodes:t}))}}},FragmentDefinition(e){const t=yt(n.getSchema(),e.typeCondition);if(t&&!Qe(t)){const i=Ae(e.typeCondition);n.reportError(new E(`Fragment "${e.name.value}" cannot condition on non composite type "${i}".`,{nodes:e.typeCondition}))}}}}function lb(n){return{...ab(n),Argument(e){const t=n.getArgument(),i=n.getFieldDef(),r=n.getParentType();if(!t&&i&&r){const s=e.name.value,o=i.args.map(a=>a.name),l=ti(s,o);n.reportError(new E(`Unknown argument "${s}" on field "${r.name}.${i.name}".`+Dn(l),{nodes:e}))}}}}function ab(n){const e=Object.create(null),t=n.getSchema(),i=t?t.getDirectives():Mr;for(const o of i)e[o.name]=o.args.map(l=>l.name);const r=n.getDocument().definitions;for(const o of r)if(o.kind===m.DIRECTIVE_DEFINITION){var s;const l=(s=o.arguments)!==null&&s!==void 0?s:[];e[o.name.value]=l.map(a=>a.name.value)}return{Directive(o){const l=o.name.value,a=e[l];if(o.arguments&&a)for(const c of o.arguments){const u=c.name.value;if(!a.includes(u)){const h=ti(u,a);n.reportError(new E(`Unknown argument "${u}" on directive "@${l}".`+Dn(h),{nodes:c}))}}return!1}}}function Xp(n){const e=Object.create(null),t=n.getSchema(),i=t?t.getDirectives():Mr;for(const s of i)e[s.name]=s.locations;const r=n.getDocument().definitions;for(const s of r)s.kind===m.DIRECTIVE_DEFINITION&&(e[s.name.value]=s.locations.map(o=>o.value));return{Directive(s,o,l,a,c){const u=s.name.value,h=e[u];if(!h){n.reportError(new E(`Unknown directive "@${u}".`,{nodes:s}));return}const f=cb(c);f&&!h.includes(f)&&n.reportError(new E(`Directive "@${u}" may not be used on ${f}.`,{nodes:s}))}}}function cb(n){const e=n[n.length-1];switch("kind"in e||ot(!1),e.kind){case m.OPERATION_DEFINITION:return ub(e.operation);case m.FIELD:return Y.FIELD;case m.FRAGMENT_SPREAD:return Y.FRAGMENT_SPREAD;case m.INLINE_FRAGMENT:return Y.INLINE_FRAGMENT;case m.FRAGMENT_DEFINITION:return Y.FRAGMENT_DEFINITION;case m.VARIABLE_DEFINITION:return Y.VARIABLE_DEFINITION;case m.SCHEMA_DEFINITION:case m.SCHEMA_EXTENSION:return Y.SCHEMA;case m.SCALAR_TYPE_DEFINITION:case m.SCALAR_TYPE_EXTENSION:return Y.SCALAR;case m.OBJECT_TYPE_DEFINITION:case m.OBJECT_TYPE_EXTENSION:return Y.OBJECT;case m.FIELD_DEFINITION:return Y.FIELD_DEFINITION;case m.INTERFACE_TYPE_DEFINITION:case m.INTERFACE_TYPE_EXTENSION:return Y.INTERFACE;case m.UNION_TYPE_DEFINITION:case m.UNION_TYPE_EXTENSION:return Y.UNION;case m.ENUM_TYPE_DEFINITION:case m.ENUM_TYPE_EXTENSION:return Y.ENUM;case m.ENUM_VALUE_DEFINITION:return Y.ENUM_VALUE;case m.INPUT_OBJECT_TYPE_DEFINITION:case m.INPUT_OBJECT_TYPE_EXTENSION:return Y.INPUT_OBJECT;case m.INPUT_VALUE_DEFINITION:{const t=n[n.length-3];return"kind"in t||ot(!1),t.kind===m.INPUT_OBJECT_TYPE_DEFINITION?Y.INPUT_FIELD_DEFINITION:Y.ARGUMENT_DEFINITION}default:ot(!1,"Unexpected kind: "+D(e.kind))}}function ub(n){switch(n){case ze.QUERY:return Y.QUERY;case ze.MUTATION:return Y.MUTATION;case ze.SUBSCRIPTION:return Y.SUBSCRIPTION}}function Wp(n){return{FragmentSpread(e){const t=e.name.value;n.getFragment(t)||n.reportError(new E(`Unknown fragment "${t}".`,{nodes:e.name}))}}}function Hp(n){const e=n.getSchema(),t=e?e.getTypeMap():Object.create(null),i=Object.create(null);for(const s of n.getDocument().definitions)Io(s)&&(i[s.name.value]=!0);const r=[...Object.keys(t),...Object.keys(i)];return{NamedType(s,o,l,a,c){const u=s.name.value;if(!t[u]&&!i[u]){var h;const f=(h=c[2])!==null&&h!==void 0?h:l,d=f!=null&&hb(f);if(d&&ju.includes(u))return;const p=ti(u,d?ju.concat(r):r);n.reportError(new E(`Unknown type "${u}".`+Dn(p),{nodes:s}))}}}}const ju=[...Rp,...rc].map(n=>n.name);function hb(n){return"kind"in n&&(tb(n)||nb(n))}function fb(n){let e=0;return{Document(t){e=t.definitions.filter(i=>i.kind===m.OPERATION_DEFINITION).length},OperationDefinition(t){!t.name&&e>1&&n.reportError(new E("This anonymous operation must be the only defined operation.",{nodes:t}))}}}function db(n){var e,t,i;const r=n.getSchema(),s=(e=(t=(i=r?.astNode)!==null&&i!==void 0?i:r?.getQueryType())!==null&&t!==void 0?t:r?.getMutationType())!==null&&e!==void 0?e:r?.getSubscriptionType();let o=0;return{SchemaDefinition(l){if(s){n.reportError(new E("Cannot define a new schema within a schema extension.",{nodes:l}));return}o>0&&n.reportError(new E("Must provide only one schema definition.",{nodes:l})),++o}}}function pb(n){const e=Object.create(null),t=[],i=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(s){return r(s),!1}};function r(s){if(e[s.name.value])return;const o=s.name.value;e[o]=!0;const l=n.getFragmentSpreads(s.selectionSet);if(l.length!==0){i[o]=t.length;for(const a of l){const c=a.name.value,u=i[c];if(t.push(a),u===void 0){const h=n.getFragment(c);h&&r(h)}else{const h=t.slice(u),f=h.slice(0,-1).map(d=>'"'+d.name.value+'"').join(", ");n.reportError(new E(`Cannot spread fragment "${c}" within itself`+(f!==""?` via ${f}.`:"."),{nodes:h}))}t.pop()}i[o]=void 0}}}function mb(n){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(t){const i=n.getRecursiveVariableUsages(t);for(const{node:r}of i){const s=r.name.value;e[s]!==!0&&n.reportError(new E(t.name?`Variable "$${s}" is not defined by operation "${t.name.value}".`:`Variable "$${s}" is not defined.`,{nodes:[r,t]}))}}},VariableDefinition(t){e[t.variable.name.value]=!0}}}function Jp(n){const e=[],t=[];return{OperationDefinition(i){return e.push(i),!1},FragmentDefinition(i){return t.push(i),!1},Document:{leave(){const i=Object.create(null);for(const r of e)for(const s of n.getRecursivelyReferencedFragments(r))i[s.name.value]=!0;for(const r of t){const s=r.name.value;i[s]!==!0&&n.reportError(new E(`Fragment "${s}" is never used.`,{nodes:r}))}}}}}function gb(n){let e=[];return{OperationDefinition:{enter(){e=[]},leave(t){const i=Object.create(null),r=n.getRecursiveVariableUsages(t);for(const{node:s}of r)i[s.name.value]=!0;for(const s of e){const o=s.variable.name.value;i[o]!==!0&&n.reportError(new E(t.name?`Variable "$${o}" is never used in operation "${t.name.value}".`:`Variable "$${o}" is never used.`,{nodes:s}))}}},VariableDefinition(t){e.push(t)}}}function oc(n){switch(n.kind){case m.OBJECT:return{...n,fields:yb(n.fields)};case m.LIST:return{...n,values:n.values.map(oc)};case m.INT:case m.FLOAT:case m.STRING:case m.BOOLEAN:case m.NULL:case m.ENUM:case m.VARIABLE:return n}}function yb(n){return n.map(e=>({...e,value:oc(e.value)})).sort((e,t)=>Za(e.name.value,t.name.value))}function Zp(n){return Array.isArray(n)?n.map(([e,t])=>`subfields "${e}" conflict because `+Zp(t)).join(" and "):n}function vb(n){const e=new kb,t=new Map;return{SelectionSet(i){const r=Ob(n,t,e,n.getParentType(),i);for(const[[s,o],l,a]of r){const c=Zp(o);n.reportError(new E(`Fields "${s}" conflict because ${c}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:l.concat(a)}))}}}}function Ob(n,e,t,i,r){const s=[],[o,l]=js(n,e,i,r);if(Tb(n,s,e,t,o),l.length!==0)for(let a=0;a<l.length;a++){Bs(n,s,e,t,!1,o,l[a]);for(let c=a+1;c<l.length;c++)Us(n,s,e,t,!1,l[a],l[c])}return s}function Bs(n,e,t,i,r,s,o){const l=n.getFragment(o);if(!l)return;const[a,c]=ca(n,t,l);if(s!==a){lc(n,e,t,i,r,s,a);for(const u of c)i.has(u,o,r)||(i.add(u,o,r),Bs(n,e,t,i,r,s,u))}}function Us(n,e,t,i,r,s,o){if(s===o||i.has(s,o,r))return;i.add(s,o,r);const l=n.getFragment(s),a=n.getFragment(o);if(!l||!a)return;const[c,u]=ca(n,t,l),[h,f]=ca(n,t,a);lc(n,e,t,i,r,c,h);for(const d of f)Us(n,e,t,i,r,s,d);for(const d of u)Us(n,e,t,i,r,d,o)}function bb(n,e,t,i,r,s,o,l){const a=[],[c,u]=js(n,e,r,s),[h,f]=js(n,e,o,l);lc(n,a,e,t,i,c,h);for(const d of f)Bs(n,a,e,t,i,c,d);for(const d of u)Bs(n,a,e,t,i,h,d);for(const d of u)for(const p of f)Us(n,a,e,t,i,d,p);return a}function Tb(n,e,t,i,r){for(const[s,o]of Object.entries(r))if(o.length>1)for(let l=0;l<o.length;l++)for(let a=l+1;a<o.length;a++){const c=Kp(n,t,i,!1,s,o[l],o[a]);c&&e.push(c)}}function lc(n,e,t,i,r,s,o){for(const[l,a]of Object.entries(s)){const c=o[l];if(c)for(const u of a)for(const h of c){const f=Kp(n,t,i,r,l,u,h);f&&e.push(f)}}}function Kp(n,e,t,i,r,s,o){const[l,a,c]=s,[u,h,f]=o,d=i||l!==u&&ae(l)&&ae(u);if(!d){const w=a.name.value,k=h.name.value;if(w!==k)return[[r,`"${w}" and "${k}" are different fields`],[a],[h]];if(qu(a)!==qu(h))return[[r,"they have differing arguments"],[a],[h]]}const p=c?.type,y=f?.type;if(p&&y&&aa(p,y))return[[r,`they return conflicting types "${D(p)}" and "${D(y)}"`],[a],[h]];const g=a.selectionSet,O=h.selectionSet;if(g&&O){const w=bb(n,e,t,d,xe(p),g,xe(y),O);return Sb(w,r,a,h)}}function qu(n){var e;const t=(e=n.arguments)!==null&&e!==void 0?e:[],i={kind:m.OBJECT,fields:t.map(r=>({kind:m.OBJECT_FIELD,name:r.name,value:r.value}))};return Ae(oc(i))}function aa(n,e){return Me(n)?Me(e)?aa(n.ofType,e.ofType):!0:Me(e)?!0:te(n)?te(e)?aa(n.ofType,e.ofType):!0:te(e)?!0:Ii(n)||Ii(e)?n!==e:!1}function js(n,e,t,i){const r=e.get(i);if(r)return r;const s=Object.create(null),o=Object.create(null);em(n,t,i,s,o);const l=[s,Object.keys(o)];return e.set(i,l),l}function ca(n,e,t){const i=e.get(t.selectionSet);if(i)return i;const r=yt(n.getSchema(),t.typeCondition);return js(n,e,r,t.selectionSet)}function em(n,e,t,i,r){for(const s of t.selections)switch(s.kind){case m.FIELD:{const o=s.name.value;let l;(ae(e)||ce(e))&&(l=e.getFields()[o]);const a=s.alias?s.alias.value:o;i[a]||(i[a]=[]),i[a].push([e,s,l]);break}case m.FRAGMENT_SPREAD:r[s.name.value]=!0;break;case m.INLINE_FRAGMENT:{const o=s.typeCondition,l=o?yt(n.getSchema(),o):e;em(n,l,s.selectionSet,i,r);break}}}function Sb(n,e,t,i){if(n.length>0)return[[e,n.map(([r])=>r)],[t,...n.map(([,r])=>r).flat()],[i,...n.map(([,,r])=>r).flat()]]}class kb{constructor(){this._data=new Map}has(e,t,i){var r;const[s,o]=e<t?[e,t]:[t,e],l=(r=this._data.get(s))===null||r===void 0?void 0:r.get(o);return l===void 0?!1:i?!0:i===l}add(e,t,i){const[r,s]=e<t?[e,t]:[t,e],o=this._data.get(r);o===void 0?this._data.set(r,new Map([[s,i]])):o.set(s,i)}}function wb(n){return{InlineFragment(e){const t=n.getType(),i=n.getParentType();if(Qe(t)&&Qe(i)&&!la(n.getSchema(),t,i)){const r=D(i),s=D(t);n.reportError(new E(`Fragment cannot be spread here as objects of type "${r}" can never be of type "${s}".`,{nodes:e}))}},FragmentSpread(e){const t=e.name.value,i=Eb(n,t),r=n.getParentType();if(i&&r&&!la(n.getSchema(),i,r)){const s=D(r),o=D(i);n.reportError(new E(`Fragment "${t}" cannot be spread here as objects of type "${s}" can never be of type "${o}".`,{nodes:e}))}}}}function Eb(n,e){const t=n.getFragment(e);if(t){const i=yt(n.getSchema(),t.typeCondition);if(Qe(i))return i}}function xb(n){const e=n.getSchema(),t=Object.create(null);for(const r of n.getDocument().definitions)Io(r)&&(t[r.name.value]=r);return{ScalarTypeExtension:i,ObjectTypeExtension:i,InterfaceTypeExtension:i,UnionTypeExtension:i,EnumTypeExtension:i,InputObjectTypeExtension:i};function i(r){const s=r.name.value,o=t[s],l=e?.getType(s);let a;if(o?a=Nb[o.kind]:l&&(a=Ab(l)),a){if(a!==r.kind){const c=Db(r.kind);n.reportError(new E(`Cannot extend non-${c} type "${s}".`,{nodes:o?[o,r]:r}))}}else{const c=Object.keys({...t,...e?.getTypeMap()}),u=ti(s,c);n.reportError(new E(`Cannot extend type "${s}" because it is not defined.`+Dn(u),{nodes:r.name}))}}}const Nb={[m.SCALAR_TYPE_DEFINITION]:m.SCALAR_TYPE_EXTENSION,[m.OBJECT_TYPE_DEFINITION]:m.OBJECT_TYPE_EXTENSION,[m.INTERFACE_TYPE_DEFINITION]:m.INTERFACE_TYPE_EXTENSION,[m.UNION_TYPE_DEFINITION]:m.UNION_TYPE_EXTENSION,[m.ENUM_TYPE_DEFINITION]:m.ENUM_TYPE_EXTENSION,[m.INPUT_OBJECT_TYPE_DEFINITION]:m.INPUT_OBJECT_TYPE_EXTENSION};function Ab(n){if(Rn(n))return m.SCALAR_TYPE_EXTENSION;if(ae(n))return m.OBJECT_TYPE_EXTENSION;if(ce(n))return m.INTERFACE_TYPE_EXTENSION;if(gt(n))return m.UNION_TYPE_EXTENSION;if(lt(n))return m.ENUM_TYPE_EXTENSION;if(Le(n))return m.INPUT_OBJECT_TYPE_EXTENSION;ot(!1,"Unexpected type: "+D(n))}function Db(n){switch(n){case m.SCALAR_TYPE_EXTENSION:return"scalar";case m.OBJECT_TYPE_EXTENSION:return"object";case m.INTERFACE_TYPE_EXTENSION:return"interface";case m.UNION_TYPE_EXTENSION:return"union";case m.ENUM_TYPE_EXTENSION:return"enum";case m.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:ot(!1,"Unexpected kind: "+D(n))}}function Ib(n){return{...Pb(n),Field:{leave(e){var t;const i=n.getFieldDef();if(!i)return!1;const r=new Set((t=e.arguments)===null||t===void 0?void 0:t.map(s=>s.name.value));for(const s of i.args)if(!r.has(s.name)&&Yr(s)){const o=D(s.type);n.reportError(new E(`Field "${i.name}" argument "${s.name}" of type "${o}" is required, but it was not provided.`,{nodes:e}))}}}}}function Pb(n){var e;const t=Object.create(null),i=n.getSchema(),r=(e=i?.getDirectives())!==null&&e!==void 0?e:Mr;for(const l of r)t[l.name]=Di(l.args.filter(Yr),a=>a.name);const s=n.getDocument().definitions;for(const l of s)if(l.kind===m.DIRECTIVE_DEFINITION){var o;const a=(o=l.arguments)!==null&&o!==void 0?o:[];t[l.name.value]=Di(a.filter(Cb),c=>c.name.value)}return{Directive:{leave(l){const a=l.name.value,c=t[a];if(c){var u;const h=(u=l.arguments)!==null&&u!==void 0?u:[],f=new Set(h.map(d=>d.name.value));for(const[d,p]of Object.entries(c))if(!f.has(d)){const y=Ka(p.type)?D(p.type):Ae(p.type);n.reportError(new E(`Directive "@${a}" argument "${d}" of type "${y}" is required, but it was not provided.`,{nodes:l}))}}}}}}function Cb(n){return n.type.kind===m.NON_NULL_TYPE&&n.defaultValue==null}function Rb(n){return{Field(e){const t=n.getType(),i=e.selectionSet;if(t){if(Ii(xe(t))){if(i){const r=e.name.value,s=D(t);n.reportError(new E(`Field "${r}" must not have a selection since type "${s}" has no subfields.`,{nodes:i}))}}else if(!i){const r=e.name.value,s=D(t);n.reportError(new E(`Field "${r}" of type "${s}" must have a selection of subfields. Did you mean "${r} { ... }"?`,{nodes:e}))}}}}}function hi(n,e,t){if(n){if(n.kind===m.VARIABLE){const i=n.name.value;if(t==null||t[i]===void 0)return;const r=t[i];return r===null&&te(e)?void 0:r}if(te(e))return n.kind===m.NULL?void 0:hi(n,e.ofType,t);if(n.kind===m.NULL)return null;if(Me(e)){const i=e.ofType;if(n.kind===m.LIST){const s=[];for(const o of n.values)if(Gu(o,t)){if(te(i))return;s.push(null)}else{const l=hi(o,i,t);if(l===void 0)return;s.push(l)}return s}const r=hi(n,i,t);return r===void 0?void 0:[r]}if(Le(e)){if(n.kind!==m.OBJECT)return;const i=Object.create(null),r=Di(n.fields,s=>s.name.value);for(const s of Object.values(e.getFields())){const o=r[s.name];if(!o||Gu(o.value,t)){if(s.defaultValue!==void 0)i[s.name]=s.defaultValue;else if(te(s.type))return;continue}const l=hi(o.value,s.type,t);if(l===void 0)return;i[s.name]=l}return i}if(Ii(e)){let i;try{i=e.parseLiteral(n,t)}catch{return}return i===void 0?void 0:i}ot(!1,"Unexpected input type: "+D(e))}}function Gu(n,e){return n.kind===m.VARIABLE&&(e==null||e[n.name.value]===void 0)}function _b(n,e,t){var i;const r={},s=(i=e.arguments)!==null&&i!==void 0?i:[],o=Di(s,l=>l.name.value);for(const l of n.args){const a=l.name,c=l.type,u=o[a];if(!u){if(l.defaultValue!==void 0)r[a]=l.defaultValue;else if(te(c))throw new E(`Argument "${a}" of required type "${D(c)}" was not provided.`,{nodes:e});continue}const h=u.value;let f=h.kind===m.NULL;if(h.kind===m.VARIABLE){const p=h.name.value;if(t==null||!Yb(t,p)){if(l.defaultValue!==void 0)r[a]=l.defaultValue;else if(te(c))throw new E(`Argument "${a}" of required type "${D(c)}" was provided the variable "$${p}" which was not provided a runtime value.`,{nodes:h});continue}f=t[p]==null}if(f&&te(c))throw new E(`Argument "${a}" of non-null type "${D(c)}" must not be null.`,{nodes:h});const d=hi(h,c,t);if(d===void 0)throw new E(`Argument "${a}" has invalid value ${Ae(h)}.`,{nodes:h});r[a]=d}return r}function zu(n,e,t){var i;const r=(i=e.directives)===null||i===void 0?void 0:i.find(s=>s.name.value===n.name);if(r)return _b(n,r,t)}function Yb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Qb(n,e,t,i,r){const s=new Map;return ua(n,e,t,i,r,s,new Set),s}function ua(n,e,t,i,r,s,o){for(const l of r.selections)switch(l.kind){case m.FIELD:{if(!il(t,l))continue;const a=Mb(l),c=s.get(a);c!==void 0?c.push(l):s.set(a,[l]);break}case m.INLINE_FRAGMENT:{if(!il(t,l)||!Xu(n,l,i))continue;ua(n,e,t,i,l.selectionSet,s,o);break}case m.FRAGMENT_SPREAD:{const a=l.name.value;if(o.has(a)||!il(t,l))continue;o.add(a);const c=e[a];if(!c||!Xu(n,c,i))continue;ua(n,e,t,i,c.selectionSet,s,o);break}}}function il(n,e){const t=zu(Qp,e,n);if(t?.if===!0)return!1;const i=zu(Yp,e,n);return i?.if!==!1}function Xu(n,e,t){const i=e.typeCondition;if(!i)return!0;const r=yt(n,i);return r===t?!0:sn(r)?n.isSubType(r,t):!1}function Mb(n){return n.alias?n.alias.value:n.name.value}function Lb(n){return{OperationDefinition(e){if(e.operation==="subscription"){const t=n.getSchema(),i=t.getSubscriptionType();if(i){const r=e.name?e.name.value:null,s=Object.create(null),o=n.getDocument(),l=Object.create(null);for(const c of o.definitions)c.kind===m.FRAGMENT_DEFINITION&&(l[c.name.value]=c);const a=Qb(t,l,s,i,e.selectionSet);if(a.size>1){const h=[...a.values()].slice(1).flat();n.reportError(new E(r!=null?`Subscription "${r}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:h}))}for(const c of a.values())c[0].name.value.startsWith("__")&&n.reportError(new E(r!=null?`Subscription "${r}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:c}))}}}}}function tm(n,e){const t=new Map;for(const i of n){const r=e(i),s=t.get(r);s===void 0?t.set(r,[i]):s.push(i)}return t}function nm(n){return{Field:e,Directive:e};function e(t){var i;const r=(i=t.arguments)!==null&&i!==void 0?i:[],s=tm(r,o=>o.name.value);for(const[o,l]of s)l.length>1&&n.reportError(new E(`There can be only one argument named "${o}".`,{nodes:l.map(a=>a.name)}))}}function Vb(n){const e=Object.create(null),t=n.getSchema();return{DirectiveDefinition(i){const r=i.name.value;if(t!=null&&t.getDirective(r)){n.reportError(new E(`Directive "@${r}" already exists in the schema. It cannot be redefined.`,{nodes:i.name}));return}return e[r]?n.reportError(new E(`There can be only one directive named "@${r}".`,{nodes:[e[r],i.name]})):e[r]=i.name,!1}}}function im(n){const e=Object.create(null),t=n.getSchema(),i=t?t.getDirectives():Mr;for(const l of i)e[l.name]=!l.isRepeatable;const r=n.getDocument().definitions;for(const l of r)l.kind===m.DIRECTIVE_DEFINITION&&(e[l.name.value]=!l.repeatable);const s=Object.create(null),o=Object.create(null);return{enter(l){if(!("directives"in l)||!l.directives)return;let a;if(l.kind===m.SCHEMA_DEFINITION||l.kind===m.SCHEMA_EXTENSION)a=s;else if(Io(l)||Gp(l)){const c=l.name.value;a=o[c],a===void 0&&(o[c]=a=Object.create(null))}else a=Object.create(null);for(const c of l.directives){const u=c.name.value;e[u]&&(a[u]?n.reportError(new E(`The directive "@${u}" can only be used once at this location.`,{nodes:[a[u],c]})):a[u]=c)}}}}function $b(n){const e=n.getSchema(),t=e?e.getTypeMap():Object.create(null),i=Object.create(null);return{EnumTypeDefinition:r,EnumTypeExtension:r};function r(s){var o;const l=s.name.value;i[l]||(i[l]=Object.create(null));const a=(o=s.values)!==null&&o!==void 0?o:[],c=i[l];for(const u of a){const h=u.name.value,f=t[l];lt(f)&&f.getValue(h)?n.reportError(new E(`Enum value "${l}.${h}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:u.name})):c[h]?n.reportError(new E(`Enum value "${l}.${h}" can only be defined once.`,{nodes:[c[h],u.name]})):c[h]=u.name}return!1}}function Fb(n){const e=n.getSchema(),t=e?e.getTypeMap():Object.create(null),i=Object.create(null);return{InputObjectTypeDefinition:r,InputObjectTypeExtension:r,InterfaceTypeDefinition:r,InterfaceTypeExtension:r,ObjectTypeDefinition:r,ObjectTypeExtension:r};function r(s){var o;const l=s.name.value;i[l]||(i[l]=Object.create(null));const a=(o=s.fields)!==null&&o!==void 0?o:[],c=i[l];for(const u of a){const h=u.name.value;Bb(t[l],h)?n.reportError(new E(`Field "${l}.${h}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:u.name})):c[h]?n.reportError(new E(`Field "${l}.${h}" can only be defined once.`,{nodes:[c[h],u.name]})):c[h]=u.name}return!1}}function Bb(n,e){return ae(n)||ce(n)||Le(n)?n.getFields()[e]!=null:!1}function Ub(n){const e=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(t){const i=t.name.value;return e[i]?n.reportError(new E(`There can be only one fragment named "${i}".`,{nodes:[e[i],t.name]})):e[i]=t.name,!1}}}function rm(n){const e=[];let t=Object.create(null);return{ObjectValue:{enter(){e.push(t),t=Object.create(null)},leave(){const i=e.pop();i||ot(!1),t=i}},ObjectField(i){const r=i.name.value;t[r]?n.reportError(new E(`There can be only one input field named "${r}".`,{nodes:[t[r],i.name]})):t[r]=i.name}}}function jb(n){const e=Object.create(null);return{OperationDefinition(t){const i=t.name;return i&&(e[i.value]?n.reportError(new E(`There can be only one operation named "${i.value}".`,{nodes:[e[i.value],i]})):e[i.value]=i),!1},FragmentDefinition:()=>!1}}function qb(n){const e=n.getSchema(),t=Object.create(null),i=e?{query:e.getQueryType(),mutation:e.getMutationType(),subscription:e.getSubscriptionType()}:{};return{SchemaDefinition:r,SchemaExtension:r};function r(s){var o;const l=(o=s.operationTypes)!==null&&o!==void 0?o:[];for(const a of l){const c=a.operation,u=t[c];i[c]?n.reportError(new E(`Type for ${c} already defined in the schema. It cannot be redefined.`,{nodes:a})):u?n.reportError(new E(`There can be only one ${c} type in schema.`,{nodes:[u,a]})):t[c]=a}return!1}}function Gb(n){const e=Object.create(null),t=n.getSchema();return{ScalarTypeDefinition:i,ObjectTypeDefinition:i,InterfaceTypeDefinition:i,UnionTypeDefinition:i,EnumTypeDefinition:i,InputObjectTypeDefinition:i};function i(r){const s=r.name.value;if(t!=null&&t.getType(s)){n.reportError(new E(`Type "${s}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:r.name}));return}return e[s]?n.reportError(new E(`There can be only one type named "${s}".`,{nodes:[e[s],r.name]})):e[s]=r.name,!1}}function zb(n){return{OperationDefinition(e){var t;const i=(t=e.variableDefinitions)!==null&&t!==void 0?t:[],r=tm(i,s=>s.variable.name.value);for(const[s,o]of r)o.length>1&&n.reportError(new E(`There can be only one variable named "$${s}".`,{nodes:o.map(l=>l.variable.name)}))}}}function Xb(n){return{ListValue(e){const t=tc(n.getParentInputType());if(!Me(t))return Qn(n,e),!1},ObjectValue(e){const t=xe(n.getInputType());if(!Le(t))return Qn(n,e),!1;const i=Di(e.fields,r=>r.name.value);for(const r of Object.values(t.getFields()))if(!i[r.name]&&Pp(r)){const o=D(r.type);n.reportError(new E(`Field "${t.name}.${r.name}" of required type "${o}" was not provided.`,{nodes:e}))}},ObjectField(e){const t=xe(n.getParentInputType());if(!n.getInputType()&&Le(t)){const r=ti(e.name.value,Object.keys(t.getFields()));n.reportError(new E(`Field "${e.name.value}" is not defined by type "${t.name}".`+Dn(r),{nodes:e}))}},NullValue(e){const t=n.getInputType();te(t)&&n.reportError(new E(`Expected value of type "${D(t)}", found ${Ae(e)}.`,{nodes:e}))},EnumValue:e=>Qn(n,e),IntValue:e=>Qn(n,e),FloatValue:e=>Qn(n,e),StringValue:e=>Qn(n,e),BooleanValue:e=>Qn(n,e)}}function Qn(n,e){const t=n.getInputType();if(!t)return;const i=xe(t);if(!Ii(i)){const r=D(t);n.reportError(new E(`Expected value of type "${r}", found ${Ae(e)}.`,{nodes:e}));return}try{if(i.parseLiteral(e,void 0)===void 0){const s=D(t);n.reportError(new E(`Expected value of type "${s}", found ${Ae(e)}.`,{nodes:e}))}}catch(r){const s=D(t);r instanceof E?n.reportError(r):n.reportError(new E(`Expected value of type "${s}", found ${Ae(e)}; `+r.message,{nodes:e,originalError:r}))}}function Wb(n){return{VariableDefinition(e){const t=yt(n.getSchema(),e.type);if(t!==void 0&&!nt(t)){const i=e.variable.name.value,r=Ae(e.type);n.reportError(new E(`Variable "$${i}" cannot be non-input type "${r}".`,{nodes:e.type}))}}}}function Hb(n){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(t){const i=n.getRecursiveVariableUsages(t);for(const{node:r,type:s,defaultValue:o}of i){const l=r.name.value,a=e[l];if(a&&s){const c=n.getSchema(),u=yt(c,a.type);if(u&&!Jb(c,u,a.defaultValue,s,o)){const h=D(u),f=D(s);n.reportError(new E(`Variable "$${l}" of type "${h}" used in position expecting type "${f}".`,{nodes:[a,r]}))}}}}},VariableDefinition(t){e[t.variable.name.value]=t}}}function Jb(n,e,t,i,r){if(te(i)&&!te(e)){if(!(t!=null&&t.kind!==m.NULL)&&!(r!==void 0))return!1;const l=i.ofType;return bi(n,e,l)}return bi(n,e,i)}const sm=Object.freeze([zp,jb,fb,Lb,Hp,ob,Wb,Rb,ib,Ub,Wp,Jp,wb,pb,zb,mb,gb,Xp,im,lb,nm,Xb,Ib,Hb,vb,rm]);class Zb{constructor(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let t;if(this._fragments)t=this._fragments;else{t=Object.create(null);for(const i of this.getDocument().definitions)i.kind===m.FRAGMENT_DEFINITION&&(t[i.name.value]=i);this._fragments=t}return t[e]}getFragmentSpreads(e){let t=this._fragmentSpreads.get(e);if(!t){t=[];const i=[e];let r;for(;r=i.pop();)for(const s of r.selections)s.kind===m.FRAGMENT_SPREAD?t.push(s):s.selectionSet&&i.push(s.selectionSet);this._fragmentSpreads.set(e,t)}return t}getRecursivelyReferencedFragments(e){let t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];const i=Object.create(null),r=[e.selectionSet];let s;for(;s=r.pop();)for(const o of this.getFragmentSpreads(s)){const l=o.name.value;if(i[l]!==!0){i[l]=!0;const a=this.getFragment(l);a&&(t.push(a),r.push(a.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t}}class Kb extends Zb{constructor(e,t,i,r){super(t,r),this._schema=e,this._typeInfo=i,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let t=this._variableUsages.get(e);if(!t){const i=[],r=new jp(this._schema);_r(e,qp(r,{VariableDefinition:()=>!1,Variable(s){i.push({node:s,type:r.getInputType(),defaultValue:r.getDefaultValue()})}})),t=i,this._variableUsages.set(e,t)}return t}getRecursiveVariableUsages(e){let t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(const i of this.getRecursivelyReferencedFragments(e))t=t.concat(this.getVariableUsages(i));this._recursiveVariableUsages.set(e,t)}return t}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}function om(n,e,t=sm,i,r=new jp(n)){var s;const o=(s=i?.maxErrors)!==null&&s!==void 0?s:100;e||X(!1,"Must provide document."),BO(n);const l=Object.freeze({}),a=[],c=new Kb(n,e,r,h=>{if(a.length>=o)throw a.push(new E("Too many validation errors, error limit reached. Validation aborted.")),l;a.push(h)}),u=TO(t.map(h=>h(c)));try{_r(e,qp(r,u))}catch(h){if(h!==l)throw h}return a}function eT(n){return{Field(e){const t=n.getFieldDef(),i=t?.deprecationReason;if(t&&i!=null){const r=n.getParentType();r!=null||ot(!1),n.reportError(new E(`The field ${r.name}.${t.name} is deprecated. ${i}`,{nodes:e}))}},Argument(e){const t=n.getArgument(),i=t?.deprecationReason;if(t&&i!=null){const r=n.getDirective();if(r!=null)n.reportError(new E(`Directive "@${r.name}" argument "${t.name}" is deprecated. ${i}`,{nodes:e}));else{const s=n.getParentType(),o=n.getFieldDef();s!=null&&o!=null||ot(!1),n.reportError(new E(`Field "${s.name}.${o.name}" argument "${t.name}" is deprecated. ${i}`,{nodes:e}))}}},ObjectField(e){const t=xe(n.getParentInputType());if(Le(t)){const i=t.getFields()[e.name.value],r=i?.deprecationReason;r!=null&&n.reportError(new E(`The input field ${t.name}.${i.name} is deprecated. ${r}`,{nodes:e}))}},EnumValue(e){const t=n.getEnumValue(),i=t?.deprecationReason;if(t&&i!=null){const r=xe(n.getInputType());r!=null||ot(!1),n.reportError(new E(`The enum value "${r.name}.${t.name}" is deprecated. ${i}`,{nodes:e}))}}}}function tT(n){const e={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...n},t=e.descriptions?"description":"",i=e.specifiedByUrl?"specifiedByURL":"",r=e.directiveIsRepeatable?"isRepeatable":"",s=e.schemaDescription?t:"";function o(l){return e.inputValueDeprecation?l:""}return`
    query IntrospectionQuery {
      __schema {
        ${s}
        queryType { name }
        mutationType { name }
        subscriptionType { name }
        types {
          ...FullType
        }
        directives {
          name
          ${t}
          ${r}
          locations
          args${o("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${t}
      ${i}
      fields(includeDeprecated: true) {
        name
        ${t}
        args${o("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${o("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${t}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${t}
      type { ...TypeRef }
      defaultValue
      ${o("isDeprecated")}
      ${o("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                  }
                }
              }
            }
          }
        }
      }
    }
  `}function nT(n,e){hn(n)&&hn(n.__schema)||X(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${D(n)}.`);const t=n.__schema,i=$n(t.types,b=>b.name,b=>f(b));for(const b of[...Rp,...rc])i[b.name]&&(i[b.name]=b);const r=t.queryType?u(t.queryType):null,s=t.mutationType?u(t.mutationType):null,o=t.subscriptionType?u(t.subscriptionType):null,l=t.directives?t.directives.map(Z):[];return new Up({description:t.description,query:r,mutation:s,subscription:o,types:Object.values(i),directives:l,assumeValid:e?.assumeValid});function a(b){if(b.kind===ne.LIST){const P=b.ofType;if(!P)throw new Error("Decorated type deeper than introspection query.");return new Je(a(P))}if(b.kind===ne.NON_NULL){const P=b.ofType;if(!P)throw new Error("Decorated type deeper than introspection query.");const G=a(P);return new j(AO(G))}return c(b)}function c(b){const P=b.name;if(!P)throw new Error(`Unknown type reference: ${D(b)}.`);const G=i[P];if(!G)throw new Error(`Invalid or incomplete schema, unknown type: ${P}. Ensure that a full introspection query is used in order to build a client schema.`);return G}function u(b){return EO(c(b))}function h(b){return xO(c(b))}function f(b){if(b!=null&&b.name!=null&&b.kind!=null)switch(b.kind){case ne.SCALAR:return d(b);case ne.OBJECT:return y(b);case ne.INTERFACE:return g(b);case ne.UNION:return O(b);case ne.ENUM:return w(b);case ne.INPUT_OBJECT:return k(b)}const P=D(b);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${P}.`)}function d(b){return new ni({name:b.name,description:b.description,specifiedByURL:b.specifiedByURL})}function p(b){if(b.interfaces===null&&b.kind===ne.INTERFACE)return[];if(!b.interfaces){const P=D(b);throw new Error(`Introspection result missing interfaces: ${P}.`)}return b.interfaces.map(h)}function y(b){return new Ht({name:b.name,description:b.description,interfaces:()=>p(b),fields:()=>A(b)})}function g(b){return new Oi({name:b.name,description:b.description,interfaces:()=>p(b),fields:()=>A(b)})}function O(b){if(!b.possibleTypes){const P=D(b);throw new Error(`Introspection result missing possibleTypes: ${P}.`)}return new Ip({name:b.name,description:b.description,types:()=>b.possibleTypes.map(u)})}function w(b){if(!b.enumValues){const P=D(b);throw new Error(`Introspection result missing enumValues: ${P}.`)}return new Bi({name:b.name,description:b.description,values:$n(b.enumValues,P=>P.name,P=>({description:P.description,deprecationReason:P.deprecationReason}))})}function k(b){if(!b.inputFields){const P=D(b);throw new Error(`Introspection result missing inputFields: ${P}.`)}return new nc({name:b.name,description:b.description,fields:()=>_(b.inputFields)})}function A(b){if(!b.fields)throw new Error(`Introspection result missing fields: ${D(b)}.`);return $n(b.fields,P=>P.name,R)}function R(b){const P=a(b.type);if(!qn(P)){const G=D(P);throw new Error(`Introspection must provide output type for fields, but received: ${G}.`)}if(!b.args){const G=D(b);throw new Error(`Introspection result missing field args: ${G}.`)}return{description:b.description,deprecationReason:b.deprecationReason,type:P,args:_(b.args)}}function _(b){return $n(b,P=>P.name,I)}function I(b){const P=a(b.type);if(!nt(P)){const Ve=D(P);throw new Error(`Introspection must provide input type for arguments, but received: ${Ve}.`)}const G=b.defaultValue!=null?hi(dO(b.defaultValue),P):void 0;return{description:b.description,type:P,defaultValue:G,deprecationReason:b.deprecationReason}}function Z(b){if(!b.args){const P=D(b);throw new Error(`Introspection result missing directive args: ${P}.`)}if(!b.locations){const P=D(b);throw new Error(`Introspection result missing directive locations: ${P}.`)}return new Ui({name:b.name,description:b.description,isRepeatable:b.isRepeatable,locations:b.locations.slice(),args:_(b.args)})}}function lm(n,e){const t=new Ir,i=s=>{e()?.dispatch({effects:t.reconfigure(s)})};return Pt(wi([e,typeof n=="function"?n:()=>n],([s,o])=>{s&&o&&(t.get(s.state)?i(o):s.dispatch({effects:q.appendConfig.of(t.of(o))}))},{defer:!0})),i}function am(n){const[e,t]=an(),[i,r]=an();function s(l){return lm(l,i)}const o=V.updateListener.of(l=>n?.onModelViewUpdate?.(l));return s(o),Pt(wi(e,l=>{const a=W.create({doc:n?.value??""}),c=new V({state:a,parent:l,dispatch:u=>{if(c.update([u]),u.docChanged){const f=u.state.doc.toString();n?.onValueChange?.(f)}}});Ya(()=>r(c)),ar(()=>{r(void 0),i()?.destroy()})})),Pt(wi(i,l=>{const a=l?.state.doc.toString();a!==n?.value&&l&&l.dispatch({changes:{from:0,to:a?.length,insert:n?.value??""}})},{defer:!0})),{editorView:i,ref:t,createExtension:s}}function Wu(n){return n?V.editable.of(!1):[]}function iT(n,e){const t=e?Rt(e):!1,i=lm(Wu(t),n);Pt(wi(e,r=>i(Wu(r))))}function cm(n,e){const t=Xt(e);Pt(wi(n,i=>{i&&Pt(wi(t,r=>{const s=i?.state.doc.toString();s!==r&&i.dispatch({changes:{from:0,to:s?.length,insert:r??""}})}))}))}const rT=fe("<svg></svg>",2),um=n=>{const[e,t]=d0(n,["path"]);return(()=>{const i=rT.cloneNode(!0);return un(i,On({get viewBox(){return e.path.mini?"0 0 20 20":"0 0 24 24"},get fill(){return e.path.outline?"none":"currentColor"},get stroke(){return e.path.outline?"currentColor":"none"},get["stroke-width"](){return e.path.outline?1.5:void 0}},t),!0,!0),ee(i,()=>e.path.path),i})()},sT=fe('<svg><path fill-rule="evenodd" d="M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z" clip-rule="evenodd"></path></svg>',4,!0),oT=fe('<svg><path fill-rule="evenodd" d="M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z" clip-rule="evenodd"></path></svg>',4,!0),lT={path:()=>sT.cloneNode(!0),outline:!1,mini:!1},aT={path:()=>oT.cloneNode(!0),outline:!1,mini:!1},qs=Symbol("store-raw"),br=Symbol("store-node"),Gs=Symbol("store-name");function hm(n,e){let t=n[It];if(!t){if(Object.defineProperty(n,It,{value:t=new Proxy(n,hT)}),!Array.isArray(n)){const i=Object.keys(n),r=Object.getOwnPropertyDescriptors(n);for(let s=0,o=i.length;s<o;s++){const l=i[s];r[l].get&&Object.defineProperty(n,l,{enumerable:r[l].enumerable,get:r[l].get.bind(t)})}}e&&Object.defineProperty(n,Gs,{value:e})}return t}function Pi(n){let e;return n!=null&&typeof n=="object"&&(n[It]||!(e=Object.getPrototypeOf(n))||e===Object.prototype||Array.isArray(n))}function In(n,e=new Set){let t,i,r,s;if(t=n!=null&&n[qs])return t;if(!Pi(n)||e.has(n))return n;if(Array.isArray(n)){Object.isFrozen(n)?n=n.slice(0):e.add(n);for(let o=0,l=n.length;o<l;o++)r=n[o],(i=In(r,e))!==r&&(n[o]=i)}else{Object.isFrozen(n)?n=Object.assign({},n):e.add(n);const o=Object.keys(n),l=Object.getOwnPropertyDescriptors(n);for(let a=0,c=o.length;a<c;a++)s=o[a],!l[s].get&&(r=n[s],(i=In(r,e))!==r&&(n[s]=i))}return n}function ac(n){let e=n[br];return e||Object.defineProperty(n,br,{value:e={}}),e}function ha(n,e,t){return n[e]||(n[e]=dm(t))}function cT(n,e){const t=Reflect.getOwnPropertyDescriptor(n,e);return!t||t.get||!t.configurable||e===It||e===br||e===Gs||(delete t.value,delete t.writable,t.get=()=>n[It][e]),t}function fm(n){if(Uf()){const e=ac(n);(e._||(e._=dm()))()}}function uT(n){return fm(n),Reflect.ownKeys(n)}function dm(n){const[e,t]=an(n,{equals:!1,internal:!0});return e.$=t,e}const hT={get(n,e,t){if(e===qs)return n;if(e===It)return t;if(e===vl)return fm(n),t;const i=ac(n),r=i.hasOwnProperty(e);let s=r?i[e]():n[e];if(e===br||e==="__proto__")return s;if(!r){const o=Object.getOwnPropertyDescriptor(n,e);Uf()&&(typeof s!="function"||n.hasOwnProperty(e))&&!(o&&o.get)&&(s=ha(i,e,s)())}return Pi(s)?hm(s,n[Gs]&&`${n[Gs]}:${e.toString()}`):s},has(n,e){return e===qs||e===It||e===vl||e===br||e==="__proto__"?!0:(this.get(n,e,n),e in n)},set(){return console.warn("Cannot mutate a Store directly"),!0},deleteProperty(){return console.warn("Cannot mutate a Store directly"),!0},ownKeys:uT,getOwnPropertyDescriptor:cT};function Ci(n,e,t,i=!1){if(!i&&n[e]===t)return;const r=n[e],s=n.length;globalThis._$onStoreNodeUpdate&&globalThis._$onStoreNodeUpdate(n,e,t,r),t===void 0?delete n[e]:n[e]=t;let o=ac(n),l;(l=ha(o,e,r))&&l.$(()=>t),Array.isArray(n)&&n.length!==s&&(l=ha(o,"length",s))&&l.$(n.length),(l=o._)&&l.$()}function pm(n,e){const t=Object.keys(e);for(let i=0;i<t.length;i+=1){const r=t[i];Ci(n,r,e[r])}}function fT(n,e){if(typeof e=="function"&&(e=e(n)),e=In(e),Array.isArray(e)){if(n===e)return;let t=0,i=e.length;for(;t<i;t++){const r=e[t];n[t]!==r&&Ci(n,t,r)}Ci(n,"length",i)}else pm(n,e)}function tr(n,e,t=[]){let i,r=n;if(e.length>1){i=e.shift();const o=typeof i,l=Array.isArray(n);if(Array.isArray(i)){for(let a=0;a<i.length;a++)tr(n,[i[a]].concat(e),t);return}else if(l&&o==="function"){for(let a=0;a<n.length;a++)i(n[a],a)&&tr(n,[a].concat(e),t);return}else if(l&&o==="object"){const{from:a=0,to:c=n.length-1,by:u=1}=i;for(let h=a;h<=c;h+=u)tr(n,[h].concat(e),t);return}else if(e.length>1){tr(n[i],e,[i].concat(t));return}r=n[i],t=[i].concat(t)}let s=e[0];typeof s=="function"&&(s=s(r,t),s===r)||i===void 0&&s==null||(s=In(s),i===void 0||Pi(r)&&Pi(s)&&!Array.isArray(s)?pm(r,s):Ci(n,i,s))}function mm(...[n,e]){const t=In(n||{}),i=Array.isArray(t);if(typeof t!="object"&&typeof t!="function")throw new Error(`Unexpected type ${typeof t} received when initializing 'createStore'. Expected an object.`);const r=hm(t,e&&e.name||vs.hashValue(t));{const o=e&&e.name||vs.hashValue(t);vs.registerGraph(o,{value:t})}function s(...o){i0(()=>{i&&o.length===1?fT(t,o[0]):tr(t,o)})}return[r,s]}const zs=new WeakMap,gm={get(n,e){if(e===qs)return n;const t=n[e];let i;return Pi(t)?zs.get(t)||(zs.set(t,i=new Proxy(t,gm)),i):t},set(n,e,t){return Ci(n,e,In(t)),!0},deleteProperty(n,e){return Ci(n,e,void 0,!0),!0}};function rs(n){return e=>{if(Pi(e)){let t;(t=zs.get(e))||zs.set(e,t=new Proxy(e,gm)),n(t)}return e}}function dT(n){let e;return ym(n,t=>{switch(t.kind){case"Query":case"ShortQuery":case"Mutation":case"Subscription":case"FragmentDefinition":e=t;break}}),e}function Hu(n,e,t){return t===yr.name&&n.getQueryType()===e?yr:t===vr.name&&n.getQueryType()===e?vr:t===Or.name&&Qe(e)?Or:"getFields"in e?e.getFields()[t]:null}function ym(n,e){const t=[];let i=n;for(;i?.kind;)t.push(i),i=i.prevState;for(let r=t.length-1;r>=0;r--)e(t[r])}function ei(n){const e=Object.keys(n),t=e.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=n[e[r]];return i}function he(n,e){return pT(e,vm(n.string))}function pT(n,e){if(!e)return rl(n,i=>!i.isDeprecated);const t=n.map(i=>({proximity:mT(vm(i.label),e),entry:i}));return rl(rl(t,i=>i.proximity<=2),i=>!i.entry.isDeprecated).sort((i,r)=>(i.entry.isDeprecated?1:0)-(r.entry.isDeprecated?1:0)||i.proximity-r.proximity||i.entry.label.length-r.entry.label.length).map(i=>i.entry)}function rl(n,e){const t=n.filter(e);return t.length===0?n:t}function vm(n){return n.toLowerCase().replace(/\W/g,"")}function mT(n,e){let t=gT(e,n);return n.length>e.length&&(t-=n.length-e.length-1,t+=n.indexOf(e)===0?0:.5),t}function gT(n,e){let t,i;const r=[],s=n.length,o=e.length;for(t=0;t<=s;t++)r[t]=[t];for(i=1;i<=o;i++)r[0][i]=i;for(t=1;t<=s;t++)for(i=1;i<=o;i++){const l=n[t-1]===e[i-1]?0:1;r[t][i]=Math.min(r[t-1][i]+1,r[t][i-1]+1,r[t-1][i-1]+l),t>1&&i>1&&n[t-1]===e[i-2]&&n[t-2]===e[i-1]&&(r[t][i]=Math.min(r[t][i],r[t-2][i-2]+l))}return r[s][o]}var Ju;(function(n){function e(t){return typeof t=="string"}n.is=e})(Ju||(Ju={}));var fa;(function(n){function e(t){return typeof t=="string"}n.is=e})(fa||(fa={}));var Zu;(function(n){n.MIN_VALUE=-2147483648,n.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&n.MIN_VALUE<=t&&t<=n.MAX_VALUE}n.is=e})(Zu||(Zu={}));var Xs;(function(n){n.MIN_VALUE=0,n.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&n.MIN_VALUE<=t&&t<=n.MAX_VALUE}n.is=e})(Xs||(Xs={}));var xt;(function(n){function e(i,r){return i===Number.MAX_VALUE&&(i=Xs.MAX_VALUE),r===Number.MAX_VALUE&&(r=Xs.MAX_VALUE),{line:i,character:r}}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&v.uinteger(r.line)&&v.uinteger(r.character)}n.is=t})(xt||(xt={}));var ye;(function(n){function e(i,r,s,o){if(v.uinteger(i)&&v.uinteger(r)&&v.uinteger(s)&&v.uinteger(o))return{start:xt.create(i,r),end:xt.create(s,o)};if(xt.is(i)&&xt.is(r))return{start:i,end:r};throw new Error("Range#create called with invalid arguments[".concat(i,", ").concat(r,", ").concat(s,", ").concat(o,"]"))}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&xt.is(r.start)&&xt.is(r.end)}n.is=t})(ye||(ye={}));var Ws;(function(n){function e(i,r){return{uri:i,range:r}}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&ye.is(r.range)&&(v.string(r.uri)||v.undefined(r.uri))}n.is=t})(Ws||(Ws={}));var Ku;(function(n){function e(i,r,s,o){return{targetUri:i,targetRange:r,targetSelectionRange:s,originSelectionRange:o}}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&ye.is(r.targetRange)&&v.string(r.targetUri)&&ye.is(r.targetSelectionRange)&&(ye.is(r.originSelectionRange)||v.undefined(r.originSelectionRange))}n.is=t})(Ku||(Ku={}));var da;(function(n){function e(i,r,s,o){return{red:i,green:r,blue:s,alpha:o}}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&v.numberRange(r.red,0,1)&&v.numberRange(r.green,0,1)&&v.numberRange(r.blue,0,1)&&v.numberRange(r.alpha,0,1)}n.is=t})(da||(da={}));var eh;(function(n){function e(i,r){return{range:i,color:r}}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&ye.is(r.range)&&da.is(r.color)}n.is=t})(eh||(eh={}));var th;(function(n){function e(i,r,s){return{label:i,textEdit:r,additionalTextEdits:s}}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&v.string(r.label)&&(v.undefined(r.textEdit)||on.is(r))&&(v.undefined(r.additionalTextEdits)||v.typedArray(r.additionalTextEdits,on.is))}n.is=t})(th||(th={}));var nh;(function(n){n.Comment="comment",n.Imports="imports",n.Region="region"})(nh||(nh={}));var ih;(function(n){function e(i,r,s,o,l,a){var c={startLine:i,endLine:r};return v.defined(s)&&(c.startCharacter=s),v.defined(o)&&(c.endCharacter=o),v.defined(l)&&(c.kind=l),v.defined(a)&&(c.collapsedText=a),c}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&v.uinteger(r.startLine)&&v.uinteger(r.startLine)&&(v.undefined(r.startCharacter)||v.uinteger(r.startCharacter))&&(v.undefined(r.endCharacter)||v.uinteger(r.endCharacter))&&(v.undefined(r.kind)||v.string(r.kind))}n.is=t})(ih||(ih={}));var pa;(function(n){function e(i,r){return{location:i,message:r}}n.create=e;function t(i){var r=i;return v.defined(r)&&Ws.is(r.location)&&v.string(r.message)}n.is=t})(pa||(pa={}));var rh;(function(n){n.Error=1,n.Warning=2,n.Information=3,n.Hint=4})(rh||(rh={}));var sh;(function(n){n.Unnecessary=1,n.Deprecated=2})(sh||(sh={}));var oh;(function(n){function e(t){var i=t;return v.objectLiteral(i)&&v.string(i.href)}n.is=e})(oh||(oh={}));var Hs;(function(n){function e(i,r,s,o,l,a){var c={range:i,message:r};return v.defined(s)&&(c.severity=s),v.defined(o)&&(c.code=o),v.defined(l)&&(c.source=l),v.defined(a)&&(c.relatedInformation=a),c}n.create=e;function t(i){var r,s=i;return v.defined(s)&&ye.is(s.range)&&v.string(s.message)&&(v.number(s.severity)||v.undefined(s.severity))&&(v.integer(s.code)||v.string(s.code)||v.undefined(s.code))&&(v.undefined(s.codeDescription)||v.string((r=s.codeDescription)===null||r===void 0?void 0:r.href))&&(v.string(s.source)||v.undefined(s.source))&&(v.undefined(s.relatedInformation)||v.typedArray(s.relatedInformation,pa.is))}n.is=t})(Hs||(Hs={}));var Ri;(function(n){function e(i,r){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var l={title:i,command:r};return v.defined(s)&&s.length>0&&(l.arguments=s),l}n.create=e;function t(i){var r=i;return v.defined(r)&&v.string(r.title)&&v.string(r.command)}n.is=t})(Ri||(Ri={}));var on;(function(n){function e(s,o){return{range:s,newText:o}}n.replace=e;function t(s,o){return{range:{start:s,end:s},newText:o}}n.insert=t;function i(s){return{range:s,newText:""}}n.del=i;function r(s){var o=s;return v.objectLiteral(o)&&v.string(o.newText)&&ye.is(o.range)}n.is=r})(on||(on={}));var Ti;(function(n){function e(i,r,s){var o={label:i};return r!==void 0&&(o.needsConfirmation=r),s!==void 0&&(o.description=s),o}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&v.string(r.label)&&(v.boolean(r.needsConfirmation)||r.needsConfirmation===void 0)&&(v.string(r.description)||r.description===void 0)}n.is=t})(Ti||(Ti={}));var Fe;(function(n){function e(t){var i=t;return v.string(i)}n.is=e})(Fe||(Fe={}));var mn;(function(n){function e(s,o,l){return{range:s,newText:o,annotationId:l}}n.replace=e;function t(s,o,l){return{range:{start:s,end:s},newText:o,annotationId:l}}n.insert=t;function i(s,o){return{range:s,newText:"",annotationId:o}}n.del=i;function r(s){var o=s;return on.is(o)&&(Ti.is(o.annotationId)||Fe.is(o.annotationId))}n.is=r})(mn||(mn={}));var Js;(function(n){function e(i,r){return{textDocument:i,edits:r}}n.create=e;function t(i){var r=i;return v.defined(r)&&Zs.is(r.textDocument)&&Array.isArray(r.edits)}n.is=t})(Js||(Js={}));var Tr;(function(n){function e(i,r,s){var o={kind:"create",uri:i};return r!==void 0&&(r.overwrite!==void 0||r.ignoreIfExists!==void 0)&&(o.options=r),s!==void 0&&(o.annotationId=s),o}n.create=e;function t(i){var r=i;return r&&r.kind==="create"&&v.string(r.uri)&&(r.options===void 0||(r.options.overwrite===void 0||v.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||v.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||Fe.is(r.annotationId))}n.is=t})(Tr||(Tr={}));var Sr;(function(n){function e(i,r,s,o){var l={kind:"rename",oldUri:i,newUri:r};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),o!==void 0&&(l.annotationId=o),l}n.create=e;function t(i){var r=i;return r&&r.kind==="rename"&&v.string(r.oldUri)&&v.string(r.newUri)&&(r.options===void 0||(r.options.overwrite===void 0||v.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||v.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||Fe.is(r.annotationId))}n.is=t})(Sr||(Sr={}));var kr;(function(n){function e(i,r,s){var o={kind:"delete",uri:i};return r!==void 0&&(r.recursive!==void 0||r.ignoreIfNotExists!==void 0)&&(o.options=r),s!==void 0&&(o.annotationId=s),o}n.create=e;function t(i){var r=i;return r&&r.kind==="delete"&&v.string(r.uri)&&(r.options===void 0||(r.options.recursive===void 0||v.boolean(r.options.recursive))&&(r.options.ignoreIfNotExists===void 0||v.boolean(r.options.ignoreIfNotExists)))&&(r.annotationId===void 0||Fe.is(r.annotationId))}n.is=t})(kr||(kr={}));var ma;(function(n){function e(t){var i=t;return i&&(i.changes!==void 0||i.documentChanges!==void 0)&&(i.documentChanges===void 0||i.documentChanges.every(function(r){return v.string(r.kind)?Tr.is(r)||Sr.is(r)||kr.is(r):Js.is(r)}))}n.is=e})(ma||(ma={}));var ss=function(){function n(e,t){this.edits=e,this.changeAnnotations=t}return n.prototype.insert=function(e,t,i){var r,s;if(i===void 0?r=on.insert(e,t):Fe.is(i)?(s=i,r=mn.insert(e,t,i)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(i),r=mn.insert(e,t,s)),this.edits.push(r),s!==void 0)return s},n.prototype.replace=function(e,t,i){var r,s;if(i===void 0?r=on.replace(e,t):Fe.is(i)?(s=i,r=mn.replace(e,t,i)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(i),r=mn.replace(e,t,s)),this.edits.push(r),s!==void 0)return s},n.prototype.delete=function(e,t){var i,r;if(t===void 0?i=on.del(e):Fe.is(t)?(r=t,i=mn.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),i=mn.del(e,r)),this.edits.push(i),r!==void 0)return r},n.prototype.add=function(e){this.edits.push(e)},n.prototype.all=function(){return this.edits},n.prototype.clear=function(){this.edits.splice(0,this.edits.length)},n.prototype.assertChangeAnnotations=function(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},n}(),lh=function(){function n(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}return n.prototype.all=function(){return this._annotations},Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),n.prototype.manage=function(e,t){var i;if(Fe.is(e)?i=e:(i=this.nextId(),t=e),this._annotations[i]!==void 0)throw new Error("Id ".concat(i," is already in use."));if(t===void 0)throw new Error("No annotation provided for id ".concat(i));return this._annotations[i]=t,this._size++,i},n.prototype.nextId=function(){return this._counter++,this._counter.toString()},n}();(function(){function n(e){var t=this;this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new lh(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(function(i){if(Js.is(i)){var r=new ss(i.edits,t._changeAnnotations);t._textEditChanges[i.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach(function(i){var r=new ss(e.changes[i]);t._textEditChanges[i]=r})):this._workspaceEdit={}}return Object.defineProperty(n.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),n.prototype.getTextEditChange=function(e){if(Zs.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version},i=this._textEditChanges[t.uri];if(!i){var r=[],s={textDocument:t,edits:r};this._workspaceEdit.documentChanges.push(s),i=new ss(r,this._changeAnnotations),this._textEditChanges[t.uri]=i}return i}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var i=this._textEditChanges[e];if(!i){var r=[];this._workspaceEdit.changes[e]=r,i=new ss(r),this._textEditChanges[e]=i}return i}},n.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new lh,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},n.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},n.prototype.createFile=function(e,t,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r;Ti.is(t)||Fe.is(t)?r=t:i=t;var s,o;if(r===void 0?s=Tr.create(e,i):(o=Fe.is(r)?r:this._changeAnnotations.manage(r),s=Tr.create(e,i,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},n.prototype.renameFile=function(e,t,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;Ti.is(i)||Fe.is(i)?s=i:r=i;var o,l;if(s===void 0?o=Sr.create(e,t,r):(l=Fe.is(s)?s:this._changeAnnotations.manage(s),o=Sr.create(e,t,r,l)),this._workspaceEdit.documentChanges.push(o),l!==void 0)return l},n.prototype.deleteFile=function(e,t,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r;Ti.is(t)||Fe.is(t)?r=t:i=t;var s,o;if(r===void 0?s=kr.create(e,i):(o=Fe.is(r)?r:this._changeAnnotations.manage(r),s=kr.create(e,i,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},n})();var ah;(function(n){function e(i){return{uri:i}}n.create=e;function t(i){var r=i;return v.defined(r)&&v.string(r.uri)}n.is=t})(ah||(ah={}));var ch;(function(n){function e(i,r){return{uri:i,version:r}}n.create=e;function t(i){var r=i;return v.defined(r)&&v.string(r.uri)&&v.integer(r.version)}n.is=t})(ch||(ch={}));var Zs;(function(n){function e(i,r){return{uri:i,version:r}}n.create=e;function t(i){var r=i;return v.defined(r)&&v.string(r.uri)&&(r.version===null||v.integer(r.version))}n.is=t})(Zs||(Zs={}));var uh;(function(n){function e(i,r,s,o){return{uri:i,languageId:r,version:s,text:o}}n.create=e;function t(i){var r=i;return v.defined(r)&&v.string(r.uri)&&v.string(r.languageId)&&v.integer(r.version)&&v.string(r.text)}n.is=t})(uh||(uh={}));var ga;(function(n){n.PlainText="plaintext",n.Markdown="markdown";function e(t){var i=t;return i===n.PlainText||i===n.Markdown}n.is=e})(ga||(ga={}));var wr;(function(n){function e(t){var i=t;return v.objectLiteral(t)&&ga.is(i.kind)&&v.string(i.value)}n.is=e})(wr||(wr={}));var hh;(function(n){n.Text=1,n.Method=2,n.Function=3,n.Constructor=4,n.Field=5,n.Variable=6,n.Class=7,n.Interface=8,n.Module=9,n.Property=10,n.Unit=11,n.Value=12,n.Enum=13,n.Keyword=14,n.Snippet=15,n.Color=16,n.File=17,n.Reference=18,n.Folder=19,n.EnumMember=20,n.Constant=21,n.Struct=22,n.Event=23,n.Operator=24,n.TypeParameter=25})(hh||(hh={}));var ya;(function(n){n.PlainText=1,n.Snippet=2})(ya||(ya={}));var fh;(function(n){n.Deprecated=1})(fh||(fh={}));var dh;(function(n){function e(i,r,s){return{newText:i,insert:r,replace:s}}n.create=e;function t(i){var r=i;return r&&v.string(r.newText)&&ye.is(r.insert)&&ye.is(r.replace)}n.is=t})(dh||(dh={}));var ph;(function(n){n.asIs=1,n.adjustIndentation=2})(ph||(ph={}));var mh;(function(n){function e(t){var i=t;return i&&(v.string(i.detail)||i.detail===void 0)&&(v.string(i.description)||i.description===void 0)}n.is=e})(mh||(mh={}));var gh;(function(n){function e(t){return{label:t}}n.create=e})(gh||(gh={}));var yh;(function(n){function e(t,i){return{items:t||[],isIncomplete:!!i}}n.create=e})(yh||(yh={}));var Ks;(function(n){function e(i){return i.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}n.fromPlainText=e;function t(i){var r=i;return v.string(r)||v.objectLiteral(r)&&v.string(r.language)&&v.string(r.value)}n.is=t})(Ks||(Ks={}));var vh;(function(n){function e(t){var i=t;return!!i&&v.objectLiteral(i)&&(wr.is(i.contents)||Ks.is(i.contents)||v.typedArray(i.contents,Ks.is))&&(t.range===void 0||ye.is(t.range))}n.is=e})(vh||(vh={}));var Oh;(function(n){function e(t,i){return i?{label:t,documentation:i}:{label:t}}n.create=e})(Oh||(Oh={}));var bh;(function(n){function e(t,i){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var o={label:t};return v.defined(i)&&(o.documentation=i),v.defined(r)?o.parameters=r:o.parameters=[],o}n.create=e})(bh||(bh={}));var Th;(function(n){n.Text=1,n.Read=2,n.Write=3})(Th||(Th={}));var Sh;(function(n){function e(t,i){var r={range:t};return v.number(i)&&(r.kind=i),r}n.create=e})(Sh||(Sh={}));var kh;(function(n){n.File=1,n.Module=2,n.Namespace=3,n.Package=4,n.Class=5,n.Method=6,n.Property=7,n.Field=8,n.Constructor=9,n.Enum=10,n.Interface=11,n.Function=12,n.Variable=13,n.Constant=14,n.String=15,n.Number=16,n.Boolean=17,n.Array=18,n.Object=19,n.Key=20,n.Null=21,n.EnumMember=22,n.Struct=23,n.Event=24,n.Operator=25,n.TypeParameter=26})(kh||(kh={}));var wh;(function(n){n.Deprecated=1})(wh||(wh={}));var Eh;(function(n){function e(t,i,r,s,o){var l={name:t,kind:i,location:{uri:s,range:r}};return o&&(l.containerName=o),l}n.create=e})(Eh||(Eh={}));var xh;(function(n){function e(t,i,r,s){return s!==void 0?{name:t,kind:i,location:{uri:r,range:s}}:{name:t,kind:i,location:{uri:r}}}n.create=e})(xh||(xh={}));var Nh;(function(n){function e(i,r,s,o,l,a){var c={name:i,detail:r,kind:s,range:o,selectionRange:l};return a!==void 0&&(c.children=a),c}n.create=e;function t(i){var r=i;return r&&v.string(r.name)&&v.number(r.kind)&&ye.is(r.range)&&ye.is(r.selectionRange)&&(r.detail===void 0||v.string(r.detail))&&(r.deprecated===void 0||v.boolean(r.deprecated))&&(r.children===void 0||Array.isArray(r.children))&&(r.tags===void 0||Array.isArray(r.tags))}n.is=t})(Nh||(Nh={}));var Ah;(function(n){n.Empty="",n.QuickFix="quickfix",n.Refactor="refactor",n.RefactorExtract="refactor.extract",n.RefactorInline="refactor.inline",n.RefactorRewrite="refactor.rewrite",n.Source="source",n.SourceOrganizeImports="source.organizeImports",n.SourceFixAll="source.fixAll"})(Ah||(Ah={}));var eo;(function(n){n.Invoked=1,n.Automatic=2})(eo||(eo={}));var Dh;(function(n){function e(i,r,s){var o={diagnostics:i};return r!=null&&(o.only=r),s!=null&&(o.triggerKind=s),o}n.create=e;function t(i){var r=i;return v.defined(r)&&v.typedArray(r.diagnostics,Hs.is)&&(r.only===void 0||v.typedArray(r.only,v.string))&&(r.triggerKind===void 0||r.triggerKind===eo.Invoked||r.triggerKind===eo.Automatic)}n.is=t})(Dh||(Dh={}));var Ih;(function(n){function e(i,r,s){var o={title:i},l=!0;return typeof r=="string"?(l=!1,o.kind=r):Ri.is(r)?o.command=r:o.edit=r,l&&s!==void 0&&(o.kind=s),o}n.create=e;function t(i){var r=i;return r&&v.string(r.title)&&(r.diagnostics===void 0||v.typedArray(r.diagnostics,Hs.is))&&(r.kind===void 0||v.string(r.kind))&&(r.edit!==void 0||r.command!==void 0)&&(r.command===void 0||Ri.is(r.command))&&(r.isPreferred===void 0||v.boolean(r.isPreferred))&&(r.edit===void 0||ma.is(r.edit))}n.is=t})(Ih||(Ih={}));var Ph;(function(n){function e(i,r){var s={range:i};return v.defined(r)&&(s.data=r),s}n.create=e;function t(i){var r=i;return v.defined(r)&&ye.is(r.range)&&(v.undefined(r.command)||Ri.is(r.command))}n.is=t})(Ph||(Ph={}));var Ch;(function(n){function e(i,r){return{tabSize:i,insertSpaces:r}}n.create=e;function t(i){var r=i;return v.defined(r)&&v.uinteger(r.tabSize)&&v.boolean(r.insertSpaces)}n.is=t})(Ch||(Ch={}));var Rh;(function(n){function e(i,r,s){return{range:i,target:r,data:s}}n.create=e;function t(i){var r=i;return v.defined(r)&&ye.is(r.range)&&(v.undefined(r.target)||v.string(r.target))}n.is=t})(Rh||(Rh={}));var _h;(function(n){function e(i,r){return{range:i,parent:r}}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&ye.is(r.range)&&(r.parent===void 0||n.is(r.parent))}n.is=t})(_h||(_h={}));var Yh;(function(n){n.namespace="namespace",n.type="type",n.class="class",n.enum="enum",n.interface="interface",n.struct="struct",n.typeParameter="typeParameter",n.parameter="parameter",n.variable="variable",n.property="property",n.enumMember="enumMember",n.event="event",n.function="function",n.method="method",n.macro="macro",n.keyword="keyword",n.modifier="modifier",n.comment="comment",n.string="string",n.number="number",n.regexp="regexp",n.operator="operator",n.decorator="decorator"})(Yh||(Yh={}));var Qh;(function(n){n.declaration="declaration",n.definition="definition",n.readonly="readonly",n.static="static",n.deprecated="deprecated",n.abstract="abstract",n.async="async",n.modification="modification",n.documentation="documentation",n.defaultLibrary="defaultLibrary"})(Qh||(Qh={}));var Mh;(function(n){function e(t){var i=t;return v.objectLiteral(i)&&(i.resultId===void 0||typeof i.resultId=="string")&&Array.isArray(i.data)&&(i.data.length===0||typeof i.data[0]=="number")}n.is=e})(Mh||(Mh={}));var Lh;(function(n){function e(i,r){return{range:i,text:r}}n.create=e;function t(i){var r=i;return r!=null&&ye.is(r.range)&&v.string(r.text)}n.is=t})(Lh||(Lh={}));var Vh;(function(n){function e(i,r,s){return{range:i,variableName:r,caseSensitiveLookup:s}}n.create=e;function t(i){var r=i;return r!=null&&ye.is(r.range)&&v.boolean(r.caseSensitiveLookup)&&(v.string(r.variableName)||r.variableName===void 0)}n.is=t})(Vh||(Vh={}));var $h;(function(n){function e(i,r){return{range:i,expression:r}}n.create=e;function t(i){var r=i;return r!=null&&ye.is(r.range)&&(v.string(r.expression)||r.expression===void 0)}n.is=t})($h||($h={}));var Fh;(function(n){function e(i,r){return{frameId:i,stoppedLocation:r}}n.create=e;function t(i){var r=i;return v.defined(r)&&ye.is(i.stoppedLocation)}n.is=t})(Fh||(Fh={}));var va;(function(n){n.Type=1,n.Parameter=2;function e(t){return t===1||t===2}n.is=e})(va||(va={}));var Oa;(function(n){function e(i){return{value:i}}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&(r.tooltip===void 0||v.string(r.tooltip)||wr.is(r.tooltip))&&(r.location===void 0||Ws.is(r.location))&&(r.command===void 0||Ri.is(r.command))}n.is=t})(Oa||(Oa={}));var Bh;(function(n){function e(i,r,s){var o={position:i,label:r};return s!==void 0&&(o.kind=s),o}n.create=e;function t(i){var r=i;return v.objectLiteral(r)&&xt.is(r.position)&&(v.string(r.label)||v.typedArray(r.label,Oa.is))&&(r.kind===void 0||va.is(r.kind))&&r.textEdits===void 0||v.typedArray(r.textEdits,on.is)&&(r.tooltip===void 0||v.string(r.tooltip)||wr.is(r.tooltip))&&(r.paddingLeft===void 0||v.boolean(r.paddingLeft))&&(r.paddingRight===void 0||v.boolean(r.paddingRight))}n.is=t})(Bh||(Bh={}));var Uh;(function(n){function e(t){var i=t;return v.objectLiteral(i)&&fa.is(i.uri)&&v.string(i.name)}n.is=e})(Uh||(Uh={}));var jh;(function(n){function e(s,o,l,a){return new yT(s,o,l,a)}n.create=e;function t(s){var o=s;return!!(v.defined(o)&&v.string(o.uri)&&(v.undefined(o.languageId)||v.string(o.languageId))&&v.uinteger(o.lineCount)&&v.func(o.getText)&&v.func(o.positionAt)&&v.func(o.offsetAt))}n.is=t;function i(s,o){for(var l=s.getText(),a=r(o,function(p,y){var g=p.range.start.line-y.range.start.line;return g===0?p.range.start.character-y.range.start.character:g}),c=l.length,u=a.length-1;u>=0;u--){var h=a[u],f=s.offsetAt(h.range.start),d=s.offsetAt(h.range.end);if(d<=c)l=l.substring(0,f)+h.newText+l.substring(d,l.length);else throw new Error("Overlapping edit");c=f}return l}n.applyEdits=i;function r(s,o){if(s.length<=1)return s;var l=s.length/2|0,a=s.slice(0,l),c=s.slice(l);r(a,o),r(c,o);for(var u=0,h=0,f=0;u<a.length&&h<c.length;){var d=o(a[u],c[h]);d<=0?s[f++]=a[u++]:s[f++]=c[h++]}for(;u<a.length;)s[f++]=a[u++];for(;h<c.length;)s[f++]=c[h++];return s}})(jh||(jh={}));var yT=function(){function n(e,t,i,r){this._uri=e,this._languageId=t,this._version=i,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(n.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),n.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),i=this.offsetAt(e.end);return this._content.substring(t,i)}return this._content},n.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},n.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var e=[],t=this._content,i=!0,r=0;r<t.length;r++){i&&(e.push(r),i=!1);var s=t.charAt(r);i=s==="\r"||s===`
`,s==="\r"&&r+1<t.length&&t.charAt(r+1)===`
`&&r++}i&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},n.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),i=0,r=t.length;if(r===0)return xt.create(0,e);for(;i<r;){var s=Math.floor((i+r)/2);t[s]>e?r=s:i=s+1}var o=i-1;return xt.create(o,e-t[o])},n.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var i=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(i+e.character,r),i)},Object.defineProperty(n.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),n}(),v;(function(n){var e=Object.prototype.toString;function t(d){return typeof d<"u"}n.defined=t;function i(d){return typeof d>"u"}n.undefined=i;function r(d){return d===!0||d===!1}n.boolean=r;function s(d){return e.call(d)==="[object String]"}n.string=s;function o(d){return e.call(d)==="[object Number]"}n.number=o;function l(d,p,y){return e.call(d)==="[object Number]"&&p<=d&&d<=y}n.numberRange=l;function a(d){return e.call(d)==="[object Number]"&&-2147483648<=d&&d<=2147483647}n.integer=a;function c(d){return e.call(d)==="[object Number]"&&0<=d&&d<=2147483647}n.uinteger=c;function u(d){return e.call(d)==="[object Function]"}n.func=u;function h(d){return d!==null&&typeof d=="object"}n.objectLiteral=h;function f(d,p){return Array.isArray(d)&&d.every(p)}n.typedArray=f})(v||(v={}));var F;(function(n){n.Text=1,n.Method=2,n.Function=3,n.Constructor=4,n.Field=5,n.Variable=6,n.Class=7,n.Interface=8,n.Module=9,n.Property=10,n.Unit=11,n.Value=12,n.Enum=13,n.Keyword=14,n.Snippet=15,n.Color=16,n.File=17,n.Reference=18,n.Folder=19,n.EnumMember=20,n.Constant=21,n.Struct=22,n.Event=23,n.Operator=24,n.TypeParameter=25})(F||(F={}));class ba{constructor(e){this.getStartOfToken=()=>this._start,this.getCurrentPosition=()=>this._pos,this.eol=()=>this._sourceText.length===this._pos,this.sol=()=>this._pos===0,this.peek=()=>this._sourceText.charAt(this._pos)||null,this.next=()=>{const t=this._sourceText.charAt(this._pos);return this._pos++,t},this.eat=t=>{if(this._testNextCharacter(t))return this._start=this._pos,this._pos++,this._sourceText.charAt(this._pos-1)},this.eatWhile=t=>{let i=this._testNextCharacter(t),r=!1;for(i&&(r=i,this._start=this._pos);i;)this._pos++,i=this._testNextCharacter(t),r=!0;return r},this.eatSpace=()=>this.eatWhile(/[\s\u00a0]/),this.skipToEnd=()=>{this._pos=this._sourceText.length},this.skipTo=t=>{this._pos=t},this.match=(t,i=!0,r=!1)=>{let s=null,o=null;return typeof t=="string"?(o=new RegExp(t,r?"i":"g").test(this._sourceText.substr(this._pos,t.length)),s=t):t instanceof RegExp&&(o=this._sourceText.slice(this._pos).match(t),s=o?.[0]),o!=null&&(typeof t=="string"||o instanceof Array&&this._sourceText.startsWith(o[0],this._pos))?(i&&(this._start=this._pos,s&&s.length&&(this._pos+=s.length)),o):!1},this.backUp=t=>{this._pos-=t},this.column=()=>this._pos,this.indentation=()=>{const t=this._sourceText.match(/\s*/);let i=0;if(t&&t.length!==0){const r=t[0];let s=0;for(;r.length>s;)r.charCodeAt(s)===9?i+=2:i++,s++}return i},this.current=()=>this._sourceText.slice(this._start,this._pos),this._start=0,this._pos=0,this._sourceText=e}_testNextCharacter(e){const t=this._sourceText.charAt(this._pos);let i=!1;return typeof e=="string"?i=t===e:i=e instanceof RegExp?e.test(t):e(t),i}}function de(n){return{ofRule:n}}function z(n,e){return{ofRule:n,isList:!0,separator:e}}function vT(n,e){const t=n.match;return n.match=i=>{let r=!1;return t&&(r=t(i)),r&&e.every(s=>s.match&&!s.match(i))},n}function sl(n,e){return{style:e,match:t=>t.kind===n}}function $(n,e){return{style:e||"punctuation",match:t=>t.kind==="Punctuation"&&t.value===n}}const OT=n=>n===" "||n==="	"||n===","||n===`
`||n==="\r"||n==="\uFEFF"||n===" ",bT={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|&|@|\[|]|\{|\||\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^(?:"""(?:\\"""|[^"]|"[^"]|""[^"])*(?:""")?|"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?)/,Comment:/^#.*/},TT={Document:[z("Definition")],Definition(n){switch(n.value){case"{":return"ShortQuery";case"query":return"Query";case"mutation":return"Mutation";case"subscription":return"Subscription";case"fragment":return m.FRAGMENT_DEFINITION;case"schema":return"SchemaDef";case"scalar":return"ScalarDef";case"type":return"ObjectTypeDef";case"interface":return"InterfaceDef";case"union":return"UnionDef";case"enum":return"EnumDef";case"input":return"InputDef";case"extend":return"ExtendDef";case"directive":return"DirectiveDef"}},ShortQuery:["SelectionSet"],Query:[Ie("query"),de(ie("def")),de("VariableDefinitions"),z("Directive"),"SelectionSet"],Mutation:[Ie("mutation"),de(ie("def")),de("VariableDefinitions"),z("Directive"),"SelectionSet"],Subscription:[Ie("subscription"),de(ie("def")),de("VariableDefinitions"),z("Directive"),"SelectionSet"],VariableDefinitions:[$("("),z("VariableDefinition"),$(")")],VariableDefinition:["Variable",$(":"),"Type",de("DefaultValue")],Variable:[$("$","variable"),ie("variable")],DefaultValue:[$("="),"Value"],SelectionSet:[$("{"),z("Selection"),$("}")],Selection(n,e){return n.value==="..."?e.match(/[\s\u00a0,]*(on\b|@|{)/,!1)?"InlineFragment":"FragmentSpread":e.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[ie("property"),$(":"),ie("qualifier"),de("Arguments"),z("Directive"),de("SelectionSet")],Field:[ie("property"),de("Arguments"),z("Directive"),de("SelectionSet")],Arguments:[$("("),z("Argument"),$(")")],Argument:[ie("attribute"),$(":"),"Value"],FragmentSpread:[$("..."),ie("def"),z("Directive")],InlineFragment:[$("..."),de("TypeCondition"),z("Directive"),"SelectionSet"],FragmentDefinition:[Ie("fragment"),de(vT(ie("def"),[Ie("on")])),"TypeCondition",z("Directive"),"SelectionSet"],TypeCondition:[Ie("on"),"NamedType"],Value(n){switch(n.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(n.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable";case"&":return"NamedType"}return null;case"Name":switch(n.value){case"true":case"false":return"BooleanValue"}return n.value==="null"?"NullValue":"EnumValue"}},NumberValue:[sl("Number","number")],StringValue:[{style:"string",match:n=>n.kind==="String",update(n,e){e.value.startsWith('"""')&&(n.inBlockstring=!e.value.slice(3).endsWith('"""'))}}],BooleanValue:[sl("Name","builtin")],NullValue:[sl("Name","keyword")],EnumValue:[ie("string-2")],ListValue:[$("["),z("Value"),$("]")],ObjectValue:[$("{"),z("ObjectField"),$("}")],ObjectField:[ie("attribute"),$(":"),"Value"],Type(n){return n.value==="["?"ListType":"NonNullType"},ListType:[$("["),"Type",$("]"),de($("!"))],NonNullType:["NamedType",de($("!"))],NamedType:[ST("atom")],Directive:[$("@","meta"),ie("meta"),de("Arguments")],DirectiveDef:[Ie("directive"),$("@","meta"),ie("meta"),de("ArgumentsDef"),Ie("on"),z("DirectiveLocation",$("|"))],InterfaceDef:[Ie("interface"),ie("atom"),de("Implements"),z("Directive"),$("{"),z("FieldDef"),$("}")],Implements:[Ie("implements"),z("NamedType",$("&"))],DirectiveLocation:[ie("string-2")],SchemaDef:[Ie("schema"),z("Directive"),$("{"),z("OperationTypeDef"),$("}")],OperationTypeDef:[ie("keyword"),$(":"),ie("atom")],ScalarDef:[Ie("scalar"),ie("atom"),z("Directive")],ObjectTypeDef:[Ie("type"),ie("atom"),de("Implements"),z("Directive"),$("{"),z("FieldDef"),$("}")],FieldDef:[ie("property"),de("ArgumentsDef"),$(":"),"Type",z("Directive")],ArgumentsDef:[$("("),z("InputValueDef"),$(")")],InputValueDef:[ie("attribute"),$(":"),"Type",de("DefaultValue"),z("Directive")],UnionDef:[Ie("union"),ie("atom"),z("Directive"),$("="),z("UnionMember",$("|"))],UnionMember:["NamedType"],EnumDef:[Ie("enum"),ie("atom"),z("Directive"),$("{"),z("EnumValueDef"),$("}")],EnumValueDef:[ie("string-2"),z("Directive")],InputDef:[Ie("input"),ie("atom"),z("Directive"),$("{"),z("InputValueDef"),$("}")],ExtendDef:[Ie("extend"),"ExtensionDefinition"],ExtensionDefinition(n){switch(n.value){case"schema":return m.SCHEMA_EXTENSION;case"scalar":return m.SCALAR_TYPE_EXTENSION;case"type":return m.OBJECT_TYPE_EXTENSION;case"interface":return m.INTERFACE_TYPE_EXTENSION;case"union":return m.UNION_TYPE_EXTENSION;case"enum":return m.ENUM_TYPE_EXTENSION;case"input":return m.INPUT_OBJECT_TYPE_EXTENSION}},[m.SCHEMA_EXTENSION]:["SchemaDef"],[m.SCALAR_TYPE_EXTENSION]:["ScalarDef"],[m.OBJECT_TYPE_EXTENSION]:["ObjectTypeDef"],[m.INTERFACE_TYPE_EXTENSION]:["InterfaceDef"],[m.UNION_TYPE_EXTENSION]:["UnionDef"],[m.ENUM_TYPE_EXTENSION]:["EnumDef"],[m.INPUT_OBJECT_TYPE_EXTENSION]:["InputDef"]};function Ie(n){return{style:"keyword",match:e=>e.kind==="Name"&&e.value===n}}function ie(n){return{style:n,match:e=>e.kind==="Name",update(e,t){e.name=t.value}}}function ST(n){return{style:n,match:e=>e.kind==="Name",update(e,t){var i;!((i=e.prevState)===null||i===void 0)&&i.prevState&&(e.name=t.value,e.prevState.prevState.type=t.value)}}}function Om(n={eatWhitespace:e=>e.eatWhile(OT),lexRules:bT,parseRules:TT,editorConfig:{}}){return{startState(){const e={level:0,step:0,name:null,kind:null,type:null,rule:null,needsSeparator:!1,prevState:null};return nr(n.parseRules,e,m.DOCUMENT),e},token(e,t){return kT(e,t,n)}}}function kT(n,e,t){var i;if(e.inBlockstring)return n.match(/.*"""/)?(e.inBlockstring=!1,"string"):(n.skipToEnd(),"string");const{lexRules:r,parseRules:s,eatWhitespace:o,editorConfig:l}=t;if(e.rule&&e.rule.length===0?cc(e):e.needsAdvance&&(e.needsAdvance=!1,Ta(e,!0)),n.sol()){const u=l?.tabSize||2;e.indentLevel=Math.floor(n.indentation()/u)}if(o(n))return"ws";const a=ET(r,n);if(!a)return n.match(/\S+/)||n.match(/\s/),nr(ol,e,"Invalid"),"invalidchar";if(a.kind==="Comment")return nr(ol,e,"Comment"),"comment";const c=qh({},e);if(a.kind==="Punctuation"){if(/^[{([]/.test(a.value))e.indentLevel!==void 0&&(e.levels=(e.levels||[]).concat(e.indentLevel+1));else if(/^[})\]]/.test(a.value)){const u=e.levels=(e.levels||[]).slice(0,-1);e.indentLevel&&u.length>0&&u[u.length-1]<e.indentLevel&&(e.indentLevel=u[u.length-1])}}for(;e.rule;){let u=typeof e.rule=="function"?e.step===0?e.rule(a,n):null:e.rule[e.step];if(e.needsSeparator&&(u=u?.separator),u){if(u.ofRule&&(u=u.ofRule),typeof u=="string"){nr(s,e,u);continue}if(!((i=u.match)===null||i===void 0)&&i.call(u,a))return u.update&&u.update(e,a),a.kind==="Punctuation"?Ta(e,!0):e.needsAdvance=!0,u.style}wT(e)}return qh(e,c),nr(ol,e,"Invalid"),"invalidchar"}function qh(n,e){const t=Object.keys(e);for(let i=0;i<t.length;i++)n[t[i]]=e[t[i]];return n}const ol={Invalid:[],Comment:[]};function nr(n,e,t){if(!n[t])throw new TypeError("Unknown rule: "+t);e.prevState=Object.assign({},e),e.kind=t,e.name=null,e.type=null,e.rule=n[t],e.step=0,e.needsSeparator=!1}function cc(n){n.prevState&&(n.kind=n.prevState.kind,n.name=n.prevState.name,n.type=n.prevState.type,n.rule=n.prevState.rule,n.step=n.prevState.step,n.needsSeparator=n.prevState.needsSeparator,n.prevState=n.prevState.prevState)}function Ta(n,e){var t;if(Gh(n)&&n.rule){const i=n.rule[n.step];if(i.separator){const{separator:r}=i;if(n.needsSeparator=!n.needsSeparator,!n.needsSeparator&&r.ofRule)return}if(e)return}for(n.needsSeparator=!1,n.step++;n.rule&&!(Array.isArray(n.rule)&&n.step<n.rule.length);)cc(n),n.rule&&(Gh(n)?!((t=n.rule)===null||t===void 0)&&t[n.step].separator&&(n.needsSeparator=!n.needsSeparator):(n.needsSeparator=!1,n.step++))}function Gh(n){const e=Array.isArray(n.rule)&&typeof n.rule[n.step]!="string"&&n.rule[n.step];return e&&e.isList}function wT(n){for(;n.rule&&!(Array.isArray(n.rule)&&n.rule[n.step].ofRule);)cc(n);n.rule&&Ta(n,!1)}function ET(n,e){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=e.match(n[t[i]]);if(r&&r instanceof Array)return{kind:t[i],value:r[0]}}}const xT={ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",EXTENSION_DEFINITION:"ExtensionDefinition",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type"},N=Object.assign(Object.assign({},m),xT),bm={command:"editor.action.triggerSuggest",title:"Suggestions"},NT=n=>{const e=[];if(n)try{_r(Ja(n),{FragmentDefinition(t){e.push(t)}})}catch{return[]}return e},AT=[m.SCHEMA_DEFINITION,m.OPERATION_TYPE_DEFINITION,m.SCALAR_TYPE_DEFINITION,m.OBJECT_TYPE_DEFINITION,m.INTERFACE_TYPE_DEFINITION,m.UNION_TYPE_DEFINITION,m.ENUM_TYPE_DEFINITION,m.INPUT_OBJECT_TYPE_DEFINITION,m.DIRECTIVE_DEFINITION,m.SCHEMA_EXTENSION,m.SCALAR_TYPE_EXTENSION,m.OBJECT_TYPE_EXTENSION,m.INTERFACE_TYPE_EXTENSION,m.UNION_TYPE_EXTENSION,m.ENUM_TYPE_EXTENSION,m.INPUT_OBJECT_TYPE_EXTENSION],DT=n=>{let e=!1;if(n)try{_r(Ja(n),{enter(t){if(t.kind!=="Document")return AT.includes(t.kind)?(e=!0,ui):!1}})}catch{return e}return e};function IT(n,e,t,i,r,s){var o,l,a,c,u,h,f,d,p;const y=Object.assign(Object.assign({},s),{schema:n}),g=i||Sm(e,t),O=g.state.kind==="Invalid"?g.state.prevState:g.state,w=s?.mode||qT(e,s?.uri);if(!O)return[];const{kind:k,step:A}=O,R=km(n,g.state);if(k===N.DOCUMENT)return w===Gn.TYPE_SYSTEM?CT(g):RT(g);if(k===N.EXTEND_DEF)return _T(g);if(((l=(o=O.prevState)===null||o===void 0?void 0:o.prevState)===null||l===void 0?void 0:l.kind)===N.EXTENSION_DEFINITION&&O.name)return he(g,[]);if(((a=O.prevState)===null||a===void 0?void 0:a.kind)===m.SCALAR_TYPE_EXTENSION)return he(g,Object.values(n.getTypeMap()).filter(Rn).map(I=>({label:I.name,kind:F.Function})));if(((c=O.prevState)===null||c===void 0?void 0:c.kind)===m.OBJECT_TYPE_EXTENSION)return he(g,Object.values(n.getTypeMap()).filter(I=>ae(I)&&!I.name.startsWith("__")).map(I=>({label:I.name,kind:F.Function})));if(((u=O.prevState)===null||u===void 0?void 0:u.kind)===m.INTERFACE_TYPE_EXTENSION)return he(g,Object.values(n.getTypeMap()).filter(ce).map(I=>({label:I.name,kind:F.Function})));if(((h=O.prevState)===null||h===void 0?void 0:h.kind)===m.UNION_TYPE_EXTENSION)return he(g,Object.values(n.getTypeMap()).filter(gt).map(I=>({label:I.name,kind:F.Function})));if(((f=O.prevState)===null||f===void 0?void 0:f.kind)===m.ENUM_TYPE_EXTENSION)return he(g,Object.values(n.getTypeMap()).filter(I=>lt(I)&&!I.name.startsWith("__")).map(I=>({label:I.name,kind:F.Function})));if(((d=O.prevState)===null||d===void 0?void 0:d.kind)===m.INPUT_OBJECT_TYPE_EXTENSION)return he(g,Object.values(n.getTypeMap()).filter(Le).map(I=>({label:I.name,kind:F.Function})));if(k===N.IMPLEMENTS||k===N.NAMED_TYPE&&((p=O.prevState)===null||p===void 0?void 0:p.kind)===N.IMPLEMENTS)return MT(g,O,n,e,R);if(k===N.SELECTION_SET||k===N.FIELD||k===N.ALIASED_FIELD)return YT(g,R,y);if(k===N.ARGUMENTS||k===N.ARGUMENT&&A===0){const{argDefs:I}=R;if(I)return he(g,I.map(Z=>{var b;return{label:Z.name,insertText:Z.name+": ",command:bm,detail:String(Z.type),documentation:(b=Z.description)!==null&&b!==void 0?b:void 0,kind:F.Variable,type:Z.type}}))}if((k===N.OBJECT_VALUE||k===N.OBJECT_FIELD&&A===0)&&R.objectFieldDefs){const I=ei(R.objectFieldDefs),Z=k===N.OBJECT_VALUE?F.Value:F.Field;return he(g,I.map(b=>{var P;return{label:b.name,detail:String(b.type),documentation:(P=b.description)!==null&&P!==void 0?P:void 0,kind:Z,type:b.type}}))}if(k===N.ENUM_VALUE||k===N.LIST_VALUE&&A===1||k===N.OBJECT_FIELD&&A===2||k===N.ARGUMENT&&A===2)return QT(g,R,e,n);if(k===N.VARIABLE&&A===1){const I=xe(R.inputType),Z=Tm(e,n,g);return he(g,Z.filter(b=>b.detail===I?.name))}if(k===N.TYPE_CONDITION&&A===1||k===N.NAMED_TYPE&&O.prevState!=null&&O.prevState.kind===N.TYPE_CONDITION)return LT(g,R,n);if(k===N.FRAGMENT_SPREAD&&A===1)return VT(g,R,n,e,Array.isArray(r)?r:NT(r));const _=wm(O);if(w===Gn.TYPE_SYSTEM&&!_.needsAdvance&&O.kind===N.NAMED_TYPE||O.kind===N.LIST_TYPE){if(_.kind===N.FIELD_DEF)return he(g,Object.values(n.getTypeMap()).filter(I=>qn(I)&&!I.name.startsWith("__")).map(I=>({label:I.name,kind:F.Function})));if(_.kind===N.INPUT_VALUE_DEF)return he(g,Object.values(n.getTypeMap()).filter(I=>nt(I)&&!I.name.startsWith("__")).map(I=>({label:I.name,kind:F.Function})))}return k===N.VARIABLE_DEFINITION&&A===2||k===N.LIST_TYPE&&A===1||k===N.NAMED_TYPE&&O.prevState&&(O.prevState.kind===N.VARIABLE_DEFINITION||O.prevState.kind===N.LIST_TYPE||O.prevState.kind===N.NON_NULL_TYPE)?BT(g,n):k===N.DIRECTIVE?UT(g,O,n):[]}const os=` {
  $1
}`,PT=n=>{const{type:e}=n;return Qe(e)||Me(e)&&Qe(e.ofType)||te(e)&&(Qe(e.ofType)||Me(e.ofType)&&Qe(e.ofType.ofType))?os:null};function CT(n){return he(n,[{label:"extend",kind:F.Function},{label:"type",kind:F.Function},{label:"interface",kind:F.Function},{label:"union",kind:F.Function},{label:"input",kind:F.Function},{label:"scalar",kind:F.Function},{label:"schema",kind:F.Function}])}function RT(n){return he(n,[{label:"query",kind:F.Function},{label:"mutation",kind:F.Function},{label:"subscription",kind:F.Function},{label:"fragment",kind:F.Function},{label:"{",kind:F.Constructor}])}function _T(n){return he(n,[{label:"type",kind:F.Function},{label:"interface",kind:F.Function},{label:"union",kind:F.Function},{label:"input",kind:F.Function},{label:"scalar",kind:F.Function},{label:"schema",kind:F.Function}])}function YT(n,e,t){var i;if(e.parentType){const{parentType:r}=e;let s=[];return"getFields"in r&&(s=ei(r.getFields())),Qe(r)&&s.push(Or),r===((i=t?.schema)===null||i===void 0?void 0:i.getQueryType())&&s.push(yr,vr),he(n,s.map((o,l)=>{var a;const c={sortText:String(l)+o.name,label:o.name,detail:String(o.type),documentation:(a=o.description)!==null&&a!==void 0?a:void 0,deprecated:Boolean(o.deprecationReason),isDeprecated:Boolean(o.deprecationReason),deprecationReason:o.deprecationReason,kind:F.Field,type:o.type};if(t?.fillLeafsOnComplete){const u=PT(o);u&&(c.insertText=o.name+u,c.insertTextFormat=ya.Snippet,c.command=bm)}return c}))}return[]}function QT(n,e,t,i){const r=xe(e.inputType),s=Tm(t,i,n).filter(o=>o.detail===r.name);if(r instanceof Bi){const o=r.getValues();return he(n,o.map(l=>{var a;return{label:l.name,detail:String(r),documentation:(a=l.description)!==null&&a!==void 0?a:void 0,deprecated:Boolean(l.deprecationReason),isDeprecated:Boolean(l.deprecationReason),deprecationReason:l.deprecationReason,kind:F.EnumMember,type:r}}).concat(s))}return r===_e?he(n,s.concat([{label:"true",detail:String(_e),documentation:"Not false.",kind:F.Variable,type:_e},{label:"false",detail:String(_e),documentation:"Not true.",kind:F.Variable,type:_e}])):s}function MT(n,e,t,i,r){if(e.needsSeparator)return[];const s=t.getTypeMap(),o=ei(s).filter(ce),l=o.map(({name:d})=>d),a=new Set;Po(i,(d,p)=>{var y,g,O,w,k;if(p.name&&(p.kind===N.INTERFACE_DEF&&!l.includes(p.name)&&a.add(p.name),p.kind===N.NAMED_TYPE&&((y=p.prevState)===null||y===void 0?void 0:y.kind)===N.IMPLEMENTS)){if(r.interfaceDef){if((g=r.interfaceDef)===null||g===void 0?void 0:g.getInterfaces().find(({name:I})=>I===p.name))return;const R=t.getType(p.name),_=(O=r.interfaceDef)===null||O===void 0?void 0:O.toConfig();r.interfaceDef=new Oi(Object.assign(Object.assign({},_),{interfaces:[..._.interfaces,R||new Oi({name:p.name,fields:{}})]}))}else if(r.objectTypeDef){if((w=r.objectTypeDef)===null||w===void 0?void 0:w.getInterfaces().find(({name:I})=>I===p.name))return;const R=t.getType(p.name),_=(k=r.objectTypeDef)===null||k===void 0?void 0:k.toConfig();r.objectTypeDef=new Ht(Object.assign(Object.assign({},_),{interfaces:[..._.interfaces,R||new Oi({name:p.name,fields:{}})]}))}}});const c=r.interfaceDef||r.objectTypeDef,h=(c?.getInterfaces()||[]).map(({name:d})=>d),f=o.concat([...a].map(d=>({name:d}))).filter(({name:d})=>d!==c?.name&&!h.includes(d));return he(n,f.map(d=>{const p={label:d.name,kind:F.Interface,type:d};return d?.description&&(p.documentation=d.description),p}))}function LT(n,e,t,i){let r;if(e.parentType)if(sn(e.parentType)){const s=NO(e.parentType),o=t.getPossibleTypes(s),l=Object.create(null);o.forEach(a=>{a.getInterfaces().forEach(c=>{l[c.name]=c})}),r=o.concat(ei(l))}else r=[e.parentType];else{const s=t.getTypeMap();r=ei(s).filter(o=>Qe(o)&&!o.name.startsWith("__"))}return he(n,r.map(s=>{const o=xe(s);return{label:String(s),documentation:o?.description||"",kind:F.Field}}))}function VT(n,e,t,i,r){if(!i)return[];const s=t.getTypeMap(),o=dT(n.state),l=FT(i);r&&r.length>0&&l.push(...r);const a=l.filter(c=>s[c.typeCondition.name.value]&&!(o&&o.kind===N.FRAGMENT_DEFINITION&&o.name===c.name.value)&&Qe(e.parentType)&&Qe(s[c.typeCondition.name.value])&&la(t,e.parentType,s[c.typeCondition.name.value]));return he(n,a.map(c=>({label:c.name.value,detail:String(s[c.typeCondition.name.value]),documentation:`fragment ${c.name.value} on ${c.typeCondition.name.value}`,kind:F.Field,type:s[c.typeCondition.name.value]})))}const $T=(n,e)=>{var t,i,r,s,o,l,a,c,u,h;if(((t=n.prevState)===null||t===void 0?void 0:t.kind)===e)return n.prevState;if(((r=(i=n.prevState)===null||i===void 0?void 0:i.prevState)===null||r===void 0?void 0:r.kind)===e)return n.prevState.prevState;if(((l=(o=(s=n.prevState)===null||s===void 0?void 0:s.prevState)===null||o===void 0?void 0:o.prevState)===null||l===void 0?void 0:l.kind)===e)return n.prevState.prevState.prevState;if(((h=(u=(c=(a=n.prevState)===null||a===void 0?void 0:a.prevState)===null||c===void 0?void 0:c.prevState)===null||u===void 0?void 0:u.prevState)===null||h===void 0?void 0:h.kind)===e)return n.prevState.prevState.prevState.prevState};function Tm(n,e,t){let i=null,r;const s=Object.create({});return Po(n,(o,l)=>{if(l?.kind===N.VARIABLE&&l.name&&(i=l.name),l?.kind===N.NAMED_TYPE&&i){const a=$T(l,N.TYPE);a?.type&&(r=e.getType(a?.type))}i&&r&&!s[i]&&(s[i]={detail:r.toString(),insertText:t.string==="$"?i:"$"+i,label:i,type:r,kind:F.Variable},i=null,r=null)}),ei(s)}function FT(n){const e=[];return Po(n,(t,i)=>{i.kind===N.FRAGMENT_DEFINITION&&i.name&&i.type&&e.push({kind:N.FRAGMENT_DEFINITION,name:{kind:m.NAME,value:i.name},selectionSet:{kind:N.SELECTION_SET,selections:[]},typeCondition:{kind:N.NAMED_TYPE,name:{kind:m.NAME,value:i.type}}})}),e}function BT(n,e,t){const i=e.getTypeMap(),r=ei(i).filter(nt);return he(n,r.map(s=>({label:s.name,documentation:s.description,kind:F.Variable})))}function UT(n,e,t,i){var r;if(!((r=e.prevState)===null||r===void 0)&&r.kind){const s=t.getDirectives().filter(o=>jT(e.prevState,o));return he(n,s.map(o=>({label:o.name,documentation:o.description||"",kind:F.Function})))}return[]}function Sm(n,e){let t=null,i=null,r=null;const s=Po(n,(o,l,a,c)=>{if(c===e.line&&o.getCurrentPosition()>=e.character)return t=a,i=Object.assign({},l),r=o.current(),"BREAK"});return{start:s.start,end:s.end,string:r||s.string,state:i||s.state,style:t||s.style}}function Po(n,e){const t=n.split(`
`),i=Om();let r=i.startState(),s="",o=new ba("");for(let l=0;l<t.length;l++){for(o=new ba(t[l]);!o.eol()&&(s=i.token(o,r),e(o,r,s,l)!=="BREAK"););e(o,r,s,l),r.kind||(r=i.startState())}return{start:o.getStartOfToken(),end:o.getCurrentPosition(),string:o.current(),state:r,style:s}}function jT(n,e){var t;if(!n||!n.kind)return!1;const{kind:i}=n,{locations:r}=e;switch(i){case N.QUERY:return r.includes(Y.QUERY);case N.MUTATION:return r.includes(Y.MUTATION);case N.SUBSCRIPTION:return r.includes(Y.SUBSCRIPTION);case N.FIELD:case N.ALIASED_FIELD:return r.includes(Y.FIELD);case N.FRAGMENT_DEFINITION:return r.includes(Y.FRAGMENT_DEFINITION);case N.FRAGMENT_SPREAD:return r.includes(Y.FRAGMENT_SPREAD);case N.INLINE_FRAGMENT:return r.includes(Y.INLINE_FRAGMENT);case N.SCHEMA_DEF:return r.includes(Y.SCHEMA);case N.SCALAR_DEF:return r.includes(Y.SCALAR);case N.OBJECT_TYPE_DEF:return r.includes(Y.OBJECT);case N.FIELD_DEF:return r.includes(Y.FIELD_DEFINITION);case N.INTERFACE_DEF:return r.includes(Y.INTERFACE);case N.UNION_DEF:return r.includes(Y.UNION);case N.ENUM_DEF:return r.includes(Y.ENUM);case N.ENUM_VALUE:return r.includes(Y.ENUM_VALUE);case N.INPUT_DEF:return r.includes(Y.INPUT_OBJECT);case N.INPUT_VALUE_DEF:switch((t=n.prevState)===null||t===void 0?void 0:t.kind){case N.ARGUMENTS_DEF:return r.includes(Y.ARGUMENT_DEFINITION);case N.INPUT_DEF:return r.includes(Y.INPUT_FIELD_DEFINITION)}}return!1}function km(n,e){let t,i,r,s,o,l,a,c,u,h,f;return ym(e,d=>{var p;switch(d.kind){case N.QUERY:case"ShortQuery":h=n.getQueryType();break;case N.MUTATION:h=n.getMutationType();break;case N.SUBSCRIPTION:h=n.getSubscriptionType();break;case N.INLINE_FRAGMENT:case N.FRAGMENT_DEFINITION:d.type&&(h=n.getType(d.type));break;case N.FIELD:case N.ALIASED_FIELD:{!h||!d.name?o=null:(o=u?Hu(n,u,d.name):null,h=o?o.type:null);break}case N.SELECTION_SET:u=xe(h);break;case N.DIRECTIVE:r=d.name?n.getDirective(d.name):null;break;case N.INTERFACE_DEF:d.name&&(a=null,f=new Oi({name:d.name,interfaces:[],fields:{}}));break;case N.OBJECT_TYPE_DEF:d.name&&(f=null,a=new Ht({name:d.name,interfaces:[],fields:{}}));break;case N.ARGUMENTS:{if(d.prevState)switch(d.prevState.kind){case N.FIELD:i=o&&o.args;break;case N.DIRECTIVE:i=r&&r.args;break;case N.ALIASED_FIELD:{const k=(p=d.prevState)===null||p===void 0?void 0:p.name;if(!k){i=null;break}const A=u?Hu(n,u,k):null;if(!A){i=null;break}i=A.args;break}default:i=null;break}else i=null;break}case N.ARGUMENT:if(i){for(let k=0;k<i.length;k++)if(i[k].name===d.name){t=i[k];break}}l=t?.type;break;case N.ENUM_VALUE:const y=xe(l);s=y instanceof Bi?y.getValues().find(k=>k.value===d.name):null;break;case N.LIST_VALUE:const g=tc(l);l=g instanceof Je?g.ofType:null;break;case N.OBJECT_VALUE:const O=xe(l);c=O instanceof nc?O.getFields():null;break;case N.OBJECT_FIELD:const w=d.name&&c?c[d.name]:null;l=w?.type;break;case N.NAMED_TYPE:d.name&&(h=n.getType(d.name));break}}),{argDef:t,argDefs:i,directiveDef:r,enumValue:s,fieldDef:o,inputType:l,objectFieldDefs:c,parentType:u,type:h,interfaceDef:f,objectTypeDef:a}}var Gn;(function(n){n.TYPE_SYSTEM="TYPE_SYSTEM",n.EXECUTABLE="EXECUTABLE"})(Gn||(Gn={}));function qT(n,e){return e?.endsWith(".graphqls")||DT(n)?Gn.TYPE_SYSTEM:Gn.EXECUTABLE}function wm(n){return n.prevState&&n.kind&&[N.NAMED_TYPE,N.LIST_TYPE,N.TYPE,N.NON_NULL_TYPE].includes(n.kind)?wm(n.prevState):n}var to={},GT={get exports(){return to},set exports(n){to=n}};function Em(n,e){if(n!=null)return n;var t=new Error(e!==void 0?e:"Got unexpected "+n);throw t.framesToPop=1,t}GT.exports=Em;to.default=Em;Object.defineProperty(to,"__esModule",{value:!0});let xm=class{constructor(e,t){this.containsPosition=i=>this.start.line===i.line?this.start.character<=i.character:this.end.line===i.line?this.end.character>=i.character:this.start.line<=i.line&&this.end.line>=i.line,this.start=e,this.end=t}setStart(e,t){this.start=new _i(e,t)}setEnd(e,t){this.end=new _i(e,t)}},_i=class{constructor(e,t){this.lessThanOrEqualTo=i=>this.line<i.line||this.line===i.line&&this.character<=i.character,this.line=e,this.character=t}setLine(e){this.line=e}setCharacter(e){this.character=e}};const zT=[db,qb,Gb,$b,Fb,Vb,Hp,Xp,im,xb,nm,rm];function XT(n,e,t,i,r){const s=sm.filter(l=>!(l===Jp||l===zp||i&&l===Wp));return t&&Array.prototype.push.apply(s,t),r&&Array.prototype.push.apply(s,zT),om(n,e,s).filter(l=>{if(l.message.includes("Unknown directive")&&l.nodes){const a=l.nodes[0];if(a&&a.kind===m.DIRECTIVE){const c=a.name.value;if(c==="arguments"||c==="argumentDefinitions")return!1}}return!0})}globalThis&&globalThis.__awaiter;const ls={Error:"Error",Warning:"Warning",Information:"Information",Hint:"Hint"},Sa={[ls.Error]:1,[ls.Warning]:2,[ls.Information]:3,[ls.Hint]:4},no=(n,e)=>{if(!n)throw new Error(e)};function WT(n,e=null,t,i,r){var s,o;let l=null;r&&(typeof r=="string"?n+=`

`+r:n+=`

`+r.reduce((a,c)=>(a+=Ae(c)+`

`,a),""));try{l=Ja(n)}catch(a){if(a instanceof E){const c=JT((o=(s=a.locations)===null||s===void 0?void 0:s[0])!==null&&o!==void 0?o:{line:0,column:0},n);return[{severity:Sa.Error,message:a.message,source:"GraphQL: Syntax",range:c}]}throw a}return HT(l,e,t,i)}function HT(n,e=null,t,i){if(!e)return[];const r=XT(e,n,t,i).flatMap(o=>zh(o,Sa.Error,"Validation")),s=om(e,n,[eT]).flatMap(o=>zh(o,Sa.Warning,"Deprecation"));return r.concat(s)}function zh(n,e,t){if(!n.nodes)return[];const i=[];return n.nodes.forEach(r=>{const s=r.kind!=="Variable"&&"name"in r&&r.name!==void 0?r.name:"variable"in r&&r.variable!==void 0?r.variable:r;if(s){no(n.locations,"GraphQL validation error requires locations.");const o=n.locations[0],l=ZT(s),a=o.column+(l.end-l.start);i.push({source:`GraphQL: ${t}`,message:n.message,severity:e,range:new xm(new _i(o.line-1,o.column-1),new _i(o.line-1,a))})}}),i}function JT(n,e){const t=Om(),i=t.startState(),r=e.split(`
`);no(r.length>=n.line,"Query text must have more lines than where the error happened");let s=null;for(let c=0;c<n.line;c++)for(s=new ba(r[c]);!s.eol()&&t.token(s,i)!=="invalidchar";);no(s,"Expected Parser stream to be available.");const o=n.line-1,l=s.getStartOfToken(),a=s.getCurrentPosition();return new xm(new _i(o,l),new _i(o,a))}function ZT(n){const t=n.loc;return no(t,"Expected ASTNode to have a location."),t}const Nm=1024;let KT=0;class ll{constructor(e,t){this.from=e,this.to=t}}class B{constructor(e={}){this.id=KT++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ke.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}B.closedBy=new B({deserialize:n=>n.split(" ")});B.openedBy=new B({deserialize:n=>n.split(" ")});B.group=new B({deserialize:n=>n.split(" ")});B.contextHash=new B({perNode:!0});B.lookAhead=new B({perNode:!0});B.mounted=new B({perNode:!0});const eS=Object.create(null);class Ke{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):eS,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ke(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(B.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(B.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}Ke.none=new Ke("",Object.create(null),0,8);class uc{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}t.push(r?new Ke(i.name,r,i.id,i.flags):i)}return new uc(t)}}const as=new WeakMap,Xh=new WeakMap;var Re;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Re||(Re={}));class ke{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=this.prop(B.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new so(this.topNode,e)}cursorAt(e,t=0,i=0){let r=as.get(this)||this.topNode,s=new so(r);return s.moveTo(e,t),as.set(this,s._tree),s}get topNode(){return new ln(this,0,0,null)}resolve(e,t=0){let i=Yi(as.get(this)||this.topNode,e,t,!1);return as.set(this,i),i}resolveInner(e,t=0){let i=Yi(Xh.get(this)||this.topNode,e,t,!0);return Xh.set(this,i),i}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|Re.IncludeAnonymous);;){let l=!1;if(o.from<=s&&o.to>=r&&(o.type.isAnonymous||t(o)!==!1)){if(o.firstChild())continue;l=!0}for(;l&&i&&!o.type.isAnonymous&&i(o),!o.nextSibling();){if(!o.parent())return;l=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:dc(Ke.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new ke(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new ke(Ke.none,t,i,r)))}static build(e){return nS(e)}}ke.empty=new ke(Ke.none,[],[],0);class hc{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new hc(this.buffer,this.index)}}class ii{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ke.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,l=-1;for(let a=e;a!=t&&!(Am(s,r,o[a+1],o[a+2])&&(l=a,i>0));a=o[a+3]);return l}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),o=0;for(let l=e,a=0;l<t;){s[a++]=r[l++],s[a++]=r[l++]-i;let c=s[a++]=r[l++]-i;s[a++]=r[l++]-e,o=Math.max(o,c)}return new ii(s,o,this.set)}}function Am(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Dm(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function Yi(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof ln&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:Re.IgnoreOverlays;if(i)for(let o=n,l=o.parent;l;o=l,l=o.parent)o instanceof ln&&o.index<0&&((r=l.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(n=l);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class ln{constructor(e,t,i,r){this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:l,positions:a}=o._tree,c=t>0?l.length:-1;e!=c;e+=t){let u=l[e],h=a[e]+o.from;if(Am(r,i,h,h+u.length)){if(u instanceof ii){if(s&Re.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,i-h,r);if(f>-1)return new wn(new tS(o,u,e,h),null,f)}else if(s&Re.IncludeAnonymous||!u.type.isAnonymous||fc(u)){let f;if(!(s&Re.IgnoreMounts)&&u.props&&(f=u.prop(B.mounted))&&!f.overlay)return new ln(f.tree,h,e,o);let d=new ln(u,h,e,o);return s&Re.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?u.children.length-1:0,t,i,r)}}}if(s&Re.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&Re.IgnoreOverlays)&&(r=this._tree.prop(B.mounted))&&r.overlay){let s=e-this.from;for(let{from:o,to:l}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?l>=s:l>s))return new ln(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new so(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Yi(this,e,t,!1)}resolveInner(e,t=0){return Yi(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Dm(this,e)}getChild(e,t=null,i=null){let r=io(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return io(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return ro(this,e)}}function io(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function ro(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class tS{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class wn{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new wn(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Re.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new wn(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new wn(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new wn(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new so(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),t.push(0)}return new ke(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Yi(this,e,t,!1)}resolveInner(e,t=0){return Yi(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Dm(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let r=io(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return io(this,e,t,i)}get node(){return this}matchContext(e){return ro(this,e)}}class so{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ln)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof ln?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Re.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Re.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Re.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let l=i._tree.children[s];if(this.mode&Re.IncludeAnonymous||l instanceof ii||!l.type.isAnonymous||fc(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer){e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}}for(let r=i;r<this.stack.length;r++)t=new wn(this.buffer,t,this.stack[r]);return this.bufferNode=new wn(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return ro(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return ro(this.node,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function fc(n){return n.children.some(e=>e instanceof ii||!e.type.isAnonymous||fc(e))}function nS(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=Nm,reused:s=[],minRepeatType:o=i.types.length}=n,l=Array.isArray(t)?new hc(t,t.length):t,a=i.types,c=0,u=0;function h(A,R,_,I,Z){let{id:b,start:P,end:G,size:Ve}=l,Tt=u;for(;Ve<0;)if(l.next(),Ve==-1){let dn=s[b];_.push(dn),I.push(P-A);return}else if(Ve==-3){c=b;return}else if(Ve==-4){u=b;return}else throw new RangeError(`Unrecognized record size: ${Ve}`);let ri=a[b],fn,Zt,Ac=P-A;if(G-P<=r&&(Zt=y(l.pos-R,Z))){let dn=new Uint16Array(Zt.size-Zt.skip),St=l.pos-Zt.size,Kt=dn.length;for(;l.pos>St;)Kt=g(Zt.start,dn,Kt);fn=new ii(dn,G-Zt.start,i),Ac=Zt.start-A}else{let dn=l.pos-Ve;l.next();let St=[],Kt=[],Yn=b>=o?b:-1,si=0,Vr=G;for(;l.pos>dn;)Yn>=0&&l.id==Yn&&l.size>=0?(l.end<=Vr-r&&(d(St,Kt,P,si,l.end,Vr,Yn,Tt),si=St.length,Vr=l.end),l.next()):h(P,dn,St,Kt,Yn);if(Yn>=0&&si>0&&si<St.length&&d(St,Kt,P,si,P,Vr,Yn,Tt),St.reverse(),Kt.reverse(),Yn>-1&&si>0){let Dc=f(ri);fn=dc(ri,St,Kt,0,St.length,0,G-P,Dc,Dc)}else fn=p(ri,St,Kt,G-P,Tt-G)}_.push(fn),I.push(Ac)}function f(A){return(R,_,I)=>{let Z=0,b=R.length-1,P,G;if(b>=0&&(P=R[b])instanceof ke){if(!b&&P.type==A&&P.length==I)return P;(G=P.prop(B.lookAhead))&&(Z=_[b]+P.length+G)}return p(A,R,_,I,Z)}}function d(A,R,_,I,Z,b,P,G){let Ve=[],Tt=[];for(;A.length>I;)Ve.push(A.pop()),Tt.push(R.pop()+_-Z);A.push(p(i.types[P],Ve,Tt,b-Z,G-b)),R.push(Z-_)}function p(A,R,_,I,Z=0,b){if(c){let P=[B.contextHash,c];b=b?[P].concat(b):[P]}if(Z>25){let P=[B.lookAhead,Z];b=b?[P].concat(b):[P]}return new ke(A,R,_,I,b)}function y(A,R){let _=l.fork(),I=0,Z=0,b=0,P=_.end-r,G={size:0,start:0,skip:0};e:for(let Ve=_.pos-A;_.pos>Ve;){let Tt=_.size;if(_.id==R&&Tt>=0){G.size=I,G.start=Z,G.skip=b,b+=4,I+=4,_.next();continue}let ri=_.pos-Tt;if(Tt<0||ri<Ve||_.start<P)break;let fn=_.id>=o?4:0,Zt=_.start;for(_.next();_.pos>ri;){if(_.size<0)if(_.size==-3)fn+=4;else break e;else _.id>=o&&(fn+=4);_.next()}Z=Zt,I+=Tt,b+=fn}return(R<0||I==A)&&(G.size=I,G.start=Z,G.skip=b),G.size>4?G:void 0}function g(A,R,_){let{id:I,start:Z,end:b,size:P}=l;if(l.next(),P>=0&&I<o){let G=_;if(P>4){let Ve=l.pos-(P-4);for(;l.pos>Ve;)_=g(A,R,_)}R[--_]=G,R[--_]=b-A,R[--_]=Z-A,R[--_]=I}else P==-3?c=I:P==-4&&(u=I);return _}let O=[],w=[];for(;l.pos>0;)h(n.start||0,n.bufferStart||0,O,w,-1);let k=(e=n.length)!==null&&e!==void 0?e:O.length?w[0]+O[0].length:0;return new ke(a[n.topID],O.reverse(),w.reverse(),k)}const Wh=new WeakMap;function Es(n,e){if(!n.isAnonymous||e instanceof ii||e.type!=n)return 1;let t=Wh.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof ke)){t=1;break}t+=Es(n,i)}Wh.set(e,t)}return t}function dc(n,e,t,i,r,s,o,l,a){let c=0;for(let p=i;p<r;p++)c+=Es(n,e[p]);let u=Math.ceil(c*1.5/8),h=[],f=[];function d(p,y,g,O,w){for(let k=g;k<O;){let A=k,R=y[k],_=Es(n,p[k]);for(k++;k<O;k++){let I=Es(n,p[k]);if(_+I>=u)break;_+=I}if(k==A+1){if(_>u){let I=p[A];d(I.children,I.positions,0,I.children.length,y[A]+w);continue}h.push(p[A])}else{let I=y[k-1]+p[k-1].length-R;h.push(dc(n,p,y,A,k,R,I,null,a))}f.push(R+w-s)}}return d(e,t,i,r,0),(l||a)(h,f,o)}class zn{constructor(e,t,i,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new zn(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let u=l<t.length?t[l]:null,h=u?u.fromA:1e9;if(h-a>=i)for(;o&&o.from<h;){let f=o;if(a>=f.from||h<=f.to||c){let d=Math.max(f.from,a)-c,p=Math.min(f.to,h)-c;f=d>=p?null:new zn(d,p,f.tree,f.offset+c,l>0,!!u)}if(f&&r.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;a=u.toA,c=u.toA-u.toB}return r}}class Im{startParse(e,t,i){return typeof e=="string"&&(e=new iS(e)),i=i?i.length?i.map(r=>new ll(r.from,r.to)):[new ll(0,0)]:[new ll(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class iS{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new B({perNode:!0});class oo{constructor(e,t,i,r,s,o,l,a,c,u=0,h){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=l,this.bufferBase=a,this.curContext=c,this.lookAhead=u,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new oo(e,[],t,i,i,0,[],0,r?new Hh(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),a=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-a;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=c));let u=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-u;if(r<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,f,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let f=this.stack[l-3];this.state=s.getGoto(f,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,a)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,l=this.buffer.length;if(l==0&&o.parent&&(l=o.bufferBase-o.parent.bufferBase,o=o.parent),l>0&&o.buffer[l-4]==0&&o.buffer[l-1]>-1){if(t==i)return;if(o.buffer[l-2]>=t){o.buffer[l-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,t,i){let r=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,i){e&65536?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new oo(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new rS(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>4<<1||this.stack.length>=120){let r=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<4<<1&&s<t.length;s+=2){let o=t[s+1];r.some((l,a)=>a&1&&l==o)||r.push(t[s],o)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.score-=200,i.push(o)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let i=e>>19,r=e&65535,s=this.stack.length-i*3;if(s<0||t.getGoto(this.stack[s],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Hh(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Hh{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Jh;(function(n){n[n.Insert=200]="Insert",n[n.Delete=190]="Delete",n[n.Reduce=100]="Reduce",n[n.MaxNext=4]="MaxNext",n[n.MaxInsertStackDepth=300]="MaxInsertStackDepth",n[n.DampenInsertStackDepth=120]="DampenInsertStackDepth",n[n.MinBigReduction=2e3]="MinBigReduction"})(Jh||(Jh={}));class rS{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class lo{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new lo(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new lo(this.stack,this.pos,this.index)}}function cs(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),l=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let a=o-32;if(a>=46&&(a-=46,l=!0),s+=a,l)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class xs{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Zh=new xs;class sS{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Zh,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,l=this.range;for(;l.to<=i;)l=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Zh,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Si{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;oS(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Si.prototype.contextual=Si.prototype.fallback=Si.prototype.extend=!1;Si.prototype.fallback=Si.prototype.extend=!1;function oS(n,e,t,i,r,s){let o=0,l=1<<i,{dialect:a}=t.p.parser;e:for(;l&n[o];){let c=n[o+1];for(let d=o+3;d<c;d+=2)if((n[d+1]&l)>0){let p=n[d];if(a.allows(p)&&(e.token.value==-1||e.token.value==p||lS(p,e.token.value,r,s))){e.acceptToken(p);break}}let u=e.next,h=0,f=n[o+2];if(e.next<0&&f>h&&n[c+f*3-3]==65535&&n[c+f*3-3]==65535){o=n[c+f*3-1];continue e}for(;h<f;){let d=h+f>>1,p=c+d+(d<<1),y=n[p],g=n[p+1]||65536;if(u<y)f=d;else if(u>=g)h=d+1;else{o=n[p+2],e.advance();continue e}}break}}function Kh(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function lS(n,e,t,i){let r=Kh(t,i,e);return r<0||Kh(t,i,n)<r}const wt=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let al=null;var ef;(function(n){n[n.Margin=25]="Margin"})(ef||(ef={}));function tf(n,e,t){let i=n.cursor(Re.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class aS{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?tf(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?tf(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof ke){if(o==e){if(o<this.safeFrom)return null;let l=o+s.length;if(l<=this.safeTo){let a=s.prop(B.lookAhead);if(!a||l+a<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class cS{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new xs)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,a=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],h=this.tokens[c];if(!(i&&!u.fallback)&&((u.contextual||h.start!=e.pos||h.mask!=o||h.context!=l)&&(this.updateCachedToken(h,u,e),h.mask=o,h.context=l),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),h.value!=0)){let f=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!u.extend&&(i=h,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!i&&e.pos==this.stream.end&&(i=new xs,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new xs,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let l=s.specializers[o](this.stream.read(e.start,e.end),i);if(l>=0&&i.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:o}=e.p,{data:l}=o;for(let a=0;a<2;a++)for(let c=o.stateSlot(s,a?2:1);;c+=3){if(l[c]==65535)if(l[c+1]==1)c=tn(l,c+2);else{r==0&&l[c+1]==2&&(r=this.putAction(tn(l,c+2),t,i,r));break}l[c]==t&&(r=this.putAction(tn(l,c+1),t,i,r))}return r}}var nf;(function(n){n[n.Distance=5]="Distance",n[n.MaxRemainingPerStep=3]="MaxRemainingPerStep",n[n.MinBufferLengthPrune=500]="MinBufferLengthPrune",n[n.ForceReduceLimit=10]="ForceReduceLimit",n[n.CutDepth=15e3]="CutDepth",n[n.CutTo=9e3]="CutTo",n[n.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",n[n.MaxStackCount=12]="MaxStackCount"})(nf||(nf={}));class uS{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new sS(t,r),this.tokens=new cS(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[oo.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new aS(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let l=e[o];for(;;){if(this.tokens.mainToken=null,l.pos>t)i.push(l);else{if(this.advanceStack(l,i,e))continue;{r||(r=[],s=[]),r.push(l);let a=this.tokens.getMainToken(l);s.push(a.value,a.end)}}break}}if(!i.length){let o=r&&fS(r);if(o)return this.stackToTree(o);if(this.parser.strict)throw wt&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((l,a)=>a.score-l.score);i.length>o;)i.pop();i.some(l=>l.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let l=i[o];for(let a=o+1;a<i.length;a++){let c=i[a];if(l.sameState(c)||l.buffer.length>500&&c.buffer.length>500)if((l.score-c.score||l.buffer.length-c.buffer.length)>0)i.splice(a--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,o=wt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(r);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!c||(h.prop(B.contextHash)||0)==u))return e.useNode(h,f),wt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof ke)||h.children.length==0||h.positions[0]>0)break;let d=h.children[0];if(d instanceof ke&&h.positions[0]==0)h=d;else break}}let l=s.stateSlot(e.state,4);if(l>0)return e.reduce(l),wt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(l&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let c=0;c<a.length;){let u=a[c++],h=a[c++],f=a[c++],d=c==a.length||!i,p=d?e:e.split();if(p.apply(u,h,f),wt&&console.log(o+this.stackID(p)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(h)} @ ${r}${p==e?"":", split"})`),d)return!0;p.pos>r?t.push(p):i.push(p)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return rf(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let l=e[o],a=t[o<<1],c=t[(o<<1)+1],u=wt?this.stackID(l)+" -> ":"";if(l.deadEnd&&(s||(s=!0,l.restart(),wt&&console.log(u+this.stackID(l)+" (restarted)"),this.advanceFully(l,i))))continue;let h=l.split(),f=u;for(let d=0;h.forceReduce()&&d<10&&(wt&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,i));d++)wt&&(f=this.stackID(h)+" -> ");for(let d of l.recoverByInsert(a))wt&&console.log(u+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>l.pos?(c==l.pos&&(c++,a=0),l.recoverByDelete(a,c),wt&&console.log(u+this.stackID(l)+` (via recover-delete ${this.parser.getName(a)})`),rf(l,i)):(!r||r.score<l.score)&&(r=l)}return r}stackToTree(e){return e.close(),ke.build({buffer:lo.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(al||(al=new WeakMap)).get(e);return t||al.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function rf(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class hS{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class Er extends Im{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${14})`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let i=Object.keys(e.topRules).map(l=>e.topRules[l][1]),r=[];for(let l=0;l<t.length;l++)r.push([]);function s(l,a,c){r[l].push([a,a.deserialize(String(c))])}if(e.nodeProps)for(let l of e.nodeProps){let a=l[0];typeof a=="string"&&(a=B[a]);for(let c=1;c<l.length;){let u=l[c++];if(u>=0)s(u,a,l[c++]);else{let h=l[c+-u];for(let f=-u;f>0;f--)s(l[c++],a,h);c++}}}this.nodeSet=new uc(t.map((l,a)=>Ke.define({name:a>=this.minRepeatTerm?void 0:l,id:a,props:r[a],top:i.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Nm;let o=cs(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(sf),this.states=cs(e.states,Uint32Array),this.data=cs(e.stateData),this.goto=cs(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new Si(o,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new uS(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],l=o&1,a=r[s++];if(l&&i)return a;for(let c=s+(o>>1);s<c;s++)if(r[s]==e)return a;if(l)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=tn(i,s+2)];else{if(i[s+1]==2)return tn(i,s+2);break}if(o==t||o==0)return tn(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=tn(this.data,i+2);else return!1;if(t==tn(this.data,i+1))return!0}}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=tn(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];t.some((s,o)=>o&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(Er.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(l=>l.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=sf(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],l;(l=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[l]=1;return new hS(e,i,r)}static deserialize(e){return new Er(e)}}function tn(n,e){return n[e]|n[e+1]<<16}function fS(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function sf(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}let dS=0;class Ft{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=dS++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new Ft([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new ao;return t=>t.modified.indexOf(e)>-1?t:ao.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let pS=0;class ao{constructor(){this.instances=[],this.id=pS++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(l=>l.base==e&&mS(t,l.modified));if(i)return i;let r=[],s=new Ft(r,e,t);for(let l of t)l.instances.push(s);let o=gS(t);for(let l of e.set)if(!l.modified.length)for(let a of o)r.push(ao.get(l,a));return s}}function mS(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function gS(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function pc(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,l=r;for(let h=0;;){if(l=="..."&&h>0&&h+3==r.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!f)throw new RangeError("Invalid path: "+r);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==r.length)break;let d=r[h++];if(h==r.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);l=r.slice(h)}let a=s.length-1,c=s[a];if(!c)throw new RangeError("Invalid path: "+r);let u=new co(i,o,a>0?s.slice(0,a):null);e[c]=u.sort(e[c])}}return Pm.add(e)}const Pm=new B;class co{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}co.empty=new co([],2,null);function Cm(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let l of s)for(let a of l.set){let c=t[a.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function yS(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function vS(n,e,t,i=0,r=n.length){let s=new OS(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class OS{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:o,from:l,to:a}=e;if(l>=i||a<=t)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let c=r,u=bS(e)||co.empty,h=yS(s,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(r+=(r?" ":"")+h)),this.startSpan(e.from,c),u.opaque)return;let f=e.tree&&e.tree.prop(B.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+l,1),p=this.highlighters.filter(g=>!g.scope||g.scope(f.tree.type)),y=e.firstChild();for(let g=0,O=l;;g++){let w=g<f.overlay.length?f.overlay[g]:null,k=w?w.from+l:a,A=Math.max(t,O),R=Math.min(i,k);if(A<R&&y)for(;e.from<R&&(this.highlightRange(e,A,R,r,s),this.startSpan(Math.min(R,e.to),c),!(e.to>=k||!e.nextSibling())););if(!w||k>i)break;O=w.to+l,O>t&&(this.highlightRange(d.cursor(),Math.max(t,w.from+l),Math.min(i,O),r,p),this.startSpan(O,c))}y&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function bS(n){let e=n.type.prop(Pm);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const C=Ft.define,us=C(),gn=C(),of=C(gn),lf=C(gn),yn=C(),hs=C(yn),cl=C(yn),$t=C(),Mn=C($t),Lt=C(),Vt=C(),ka=C(),zi=C(ka),fs=C(),S={comment:us,lineComment:C(us),blockComment:C(us),docComment:C(us),name:gn,variableName:C(gn),typeName:of,tagName:C(of),propertyName:lf,attributeName:C(lf),className:C(gn),labelName:C(gn),namespace:C(gn),macroName:C(gn),literal:yn,string:hs,docString:C(hs),character:C(hs),attributeValue:C(hs),number:cl,integer:C(cl),float:C(cl),bool:C(yn),regexp:C(yn),escape:C(yn),color:C(yn),url:C(yn),keyword:Lt,self:C(Lt),null:C(Lt),atom:C(Lt),unit:C(Lt),modifier:C(Lt),operatorKeyword:C(Lt),controlKeyword:C(Lt),definitionKeyword:C(Lt),moduleKeyword:C(Lt),operator:Vt,derefOperator:C(Vt),arithmeticOperator:C(Vt),logicOperator:C(Vt),bitwiseOperator:C(Vt),compareOperator:C(Vt),updateOperator:C(Vt),definitionOperator:C(Vt),typeOperator:C(Vt),controlOperator:C(Vt),punctuation:ka,separator:C(ka),bracket:zi,angleBracket:C(zi),squareBracket:C(zi),paren:C(zi),brace:C(zi),content:$t,heading:Mn,heading1:C(Mn),heading2:C(Mn),heading3:C(Mn),heading4:C(Mn),heading5:C(Mn),heading6:C(Mn),contentSeparator:C($t),list:C($t),quote:C($t),emphasis:C($t),strong:C($t),link:C($t),monospace:C($t),strikethrough:C($t),inserted:C(),deleted:C(),changed:C(),invalid:C(),meta:fs,documentMeta:C(fs),annotation:C(fs),processingInstruction:C(fs),definition:Ft.defineModifier(),constant:Ft.defineModifier(),function:Ft.defineModifier(),standard:Ft.defineModifier(),local:Ft.defineModifier(),special:Ft.defineModifier()};Cm([{tag:S.link,class:"tok-link"},{tag:S.heading,class:"tok-heading"},{tag:S.emphasis,class:"tok-emphasis"},{tag:S.strong,class:"tok-strong"},{tag:S.keyword,class:"tok-keyword"},{tag:S.atom,class:"tok-atom"},{tag:S.bool,class:"tok-bool"},{tag:S.url,class:"tok-url"},{tag:S.labelName,class:"tok-labelName"},{tag:S.inserted,class:"tok-inserted"},{tag:S.deleted,class:"tok-deleted"},{tag:S.literal,class:"tok-literal"},{tag:S.string,class:"tok-string"},{tag:S.number,class:"tok-number"},{tag:[S.regexp,S.escape,S.special(S.string)],class:"tok-string2"},{tag:S.variableName,class:"tok-variableName"},{tag:S.local(S.variableName),class:"tok-variableName tok-local"},{tag:S.definition(S.variableName),class:"tok-variableName tok-definition"},{tag:S.special(S.variableName),class:"tok-variableName2"},{tag:S.definition(S.propertyName),class:"tok-propertyName tok-definition"},{tag:S.typeName,class:"tok-typeName"},{tag:S.namespace,class:"tok-namespace"},{tag:S.className,class:"tok-className"},{tag:S.macroName,class:"tok-macroName"},{tag:S.propertyName,class:"tok-propertyName"},{tag:S.operator,class:"tok-operator"},{tag:S.comment,class:"tok-comment"},{tag:S.meta,class:"tok-meta"},{tag:S.invalid,class:"tok-invalid"},{tag:S.punctuation,class:"tok-punctuation"}]);var ul;const xr=new B;function TS(n){return L.define({combine:n?e=>e.concat(n):void 0})}class At{constructor(e,t,i=[],r=""){this.data=e,this.name=r,W.prototype.hasOwnProperty("tree")||Object.defineProperty(W.prototype,"tree",{get(){return at(this)}}),this.parser=t,this.extension=[Mi.of(this),W.languageData.of((s,o,l)=>s.facet(af(s,o,l)))].concat(i)}isActiveAt(e,t,i=-1){return af(e,t,i)==this.data}findRegions(e){let t=e.facet(Mi);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(xr)==this.data){i.push({from:o,to:o+s.length});return}let l=s.prop(B.mounted);if(l){if(l.tree.prop(xr)==this.data){if(l.overlay)for(let a of l.overlay)i.push({from:a.from+o,to:a.to+o});else i.push({from:o,to:o+s.length});return}else if(l.overlay){let a=i.length;if(r(l.tree,l.overlay[0].from+o),i.length>a)return}}for(let a=0;a<s.children.length;a++){let c=s.children[a];c instanceof ke&&r(c,s.positions[a]+o)}};return r(at(e),0),i}get allowsNesting(){return!0}}At.setState=q.define();function af(n,e,t){let i=n.facet(Mi);if(!i)return null;let r=i.data;if(i.allowsNesting)for(let s=at(n).topNode;s;s=s.enter(e,t,Re.ExcludeBuffers))r=s.type.prop(xr)||r;return r}class Nr extends At{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=TS(e.languageData);return new Nr(t,e.parser.configure({props:[xr.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Nr(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function at(n){let e=n.field(At.state,!1);return e?e.tree:ke.empty}class SS{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Xi=null;class uo{constructor(e,t,i=[],r,s,o,l,a){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new uo(e,t,[],ke.empty,0,i,[],null)}startParse(){return this.parser.startParse(new SS(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ke.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(zn.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(zn.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Xi;Xi=this;try{return e()}finally{Xi=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=cf(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,u,h,f)=>a.push({fromA:c,toA:u,fromB:h,toB:f})),i=zn.applyChanges(i,a),r=ke.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&l.push({from:u,to:h})}}}return new uo(this.parser,t,i,r,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=cf(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Im{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let a=Xi;if(a){for(let c of r)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=o,new ke(Ke.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Xi}}function cf(n,e,t){return zn.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Qi{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Qi(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=uo.create(e.facet(Mi).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Qi(i)}}At.state=We.define({create:Qi.init,update(n,e){for(let t of e.effects)if(t.is(At.setState))return t.value;return e.startState.facet(Mi)!=e.state.facet(Mi)?Qi.init(e.state):n.apply(e)}});let Rm=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Rm=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const hl=typeof navigator<"u"&&(!((ul=navigator.scheduling)===null||ul===void 0)&&ul.isInputPending)?()=>navigator.scheduling.isInputPending():null,kS=mt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(At.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(At.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Rm(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(At.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!hl?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<r&&i.doc.length>r+1e3,a=s.context.work(()=>hl&&hl()||Date.now()>o,r+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:At.setState.of(new Qi(s.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>st(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Mi=L.define({combine(n){return n.length?n[0]:null},enables:n=>[At.state,kS,V.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class _m{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const wS=L.define(),mc=L.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function ho(n){let e=n.facet(mc);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Ar(n,e){let t="",i=n.tabSize,r=n.facet(mc)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function gc(n,e){n instanceof W&&(n=new Co(n));for(let i of n.state.facet(wS)){let r=i(n,e);if(r!==void 0)return r}let t=at(n.state);return t?ES(n,t,e):null}class Co{constructor(e,t={}){this.state=e,this.options=t,this.unit=ho(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return $a(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const yc=new B;function ES(n,e,t){return Ym(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}function xS(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function NS(n){let e=n.type.prop(yc);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(B.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>Qm(o,!0,1,void 0,s&&!xS(o)?r.from:void 0)}return n.parent==null?AS:null}function Ym(n,e,t){for(;n;n=n.parent){let i=NS(n);if(i)return i(vc.create(t,e,n))}return null}function AS(){return 0}class vc extends Co{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new vc(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(DS(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?Ym(e,this.pos,this.base):0}}function DS(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function IS(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<o?t:null;l=a.to}}function PS({closing:n,align:e=!0,units:t=1}){return i=>Qm(i,e,t,n)}function Qm(n,e,t,i,r){let s=n.textAfter,o=s.match(/^\s*/)[0].length,l=i&&s.slice(o,o+i.length)==i||r==n.pos+o,a=e?IS(n):null;return a?l?n.column(a.from):n.column(a.to):n.baseIndent+(l?0:n.unit*t)}function uf({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const CS=200;function RS(){return W.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+CS)return n;let s=t.sliceString(r.from,i);if(!e.some(c=>c.test(s)))return n;let{state:o}=n,l=-1,a=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==l)continue;l=u.from;let h=gc(o,u.from);if(h==null)continue;let f=/^\s*/.exec(u.text)[0],d=Ar(o,h);f!=d&&a.push({from:u.from,to:u.from+f.length,insert:d})}return a.length?[n,{changes:a,sequential:!0}]:n})}const Mm=new B;function Lm(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}class Ro{constructor(e,t){this.specs=e;let i;function r(l){let a=xn.newName();return(i||(i=Object.create(null)))["."+a]=l,a}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof At?l=>l.prop(xr)==o.data:o?l=>l==o:void 0,this.style=Cm(e.map(l=>({tag:l.tag,class:l.class||r(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=i?new xn(i):null,this.themeType=t.themeType}static define(e,t){return new Ro(e,t||{})}}const wa=L.define(),Vm=L.define({combine(n){return n.length?[n[0]]:null}});function fl(n){let e=n.facet(wa);return e.length?e:n.facet(Vm)}function _S(n,e){let t=[QS],i;return n instanceof Ro&&(n.module&&t.push(V.styleModule.of(n.module)),i=n.themeType),e?.fallback?t.push(Vm.of(n)):i?t.push(wa.computeN([V.darkTheme],r=>r.facet(V.darkTheme)==(i=="dark")?[n]:[])):t.push(wa.of(n)),t}class YS{constructor(e){this.markCache=Object.create(null),this.tree=at(e.state),this.decorations=this.buildDeco(e,fl(e.state))}update(e){let t=at(e.state),i=fl(e.state),r=i!=fl(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return J.none;let i=new ur;for(let{from:r,to:s}of e.visibleRanges)vS(this.tree,t,(o,l,a)=>{i.add(o,l,this.markCache[a]||(this.markCache[a]=J.mark({class:a})))},r,s);return i.finish()}}const QS=So.high(mt.fromClass(YS,{decorations:n=>n.decorations})),MS=V.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),$m=1e4,Fm="()[]{}",Bm=L.define({combine(n){return Pr(n,{afterCursor:!0,brackets:Fm,maxScanDistance:$m,renderMatch:$S})}}),LS=J.mark({class:"cm-matchingBracket"}),VS=J.mark({class:"cm-nonmatchingBracket"});function $S(n){let e=[],t=n.matched?LS:VS;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const FS=We.define({create(){return J.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(Bm);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=jt(e.state,r.head,-1,i)||r.head>0&&jt(e.state,r.head-1,1,i)||i.afterCursor&&(jt(e.state,r.head,1,i)||r.head<e.state.doc.length&&jt(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return J.set(t,!0)},provide:n=>V.decorations.from(n)}),BS=[FS,MS];function US(n={}){return[Bm.of(n),BS]}const jS=new B;function Ea(n,e,t){let i=n.prop(e<0?B.openedBy:B.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function xa(n){let e=n.type.prop(jS);return e?e(n.node):n}function jt(n,e,t,i={}){let r=i.maxScanDistance||$m,s=i.brackets||Fm,o=at(n),l=o.resolveInner(e,t);for(let a=l;a;a=a.parent){let c=Ea(a.type,t,s);if(c&&a.from<a.to){let u=xa(a);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return qS(n,e,t,a,u,c,s)}}return GS(n,e,t,o,l.type,r,s)}function qS(n,e,t,i,r,s,o){let l=i.parent,a={from:r.from,to:r.to},c=0,u=l?.cursor();if(u&&(t<0?u.childBefore(i.from):u.childAfter(i.to)))do if(t<0?u.to<=i.from:u.from>=i.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let h=xa(u);return{start:a,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(Ea(u.type,t,o))c++;else if(Ea(u.type,-t,o)){if(c==0){let h=xa(u);return{start:a,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function GS(n,e,t,i,r,s,o){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let f=0;!u.next().done&&f<=s;){let d=u.value;t<0&&(f+=d.length);let p=e+f*t;for(let y=t>0?0:d.length-1,g=t>0?d.length:-1;y!=g;y+=t){let O=o.indexOf(d[y]);if(!(O<0||i.resolveInner(p+y,1).type!=r))if(O%2==0==t>0)h++;else{if(h==1)return{start:c,end:{from:p+y,to:p+y+1},matched:O>>1==a>>1};h--}}t>0&&(f+=d.length)}return u.done?{start:c,matched:!1}:null}const zS=Object.create(null),hf=[Ke.none],ff=[],XS=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])XS[n]=WS(zS,e);function dl(n,e){ff.indexOf(n)>-1||(ff.push(n),console.warn(e))}function WS(n,e){let t=null;for(let s of e.split(".")){let o=n[s]||S[s];o?typeof o=="function"?t?t=o(t):dl(s,`Modifier ${s} used at start of tag`):t?dl(s,`Tag ${s} used as modifier`):t=o:dl(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),r=Ke.define({id:hf.length,name:i,props:[pc({[i]:t})]});return hf.push(r),r.id}function Ut(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)Um(n,arguments[e]);return n}function Um(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Um(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}class HS{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Vn{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,s=i.facet(Fn).markerFilter;s&&(r=s(r));let o=J.set(r.map(l=>l.from==l.to||l.from==l.to-1&&i.doc.lineAt(l.from).to==l.from?J.widget({widget:new sk(l),diagnostic:l}).range(l.from):J.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity},diagnostic:l}).range(l.from,l.to)),!0);return new Vn(o,t,Li(o))}}function Li(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return i=new HS(r,s,o.diagnostic),!1}),i}function JS(n,e){return!!(n.effects.some(t=>t.is(Oc))||n.changes.touchesRange(e.pos))}function ZS(n,e){return n.field(Dt,!1)?e:e.concat(q.appendConfig.of([Dt,V.decorations.compute([Dt],t=>{let{selected:i,panel:r}=t.field(Dt);return!i||!r||i.from==i.to?J.none:J.set([ek.range(i.from,i.to)])}),Iv(tk,{hideOn:JS}),lk]))}function KS(n,e){return{effects:ZS(n,[Oc.of(e)])}}const Oc=q.define(),jm=q.define(),qm=q.define(),Dt=We.define({create(){return new Vn(J.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=Li(t,n.selected.diagnostic,r)||Li(t,null,r)}n=new Vn(t,n.panel,i)}for(let t of e.effects)t.is(Oc)?n=Vn.init(t.value,n.panel,e.state):t.is(jm)?n=new Vn(n.diagnostics,t.value?bc.open:null,n.selected):t.is(qm)&&(n=new Vn(n.diagnostics,n.panel,t.value));return n},provide:n=>[Kl.from(n,e=>e.panel),V.decorations.from(n,e=>e.diagnostics)]}),ek=J.mark({class:"cm-lintRange cm-lintRange-active"});function tk(n,e,t){let{diagnostics:i}=n.state.field(Dt),r=[],s=2e8,o=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(a,c,{spec:u})=>{e>=a&&e<=c&&(a==c||(e>a||t>0)&&(e<c||t<0))&&(r.push(u.diagnostic),s=Math.min(a,s),o=Math.max(c,o))});let l=n.state.facet(Fn).tooltipFilter;return l&&(r=l(r)),r.length?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:nk(n,r)}}}:null}function nk(n,e){return Ut("ul",{class:"cm-tooltip-lint"},e.map(t=>zm(n,t,!1)))}const df=n=>{let e=n.state.field(Dt,!1);return!e||!e.panel?!1:(n.dispatch({effects:jm.of(!1)}),!0)},ik=mt.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(Fn);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Fn);Promise.all(t.map(i=>Promise.resolve(i(this.view)))).then(i=>{let r=i.reduce((s,o)=>s.concat(o));this.view.state.doc==e.doc&&this.view.dispatch(KS(this.view.state,r))},i=>{st(this.view.state,i)})}}update(n){let e=n.state.facet(Fn);(n.docChanged||e!=n.startState.facet(Fn))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Fn=L.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},Pr(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:ik});function rk(n,e={}){return Fn.of({source:n,config:e})}function Gm(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function zm(n,e,t){var i;let r=t?Gm(e.actions):[];return Ut("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ut("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let l=h=>{h.preventDefault();let f=Li(n.state.field(Dt).diagnostics,e);f&&s.apply(n,f.from,f.to)},{name:a}=s,c=r[o]?a.indexOf(r[o]):-1,u=c<0?a:[a.slice(0,c),Ut("u",a.slice(c,c+1)),a.slice(c+1)];return Ut("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${a}${c<0?"":` (access key "${r[o]})"`}.`},u)}),e.source&&Ut("div",{class:"cm-diagnosticSource"},e.source))}class sk extends Cr{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ut("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class pf{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=zm(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class bc{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)df(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=Gm(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==r.keyCode){let a=Li(this.view.state.field(Dt).diagnostics,s);a&&s.actions[l].apply(e,a.from,a.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=Ut("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=Ut("div",{class:"cm-panel-lint"},this.list,Ut("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>df(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Dt).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Dt),i=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,l,{spec:a})=>{let c=-1,u;for(let h=i;h<this.items.length;h++)if(this.items[h].diagnostic==a.diagnostic){c=h;break}c<0?(u=new pf(this.view,a.diagnostic),this.items.splice(i,0,u),r=!0):(u=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),s=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new pf(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{o.top<l.top?this.list.scrollTop-=l.top-o.top:o.bottom>l.bottom&&(this.list.scrollTop+=o.bottom-l.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Dt),i=Li(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:qm.of(i)})}static open(e){return new bc(e)}}function ok(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function pl(n){return ok(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const lk=V.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:pl("#d11")},".cm-lintRange-warning":{backgroundImage:pl("orange")},".cm-lintRange-info":{backgroundImage:pl("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function mf(n,e){return n.line(e.line+1).from+e.character}function Xm(n,e){const t=n.lineAt(e);return new Na(t.number-1,e-t.from)}class Na{constructor(e,t){this.line=e,this.character=t}setLine(e){this.line=e}setCharacter(e){this.character=e}lessThanOrEqualTo(e){return this.line<e.line||this.line===e.line&&this.character<=e.character}}const ak=()=>/mac/i.test(navigator.platform),ck=n=>ak()?n.metaKey:n.ctrlKey,Wm=q.define(),Hm=We.define({create(){},update(n,e){for(const t of e.effects)if(t.is(Wm))return t.value;return n}}),uk=q.define(),Jm=We.define({create(){},update(n,e){for(const t of e.effects)if(t.is(uk))return t.value;return n}}),hk=(n,e)=>{n.dispatch({effects:Wm.of(e)})},Tc=n=>n.field(Hm),Zm=n=>n.field(Jm),fk=(n,e)=>[Hm.init(()=>n),Jm.init(()=>e)],dk={__proto__:null,query:240,mutation:242,subscription:244,on:86,fragment:92,schema:102,scalar:114,type:120,implements:126,interface:140,union:146,enum:154,input:164,directive:172,repeatable:176,extend:192},pk=Er.deserialize({version:14,states:"LQOYQPOOO!WQPO'#C}O!`QPO'#C_OOQO'#C_'#C_O!iQPO'#DYOOQO'#Ev'#EvOOQO'#D_'#D_O!nQPO'#D^O#_QPO'#D^O!iQPO'#DhO!iQPO'#DrO!iQPO'#DuO!iQPO'#DyO!iQPO'#EOOOQO'#Dd'#DdO#fQPO'#ESOOQO'#D]'#D]O!vQPO'#E^OOQO'#Ea'#EaOOQO'#E]'#E]OOQO'#FT'#FTOOQO'#Eu'#EuOOQO'#Eh'#EhQYQPOOOOQO'#C`'#C`OOQO'#DZ'#DZOOQO'#D`'#D`OOQO'#Di'#DiOOQO'#Ds'#DsOOQO'#Dv'#DvOOQO'#Dz'#DzOOQO'#EP'#EPOOQO'#ET'#ETOOQO'#E_'#E_O#kQPO'#CaO$VQPO'#DQO$[QPO'#DPO$sQPO'#DPO$xQPO'#DSO%WQPO'#DOOOQO'#En'#EnO%fQPO,59iOOQO'#Ca'#CaO%qQPO'#CxOOQO'#El'#ElO'hQPO'#CwO)[QPO'#CdOOQO,58y,58yO)aQPO,58yO)fQPO,58yO)nQPO,58yOOQO'#DT'#DTO)yQPO,59tO{QPO'#FUOOQO'#Db'#DbOOQO,59x,59xO*OQPO,59xO!nQPO,59xO!iQPO,5:PO!iQPO,5:SO!iQPO,5:^O!iQPO,5:aO!iQPO,5:eO!iQPO,5:jO*TQPO,5:nOOQO'#Df'#DfO*YQPO,5:SO+aQPO,5:^O,hQPO,5:aO-oQPO,5:eO.sQPO,5:jO/wQPO,5:nO!nQPO,5:xO!iQPO,5:|O!iQPO,5:}O!iQPO,5;OO!iQPO,5;PO!iQPO,5;QO!iQPO,5;ROOQO-E8f-E8fOOQO,59l,59lO0VQPO'#CzOOQO,59k,59kO0[QPO,59kO0mQPO,59kOOQO'#DR'#DRO0tQPO,59kO1OQPO,59nO!iQPO'#DVOOQO,59p,59pO)aQPO,59pO)fQPO,59pOOQO'#DW'#DWOOQO,59j,59jOOQO-E8l-E8lOOQO1G/T1G/TOOQO,59d,59dOOQO-E8j-E8jO1aQPO'#CeOOQO'#Ei'#EiO1fQPO,59OOOQO1G.e1G.eO)aQPO1G.eO)fQPO1G.eO)fQPO1G/`O1nQPO'#DcO1sQPO,5;pOOQO1G/d1G/dO*OQPO1G/dO1xQPO1G/kO4QQPO1G/nO5]QPO1G/xO6hQPO1G/{O7pQPO1G0PO8xQPO1G0UO/wQPO1G0YO9PQPO1G/nO9WQPO'#DkO9`QPO'#FWOOQO'#Dn'#DnOOQO1G/n1G/nO9hQPO1G/nOOQO'#Dl'#DlO:iQPO1G/xOOQO1G/x1G/xO:pQPO1G/xO;qQPO1G/{O;xQPO'#DxO5dQPO1G/{O<QQQO'#FYOOQO'#D|'#D|OOQO1G0P1G0PO6oQPO1G0PO9`QPO'#FZOOQO'#ER'#EROOQO1G0U1G0UO7wQPO1G0UO<YQPO'#DqO!iQPO'#DqOOQO'#Ep'#EpO<_QPO'#DpO<pQSO1G0YO)yQPO1G0YO>QQPO1G0YOOQO'#EV'#EVOOQO1G0d1G0dO>YQPO1G0dO!qQPO1G0hO?ZQPO1G0iO?ZQPO1G0jO?fQPO1G0kO?nQPO1G0lO?vQPO1G0mOOQO'#C|'#C|O@OQPO'#C{OOQO'#Em'#EmO@TQPO,59fOOQO1G/V1G/VO@]QPO1G/VO@nQPO1G/VOOQO1G/Y1G/YOOQO'#Cg'#CgOOQO,59q,59qOOQO1G/[1G/[O)aQPO1G/[O@uQPO,59POOQO-E8g-E8gOOQO1G.j1G.jOOQO7+$P7+$PO)aQPO7+$POOQO7+$z7+$zO)aQPO7+$zO!iQPO,59}OOQO1G1[1G1[OOQO7+%O7+%OOOQO7+%V7+%VOBOQPO7+%YOOQO7+%Y7+%YO@}QPO7+%YOCZQPO7+%dOOQO7+%d7+%dOBYQPO7+%dODfQPO7+%gODmQPO7+%gOOQO7+%k7+%kODtQPO7+%kOOQO7+%p7+%pOEuQPO7+%pO<pQSO7+%tO)yQPO7+%tO>QQPO7+%tO!iQPO,5:VOOQO,5:V,5:VOFvQPO'#DoO!iQPO'#DoOOQO'#Eo'#EoOGRQPO,5;rO!iQPO,5:dOOQO,5:d,5:dOG^QQO'#D}OGlQQO'#D}OOQO'#Eq'#EqOGqQQO,5;tOG|QPO,5;uO@uQPO,5:]OHXQPO,5:]OOQO-E8n-E8nOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#EY'#EYOH^QPO7+%tOOQO'#EX'#EXO<sQSO'#EXOOQO7+&O7+&OOOQO7+&S7+&SOJcQPO7+&TOOQO7+&T7+&TOIbQPO7+&TOKnQPO7+&UOOQO7+&U7+&UOJmQPO7+&UOLyQPO7+&VOMQQPO7+&VOOQO7+&W7+&WOMXQPO7+&WOOQO7+&X7+&XONYQPO7+&XO! ZQQO,59gOOQO-E8k-E8kOOQO1G/Q1G/QOOQO7+$q7+$qO! xQPO7+$qOOQO7+$v7+$vO@uQPO'#CjO!!ZQPO'#E|OOQO'#E|'#E|O!#UQPO1G.kOOQO<<Gk<<GkOOQO<<Hf<<HfOOQO1G/i1G/iOOQO<<Ht<<HtO!#gQPO<<HtOOQO<<IO<<IOO!$hQPO<<IOO!%iQPO<<IROOQO<<IV<<IVOOQO<<I[<<I[O!&mQPO<<I`O<pQSO<<I`O)yQPO<<I`OOQO1G/q1G/qO@uQPO,5:ZO!'qQPO,5:ZO!'vQPO,5:ZOOQO-E8m-E8mOOQO1G1^1G1^OOQO1G0O1G0OO!(RQQO'#CxO!(dQQO'#CwOOQO,5:i,5:iO!(rQQO,5:iOOQO-E8o-E8oOOQO1G1`1G1`OOQO1G1a1G1aO!)QQPO1G/wO@uQPO1G/wO<sQSO,5:sOOQO,5:s,5:sOOQO<<Io<<IoO!)lQPO<<IoOOQO<<Ip<<IpO!*mQPO<<IpO!+nQPO<<IqOOQO<<Ir<<IrOOQO<<Is<<IsO!,rQQO'#CsO!,yQPO'#CvOOQO'#FP'#FPOOQO1G/R1G/ROOQO<<H]<<H]O!-RQPO,59UOOQO,59V,59VO! ZQQO'#ClOOQO7+$V7+$VO!-WQPO7+$VO!-cQPO7+$VOOQOAN>`AN>`OOQOAN>jAN>jO!-qQPOAN>zO<pQSOAN>zO!.uQPO1G/uO@uQPO1G/uO!/TQPO1G/uOOQO1G0T1G0TOOQO7+%c7+%cO!/YQPO7+%cO!/qQPO7+%cOOQO1G0_1G0_OOQOAN?ZAN?ZOOQOAN?[AN?[O!/xQQO'#EjO!0mQQO,59_OOQO,59_,59_O!0tQPO'#FROOQO'#Ek'#EkO!0yQPO,59bOOQO,59b,59bOOQO1G.p1G.pOOQO,59W,59WOOQO<<Gq<<GqO!1RQPO<<GqO!1^QPOG24fOOQO7+%a7+%aO!2bQPO7+%aO@uQPO7+%aOOQO<<H}<<H}O!2pQPO<<H}OOQO,5;U,5;UOOQO-E8h-E8hOOQO1G.y1G.yO! ZQQO,5;mOOQO-E8i-E8iOOQO1G.|1G.|OOQOAN=]AN=]OOQO<<H{<<H{O!3XQPO<<H{OOQOAN>iAN>iO!3gQPO1G1XOOQOAN>gAN>gOOQO7+&s7+&s",stateData:"!3w~O#hOSPOS~OcUOiPO!OiO!TjO!^kO!hlO!kmO!onO!toO!xpO#SqO#lhO#mhO#nhO~O#krO#vvO~OV!OOiPOm{O#kzO~Oi!VOm{O~O!TjO!Z!cO!^kO!hlO!kmO!onO!toO~O!xpO~P!vOm!iO~OVuXhuXiuXmuX#kuX#oTX#tuX#vuX~O#o!rO~OV!sOiPOm{OhsX#ksX#tsX#vsX~O#k!wO~OiPOm{O{#OO#kzO~O#t#POhrX#krX#vrX~Oh#RO#krO#vvO~OV!sOilXmlXhlX#klX#tlX#vlXclX!OlX!TlX!^lX!hlX!klX!olX!tlX!xlX#SlX#flX#llX#mlX#nlX#rlXUlXYlX{lX!zlX#olX~Om{OikXhkX#kkX#tkX#vkXckX!OkX!TkX!^kX!hkX!kkX!okX!tkX!xkX#SkX#fkX#lkX#mkX#nkX#rkXUkXYkX{kX!zkX#okX~OY#UO~OiPO~OiPOm{O~OV!OOiPOm{O~O{#OO~Oi!VO~Om#gO~Oi#jOm{O!a#nOc![a!O![a!T![a!^![a!h![a!k![a!o![a!t![a!x![a#S![a#f![a#l![a#m![a#n![a~Oi#jOm{O!a#nOc!fa!O!fa!T!fa!^!fa!h!fa!k!fa!o!fa!t!fa!x!fa#S!fa#f!fa#l!fa#m!fa#n!fa~Om{O#r#sOc!iai!ia!O!ia!T!ia!^!ia!h!ia!k!ia!o!ia!t!ia!x!ia#S!ia#f!ia#l!ia#m!ia#n!ia~Oi#uOm{Oc!ma!O!ma!T!ma!^!ma!h!ma!k!ma!o!ma!t!ma!x!ma#S!ma#f!ma#l!ma#m!ma#n!ma~Oi#yOm{Oc!ra!O!ra!T!ra!^!ra!h!ra!k!ra!o!ra!t!ra!x!ra#S!ra#f!ra#l!ra#m!ra#n!ra~OcUO{#OO!z$UO#kzO~O#k$_O~OiPOhsa#ksa#tsa#vsa~Om{O~P0[OV!sOm{O~P0[Om{Ohva#kva#tva#vva~O#o$kO~OU$mOY#UO~O#o$rO~Oh$sO~Om{Oc!Xii!Xi!O!Xi!T!Xi!^!Xi!h!Xi!k!Xi!o!Xi!t!Xi!x!Xi#S!Xi#f!Xi#l!Xi#m!Xi#n!Xi~Oi#jOm{Oc![i!O![i!T![i!^![i!h![i!k![i!o![i!t![i!x![i#S![i#f![i#l![i#m![i#n![i~O!a#nO~P2|Oi#jOm{Oc!fi!O!fi!T!fi!^!fi!h!fi!k!fi!o!fi!t!fi!x!fi#S!fi#f!fi#l!fi#m!fi#n!fi~O!a#nO~P4XO#r#sOc!iii!ii!O!ii!T!ii!^!ii!h!ii!k!ii!o!ii!t!ii!x!ii#S!ii#f!ii#l!ii#m!ii#n!ii~Om{O~P5dOi#uOc!mi!O!mi!T!mi!^!mi!h!mi!k!mi!o!mi!t!mi!x!mi#S!mi#f!mi#l!mi#m!mi#n!mi~Om{O~P6oOi#yOc!ri!O!ri!T!ri!^!ri!h!ri!k!ri!o!ri!t!ri!x!ri#S!ri#f!ri#l!ri#m!ri#n!ri~Om{O~P7wO#y%VO~P2|O#kzO#y%VO~OcUO#kzO~Oi#jOc![i!O![i!T![i!^![i!h![i!k![i!o![i!t![i!x![i#S![i#f![i#l![i#m![i#n![i~O#y%VO~P4XOi#jOc!fi!O!fi!T!fi!^!fi!h!fi!k!fi!o!fi!t!fi!x!fi#S!fi#f!fi#l!fi#m!fi#n!fi~O#{%]O~P5gO#kzO#{%]O~OcUOf%_O~O#o%dO~OcUO#kzO{!dX!z!dX#o!dX~O#{%lO$O%gO$P%gO$Q%gO$R%gO$S%gO$T%gO$U%gO$V%gO$W%hO$X%hO$Y%hO$Z%hO$[%hO$]%hO$^%hO$_%hO$`%hO$a%hO$b%hO~O{#OO!z$UO~Oi!VOc#Qi!O#Qi!T#Qi!^#Qi!h#Qi!k#Qi!o#Qi!t#Qi!x#Qi#S#Qi#f#Qi#l#Qi#m#Qi#n#Qi~Oi#jOm{O!a#nO~Om{O#r#sO~Oi#uOm{O~Oi#yOm{O~O#o%{O~OU%}O#k$_O~OiPOhsi#ksi#tsi#vsi~Om{O~P@]O]&RO#kzO~Oi#jOc![q!O![q!T![q!^![q!h![q!k![q!o![q!t![q!x![q#S![q#f![q#l![q#m![q#n![q~Om{O#y%VO~P@}Oi#jOc!fq!O!fq!T!fq!^!fq!h!fq!k!fq!o!fq!t!fq!x!fq#S!fq#f!fq#l!fq#m!fq#n!fq~Om{O#y%VO~PBYOc!iqi!iq!O!iq!T!iq!^!iq!h!iq!k!iq!o!iq!t!iq!x!iq#S!iq#f!iq#l!iq#m!iq#n!iq~O#{%]O~PCeO#r#sO~PCeOi#uOc!mq!O!mq!T!mq!^!mq!h!mq!k!mq!o!mq!t!mq!x!mq#S!mq#f!mq#l!mq#m!mq#n!mq~Oi#yOc!rq!O!rq!T!rq!^!rq!h!rq!k!rq!o!rq!t!rq!x!rq#S!rq#f!rq#l!rq#m!rq#n!rq~OcUO#kzO#o&eO~OcUOh&iO#kzO~Om&kOc!qXf!qXh!qX~Of&nO~OcUOf%_Oh&pO~OcUOh&qO#kzO~O#o&sO~O#{&tOc!vqi!vq!O!vq!T!vq!^!vq!h!vq!k!vq!o!vq!t!vq!x!vq#S!vq#f!vq#l!vq#m!vq#n!vq~Oi#jOc#Vq!O#Vq!T#Vq!^#Vq!h#Vq!k#Vq!o#Vq!t#Vq!x#Vq#S#Vq#f#Vq#l#Vq#m#Vq#n#Vq~Om{O#y%VO~PIbOi#jOc#Wq!O#Wq!T#Wq!^#Wq!h#Wq!k#Wq!o#Wq!t#Wq!x#Wq#S#Wq#f#Wq#l#Wq#m#Wq#n#Wq~Om{O#y%VO~PJmOc#Xqi#Xq!O#Xq!T#Xq!^#Xq!h#Xq!k#Xq!o#Xq!t#Xq!x#Xq#S#Xq#f#Xq#l#Xq#m#Xq#n#Xq~O#{%]O~PKxO#r#sO~PKxOi#uOc#Yq!O#Yq!T#Yq!^#Yq!h#Yq!k#Yq!o#Yq!t#Yq!x#Yq#S#Yq#f#Yq#l#Yq#m#Yq#n#Yq~Oi#yOc#Zq!O#Zq!T#Zq!^#Zq!h#Zq!k#Zq!o#Zq!t#Zq!x#Zq#S#Zq#f#Zq#l#Zq#m#Zq#n#Zq~OY'PO]&}Oa'POb'POc'POd'POe'POf'POi'OO~OiPOhsq#ksq#tsq#vsq~O#q'TOU#pXY#pXm#pX#r#pX#t#pXc#pX{#pX!z#pX#k#pX[#pXh#pX#o#pX~Om{O#r'UO#t'VOUXiYXi~Oi#jOc![y!O![y!T![y!^![y!h![y!k![y!o![y!t![y!x![y#S![y#f![y#l![y#m![y#n![y~Oi#jOc!fy!O!fy!T!fy!^!fy!h!fy!k!fy!o!fy!t!fy!x!fy#S!fy#f!fy#l!fy#m!fy#n!fy~O#{%]Oc!iyi!iy!O!iy!T!iy!^!iy!h!iy!k!iy!o!iy!t!iy!x!iy#S!iy#f!iy#l!iy#m!iy#n!iy~O#{&tOc!vyi!vy!O!vy!T!vy!^!vy!h!vy!k!vy!o!vy!t!vy!x!vy#S!vy#f!vy#l!vy#m!vy#n!vy~O#o'_O~OcUO#kzO#o'_O~OV!sOclXflXhlXmlX~Om&kOckXfkXhkX~Om&kOc!qaf!qah!qa~Om{O#r'UOc!ei{!ei!z!ei#k!eih!ei#o!ei~Oi#jOc#Vy!O#Vy!T#Vy!^#Vy!h#Vy!k#Vy!o#Vy!t#Vy!x#Vy#S#Vy#f#Vy#l#Vy#m#Vy#n#Vy~Oi#jOc#Wy!O#Wy!T#Wy!^#Wy!h#Wy!k#Wy!o#Wy!t#Wy!x#Wy#S#Wy#f#Wy#l#Wy#m#Wy#n#Wy~O#{%]Oc#Xyi#Xy!O#Xy!T#Xy!^#Xy!h#Xy!k#Xy!o#Xy!t#Xy!x#Xy#S#Xy#f#Xy#l#Xy#m#Xy#n#Xy~O['jO~P! ZOh'nO#kzO~O['oO~O#t'qOUXqYXq~Om{O#t'qOUXqYXq~O#{&tOc!v!Ri!v!R!O!v!R!T!v!R!^!v!R!h!v!R!k!v!R!o!v!R!t!v!R!x!v!R#S!v!R#f!v!R#l!v!R#m!v!R#n!v!R~Om{Oc!cih!ci#k!ci~O#o'vO~Om{Oc!eq{!eq!z!eq#k!eqh!eq#o!eq~O#r'UO~P!/YO#t'yOY#^X[#^X]#^Xa#^Xb#^Xc#^Xd#^Xe#^Xf#^Xi#^X~O['{O~P! ZO#o'|O~Oh(OO#kzO~O#t(POUXyYXy~O#{&tOc!v!Zi!v!Z!O!v!Z!T!v!Z!^!v!Z!h!v!Z!k!v!Z!o!v!Z!t!v!Z!x!v!Z#S!v!Z#f!v!Z#l!v!Z#m!v!Z#n!v!Z~Om{Oc!cqh!cq#k!cq~Om{Oc!ey{!ey!z!ey#k!eyh!ey#o!ey~Om{Oc!cyh!cy#k!cy~O#t(VOh#ui#k#ui~Odefe~",goto:":k$OPPP$P$T$[PP&d&jP&nPP'Z'd'mPPPPPP'vPP'v'}*|P,T,_,c,g-k-o-s-w-o.O-o.U.[P$P.oP.s.w.{/bP/l/|.w0P0TP0P0ZP0e0wP1P2T2X2e0P2nP0P2xP3S0P3dP3n4O0P4SP4^.w4nP4uP5P5]5i5i.s5q5uP5q5y5y5y5y5y5y5}6T6Z6a6g7r7x8O8U8cPPP8i8mPPPPP8qPP9WP9eP8m9iP9qP:Z:cTTOgSQOgR#]!VSsPyQ!SQS!TSvQ!dXQ!eYQ!fZQ!g[Q!h]Q#a![Q#b!]Q#c!^Q#d!_Q#e!`Q#f!a^#}!i#g#y$Q%X%c&gQ$X!kQ$Y!lQ$Z!mQ$[!nQ$]!oQ$^!pj$g!z#i#s$k$r%V%]%d&R&e&s'_'vS%X#j%[Q%e$OQ&g%YT'k'O'mQ!RQR#Z!ST#V!O#WQ$h!zQ%W#iQ%^#s^&S$k%d&R&e&s'_'vQ&X$rQ&d%VR&j%]_&S$k%d&R&e&s'_'v_&T$k%d&R&e&s'_'vQ'X&UQ'c&rR'x'dZ'P%{&}'U'i'|Q!QQQ!YVQ!utQ!|vS#Y!R!SQ#`!ZQ#m!dQ#q!eQ#t!fQ#x!gQ#|!hQ$W!jS$d!v!xQ$f!yQ$j!}Q$o#ZQ$q#[Q$u#aS$x#b#hS${#c#oQ$}#dQ%P#eQ%R#fQ%n$XQ%q$YQ%t$ZQ%v$[Q%x$]Q%z$^Q&P$eQ&Z$vQ&]$yQ&m%_Q&w%oQ&y%rQ'W&UQ'a&nQ'b&rQ'r'XQ't'^S'w'c'dQ(Q'uQ(S'xR(U(R#Z|QVtv}!R!S!Z!d!e!f!g!h!j!v!x!y!}#Z#[#a#b#c#d#e#f#h#o$X$Y$Z$[$]$^$e$v$y%_%o%r&U&l&n&r'X'^'c'd'u'x(RQ!vtS#S{&kR$e!xT$a!s$bT$`!s$bSROgQ!PQQ!ttQ!{vU#X!Q!R!SU$c!u!v!xS$i!|!}S$n#Y#ZQ$p#[S&O$d$eQ&Q$jQ&V$oQ&W$qR'R&PTxPyTwPyTuPyStPyR!xuQ!USR!yvQ!}vR#[!US!zv!UQ$R!iU%S#g$S$TS&b%T%UR']&cTSOgTdOgT`OgSWOg^$O!i#g#y$Q%X%c&gS%Y#j%[T%`#u%bSVOgQ!ZWR!jaQ!XVS#_!Y!ZQ$V!jQ$t#`R%m$WR#^!VT^OgQ![WR!kaSXOgQ!]WR!laQ#h!dQ#o!eQ$v#bQ$y#cQ%o$YR%r$Z]#i!d!e#b#c$Y$ZQ#l!dQ#p!eU$w#b#h#mU$z#c#o#qQ%p$YQ%s$ZS&Y$v$xS&[$y${S&v%o%qS&x%r%tQ'Y&ZQ'Z&]Q'f&wR'g&yT%Z#j%[Q$T!iQ%U#gQ&f%XR'`&g_$P!i#g#y$Q%X%c&gSYOgQ!^WR!maSZOgQ!_WR!naQ#r!fS$|#d#tQ%u$[Q&^$}R&z%vS[OgQ!`WR!oaQ#w!gS%O#e#xQ%w$]Q&_%PR&{%xT%a#u%bS]OgQ!aWR!paQ#{!hS%Q#f#|Q%y$^Q&`%RR&|%zS_OgR!bWQ$S!iS%T#g$TR&c%UQ%j$RQ&a%SQ'[&bR's']W%k$R%S&b']Q&u%lR'e&t]%i$R%S%l&b&t']TcOgTaOgTbOgQgOR!qgQ#W!OR$l#WQ'i&}R'z'iQ'm'OR'}'m#Q}QVtv!R!S!Z!d!e!f!g!h!j!v!x!y!}#Z#[#a#b#c#d#e#f#h#o$X$Y$Z$[$]$^$e$v$y%o%r&U&r'X'^'c'd'u'x(RS#T}&lT&l%_&nQ$b!sR%|$bQyPR#QyQ%[#jR&h%[W$Q!i#g%X&gQ%c#yT%f$Q%cQ%b#uR&o%bTfOgTeOgQ&U$kQ&r%dQ'S&RQ'^&eQ'd&sQ'u'_R(R'vQ'Q%{S'h&}'iQ'p'UR(T'|T'l'O'm]!WV!Y!Z!j#`$W}#k!d!e#b#c#h#m#o#q$Y$Z$v$x$y${%o%q%r%t&Z&]&w&y]#v!g#e#x$]%P%x]#z!h#f#|$^%R%z",nodeNames:"⚠ Comment Document OperationDefinition OperationType Name ) ( VariableDefinitions VariableDefinition Variable NamedType ] [ ListType NonNullType DefaultValue IntValue FloatValue StringValue BooleanValue NullValue EnumValue ListValue } { ObjectValue Directives Directive DirectiveName Arguments Argument ArgumentAttributeName SelectionSet Selection Field Alias FieldName FragmentSpread FragmentName InlineFragment TypeCondition OnKeyword on FragmentDefinition FragmentKeyword fragment TypeSystemDefinition SchemaDefinition Description SchemaKeyword schema RootTypeDefinition RootOperationTypeDefinition TypeDefinition ScalarTypeDefinition ScalarKeyword scalar ObjectTypeDefinition TypeKeyword type ImplementsInterfaces ImplementsKeyword implements FieldsDefinition FieldDefinition ArgumentsDefinition InputValueDefinition InterfaceTypeDefinition InterfaceKeyword interface UnionTypeDefinition UnionKeyword union UnionMemberTypes EnumTypeDefinition EnumKeyword enum EnumValuesDefinition EnumValueDefinition InputObjectTypeDefinition InputKeyword input InputFieldsDefinition DirectiveDefinition DirectiveKeyword directive RepeatableKeyword repeatable DirectiveLocations DirectiveLocation ExecutableDirectiveLocation TypeSystemDirectiveLocation TypeSystemExtension SchemaExtension ExtendKeyword extend TypeExtension ScalarTypeExtension ObjectTypeExtension InterfaceTypeExtension UnionTypeExtension EnumTypeExtension InputObjectTypeExtension",maxTerm:156,nodeProps:[["openedBy",6,"(",12,"[",24,"{"],["closedBy",7,")",13,"]",25,"}"]],skippedNodes:[0,1],repeatNodeCount:10,tokenData:"#8g~R!XX^$npq$nqr%crs%hst)ntu)yvw*hxy*myz*r|}*w}!O*|!O!P,e!Q![+S![!],v!_!`,{!b!c-Q!c!d-o!d!g.Y!g!h8X!h!i=b!i!k.Y!k!l!$t!l!o.Y!o!p!>b!p!q.Y!q!r!Bk!r!s.Y!s!t!Es!t!u.Y!u!v!Hb!v!w.Y!w!x#%l!x!y#(Z!y!}.Y!}#O#2Y#P#Q#2_#R#S.Y#T#Y.Y#Y#Z#2d#Z#b.Y#b#c#5O#c#h.Y#h#i#7S#i#o.Y#o#p#8W#p#q#8]#q#r#8b#y#z$n$f$g$n#BY#BZ$n$IS$I_$n$I|$JO$n$JT$JU$n$KV$KW$n&FU&FV$n~$sY#h~X^$npq$n#y#z$n$f$g$n#BY#BZ$n$IS$I_$n$I|$JO$n$JT$JU$n$KV$KW$n&FU&FV$n~%hO#q~~%kVOY&QZ]&Q^r&Qrs(as#O&Q#O#P&o#P~&Q~&TVOY&QZ]&Q^r&Qrs&js#O&Q#O#P&o#P~&Q~&oOc~~&rXrs&Q!P!Q&Q#O#P&Q#U#V&Q#Y#Z&Q#b#c&Q#f#g&Q#h#i&Q#i#j'_~'bR!Q!['k!c!i'k#T#Z'k~'nR!Q!['w!c!i'w#T#Z'w~'zR!Q![(T!c!i(T#T#Z(T~(WR!Q![&Q!c!i&Q#T#Z&Q~(fPc~rs(i~(lQrs(r#O#P)[~(uROr(irs)Os~(i~)RROr(irs&js~(i~)_Prs)b~)ePrs)h~)kPrs(i~)sQP~OY)nZ~)n~)|R!c!}*V#R#S*V#T#o*V~*[SY~!Q![*V!c!}*V#R#S*V#T#o*V~*mO#y~~*rOV~~*wOU~~*|O#t~~+PP!Q![+S~+XSa~!O!P+e!Q![+S!g!h+y#X#Y+y~+hP!Q![+k~+pRb~!Q![+k!g!h+y#X#Y+y~+|R{|,V}!O,V!Q![,]~,YP!Q![,]~,bPb~!Q![,]~,hP!O!P,k~,nP!O!P,q~,vO#v~~,{O#o~~-QO#r~~-TR!c!}-^#R#S-^#T#o-^~-cSm~!Q![-^!c!}-^#R#S-^#T#o-^V-vU#kPfQ!Q![.Y!c!t.Y!t!u.m!u!}.Y#R#S.Y#T#o.YR.aS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV.tU#kPfQ!Q![.Y!c!i.Y!i!j/W!j!}.Y#R#S.Y#T#o.YV/_U#kPfQ!Q![.Y!c!w.Y!w!x/q!x!}.Y#R#S.Y#T#o.YV/xU#kPfQ!Q![.Y!c!o.Y!o!p0[!p!}.Y#R#S.Y#T#o.YV0cU#kPfQ!Q![.Y!c!g.Y!g!h0u!h!}.Y#R#S.Y#T#o.YV0|U#kPfQ!Q![.Y!c!p.Y!p!q1`!q!}.Y#R#S.Y#T#o.YV1gU#kPfQ!Q![.Y!c!v.Y!v!w1y!w!}.Y#R#S.Y#T#o.YV2QS#kPfQ!Q![.Y!c!}.Y#R#S2^#T#o.YV2eU#kPfQ!Q![.Y!c!f.Y!f!g2w!g!}.Y#R#S.Y#T#o.YV3OU#kPfQ!Q![.Y!c!g.Y!g!h3b!h!}.Y#R#S.Y#T#o.YV3iU#kPfQ!Q![.Y!c!h.Y!h!i3{!i!}.Y#R#S.Y#T#o.YV4SU#kPfQ!Q![.Y!c!k.Y!k!l4f!l!}.Y#R#S.Y#T#o.YV4mU#kPfQ!Q![.Y!c!p.Y!p!q5P!q!}.Y#R#S.Y#T#o.YV5WU#kPfQ!Q![.Y!c!k.Y!k!l5j!l!}.Y#R#S.Y#T#o.YV5qU#kPfQ!Q![.Y!c!v.Y!v!w6T!w!}.Y#R#S.Y#T#o.YV6[U#kPfQ!Q![.Y!c!k.Y!k!l6n!l!}.Y#R#S.Y#T#o.YV6uU#kPfQ!Q![.Y!c!q.Y!q!r7X!r!}.Y#R#S.Y#T#o.YV7`U#kPfQ!Q![.Y!c!p.Y!p!q7r!q!}.Y#R#S.Y#T#o.YV7{S$[S#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV8`U#kPfQ!Q![.Y!c!p.Y!p!q8r!q!}.Y#R#S.Y#T#o.YV8yU#kPfQ!Q![.Y!c!w.Y!w!x9]!x!}.Y#R#S.Y#T#o.YV9dU#kPfQ!Q![.Y!c!o.Y!o!p9v!p!}.Y#R#S.Y#T#o.YV:PS$_S#kPfQ!Q![.Y!c!}.Y#R#S:]#T#o.YV:dU#kPfQ!Q![.Y!c!x.Y!x!y:v!y!}.Y#R#S.Y#T#o.YV:}T#kPfQ!Q![.Y!c!d;^!d!}.Y#R#S.Y#T#o.YV;eU#kPfQ!Q![.Y!c!n.Y!n!o;w!o!}.Y#R#S.Y#T#o.YV<OU#kPfQ!Q![.Y!c!w.Y!w!x<b!x!}.Y#R#S.Y#T#o.YV<iU#kPfQ!Q![.Y!c!g.Y!g!h<{!h!}.Y#R#S.Y#T#o.YV=US$`S#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV=iW#kPfQ!Q![.Y!c!k.Y!k!l>R!l!t.Y!t!uFQ!u!}.Y#R#S.Y#T#o.YV>YU#kPfQ!Q![.Y!c!g.Y!g!h>l!h!}.Y#R#S.Y#T#o.YV>sU#kPfQ!Q![.Y!c!n.Y!n!o?V!o!}.Y#R#S.Y#T#o.YV?^U#kPfQ!Q![.Y!c!f.Y!f!g?p!g!}.Y#R#S.Y#T#o.YV?yS$RS#kPfQ!Q![.Y!c!}.Y#R#S@V#T#o.YV@^U#kPfQ!Q![.Y!c!f.Y!f!g@p!g!}.Y#R#S.Y#T#o.YV@wU#kPfQ!Q![.Y!c!g.Y!g!hAZ!h!}.Y#R#S.Y#T#o.YVAbU#kPfQ!Q![.Y!c!h.Y!h!iAt!i!}.Y#R#S.Y#T#o.YVA{U#kPfQ!Q![.Y!c!k.Y!k!lB_!l!}.Y#R#S.Y#T#o.YVBfU#kPfQ!Q![.Y!c!p.Y!p!qBx!q!}.Y#R#S.Y#T#o.YVCPU#kPfQ!Q![.Y!c!k.Y!k!lCc!l!}.Y#R#S.Y#T#o.YVCjU#kPfQ!Q![.Y!c!v.Y!v!wC|!w!}.Y#R#S.Y#T#o.YVDTU#kPfQ!Q![.Y!c!k.Y!k!lDg!l!}.Y#R#S.Y#T#o.YVDnU#kPfQ!Q![.Y!c!q.Y!q!rEQ!r!}.Y#R#S.Y#T#o.YVEXU#kPfQ!Q![.Y!c!p.Y!p!qEk!q!}.Y#R#S.Y#T#o.YVEtS$ZS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YVFXT#kPfQ!Q![.Y!c!dFh!d!}.Y#R#S.Y#T#o.YVFoU#kPfQ!Q![.Y!c!i.Y!i!jGR!j!}.Y#R#S.Y#T#o.YVGYU#kPfQ!Q![.Y!c!o.Y!o!pGl!p!}.Y#R#S.Y#T#o.YVGsU#kPfQ!Q![.Y!c!g.Y!g!hHV!h!}.Y#R#S.Y#T#o.YVH^U#kPfQ!Q![.Y!c!p.Y!p!qHp!q!}.Y#R#S.Y#T#o.YVHwU#kPfQ!Q![.Y!c!v.Y!v!wIZ!w!}.Y#R#S.Y#T#o.YVIbS#kPfQ!Q![.Y!c!}.Y#R#SIn#T#o.YVIuW#kPfQ!Q![.Y!c!f.Y!f!gJ_!g!u.Y!u!v! o!v!}.Y#R#S.Y#T#o.YVJfU#kPfQ!Q![.Y!c!g.Y!g!hJx!h!}.Y#R#S.Y#T#o.YVKPU#kPfQ!Q![.Y!c!h.Y!h!iKc!i!}.Y#R#S.Y#T#o.YVKjU#kPfQ!Q![.Y!c!k.Y!k!lK|!l!}.Y#R#S.Y#T#o.YVLTU#kPfQ!Q![.Y!c!p.Y!p!qLg!q!}.Y#R#S.Y#T#o.YVLnU#kPfQ!Q![.Y!c!k.Y!k!lMQ!l!}.Y#R#S.Y#T#o.YVMXU#kPfQ!Q![.Y!c!v.Y!v!wMk!w!}.Y#R#S.Y#T#o.YVMrU#kPfQ!Q![.Y!c!k.Y!k!lNU!l!}.Y#R#S.Y#T#o.YVN]U#kPfQ!Q![.Y!c!q.Y!q!rNo!r!}.Y#R#S.Y#T#o.YVNvU#kPfQ!Q![.Y!c!p.Y!p!q! Y!q!}.Y#R#S.Y#T#o.YV! cS$SS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV! vU#kPfQ!Q![.Y!c!r.Y!r!s!!Y!s!}.Y#R#S.Y#T#o.YV!!aU#kPfQ!Q![.Y!c!t.Y!t!u!!s!u!}.Y#R#S.Y#T#o.YV!!zU#kPfQ!Q![.Y!c!g.Y!g!h!#^!h!}.Y#R#S.Y#T#o.YV!#eT#kPfQ!Q![.Y!c!d!#t!d!}.Y#R#S.Y#T#o.YV!#{U#kPfQ!Q![.Y!c!f.Y!f!g!$_!g!}.Y#R#S.Y#T#o.YV!$hS$TS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!${U#kPfQ!Q![.Y!c!p.Y!p!q!%_!q!}.Y#R#S.Y#T#o.YV!%fY#kPfQ!Q![.Y!c!n.Y!n!o!&U!o!r.Y!r!s!,z!s!v.Y!v!w!:r!w!}.Y#R#S.Y#T#o.YV!&]U#kPfQ!Q![.Y!c!k.Y!k!l!&o!l!}.Y#R#S.Y#T#o.YV!&vU#kPfQ!Q![.Y!c!p.Y!p!q!'Y!q!}.Y#R#S.Y#T#o.YV!'aU#kPfQ!Q![.Y!c!g.Y!g!h!'s!h!}.Y#R#S.Y#T#o.YV!'zS#kPfQ!Q![.Y!c!}.Y#R#S!(W#T#o.YV!(_U#kPfQ!Q![.Y!c!h.Y!h!i!(q!i!}.Y#R#S.Y#T#o.YV!(xU#kPfQ!Q![.Y!c!t.Y!t!u!)[!u!}.Y#R#S.Y#T#o.YV!)cT#kPfQ!Q![.Y!c!d!)r!d!}.Y#R#S.Y#T#o.YV!)yU#kPfQ!Q![.Y!c!i.Y!i!j!*]!j!}.Y#R#S.Y#T#o.YV!*dU#kPfQ!Q![.Y!c!o.Y!o!p!*v!p!}.Y#R#S.Y#T#o.YV!*}U#kPfQ!Q![.Y!c!g.Y!g!h!+a!h!}.Y#R#S.Y#T#o.YV!+hU#kPfQ!Q![.Y!c!p.Y!p!q!+z!q!}.Y#R#S.Y#T#o.YV!,RU#kPfQ!Q![.Y!c!v.Y!v!w!,e!w!}.Y#R#S.Y#T#o.YV!,nS$US#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!-RU#kPfQ!Q![.Y!c!w.Y!w!x!-e!x!}.Y#R#S.Y#T#o.YV!-lU#kPfQ!Q![.Y!c!v.Y!v!w!.O!w!}.Y#R#S.Y#T#o.YV!.VS#kPfQ!Q![.Y!c!}.Y#R#S!.c#T#o.YV!.jW#kPfQ!Q![.Y!c!h.Y!h!i!/S!i!q.Y!q!r!7j!r!}.Y#R#S.Y#T#o.YV!/ZU#kPfQ!Q![.Y!c!k.Y!k!l!/m!l!}.Y#R#S.Y#T#o.YV!/tU#kPfQ!Q![.Y!c!g.Y!g!h!0W!h!}.Y#R#S.Y#T#o.YV!0_U#kPfQ!Q![.Y!c!n.Y!n!o!0q!o!}.Y#R#S.Y#T#o.YV!0xU#kPfQ!Q![.Y!c!f.Y!f!g!1[!g!}.Y#R#S.Y#T#o.YV!1cS#kPfQ!Q![.Y!c!}.Y#R#S!1o#T#o.YV!1vU#kPfQ!Q![.Y!c!f.Y!f!g!2Y!g!}.Y#R#S.Y#T#o.YV!2aU#kPfQ!Q![.Y!c!g.Y!g!h!2s!h!}.Y#R#S.Y#T#o.YV!2zU#kPfQ!Q![.Y!c!h.Y!h!i!3^!i!}.Y#R#S.Y#T#o.YV!3eU#kPfQ!Q![.Y!c!k.Y!k!l!3w!l!}.Y#R#S.Y#T#o.YV!4OU#kPfQ!Q![.Y!c!p.Y!p!q!4b!q!}.Y#R#S.Y#T#o.YV!4iU#kPfQ!Q![.Y!c!k.Y!k!l!4{!l!}.Y#R#S.Y#T#o.YV!5SU#kPfQ!Q![.Y!c!v.Y!v!w!5f!w!}.Y#R#S.Y#T#o.YV!5mU#kPfQ!Q![.Y!c!k.Y!k!l!6P!l!}.Y#R#S.Y#T#o.YV!6WU#kPfQ!Q![.Y!c!q.Y!q!r!6j!r!}.Y#R#S.Y#T#o.YV!6qU#kPfQ!Q![.Y!c!p.Y!p!q!7T!q!}.Y#R#S.Y#T#o.YV!7^S$bS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!7qU#kPfQ!Q![.Y!c!d.Y!d!e!8T!e!}.Y#R#S.Y#T#o.YV!8[U#kPfQ!Q![.Y!c!l.Y!l!m!8n!m!}.Y#R#S.Y#T#o.YV!8uU#kPfQ!Q![.Y!c!g.Y!g!h!9X!h!}.Y#R#S.Y#T#o.YV!9`U#kPfQ!Q![.Y!c!e.Y!e!f!9r!f!}.Y#R#S.Y#T#o.YV!9yU#kPfQ!Q![.Y!c!v.Y!v!w!:]!w!}.Y#R#S.Y#T#o.YV!:fS$aS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!:yU#kPfQ!Q![.Y!c!g.Y!g!h!;]!h!}.Y#R#S.Y#T#o.YV!;dU#kPfQ!Q![.Y!c!t.Y!t!u!;v!u!}.Y#R#S.Y#T#o.YV!;}U#kPfQ!Q![.Y!c!h.Y!h!i!<a!i!}.Y#R#S.Y#T#o.YV!<hT#kPfQ!Q![.Y!c!d!<w!d!}.Y#R#S.Y#T#o.YV!=OU#kPfQ!Q![.Y!c!e.Y!e!f!=b!f!}.Y#R#S.Y#T#o.YV!=iU#kPfQ!Q![.Y!c!g.Y!g!h!={!h!}.Y#R#S.Y#T#o.YV!>US$]S#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!>iU#kPfQ!Q![.Y!c!w.Y!w!x!>{!x!}.Y#R#S.Y#T#o.YV!?SU#kPfQ!Q![.Y!c!v.Y!v!w!?f!w!}.Y#R#S.Y#T#o.YV!?mT#kPfQ!Q![.Y!c!d!?|!d!}.Y#R#S.Y#T#o.YV!@TU#kPfQ!Q![.Y!c!v.Y!v!w!@g!w!}.Y#R#S.Y#T#o.YV!@nU#kPfQ!Q![.Y!c!k.Y!k!l!AQ!l!}.Y#R#S.Y#T#o.YV!AXU#kPfQ!Q![.Y!c!q.Y!q!r!Ak!r!}.Y#R#S.Y#T#o.YV!ArU#kPfQ!Q![.Y!c!p.Y!p!q!BU!q!}.Y#R#S.Y#T#o.YV!B_S$PS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!BrU#kPfQ!Q![.Y!c!d.Y!d!e!CU!e!}.Y#R#S.Y#T#o.YV!C]U#kPfQ!Q![.Y!c!l.Y!l!m!Co!m!}.Y#R#S.Y#T#o.YV!CvU#kPfQ!Q![.Y!c!g.Y!g!h!DY!h!}.Y#R#S.Y#T#o.YV!DaU#kPfQ!Q![.Y!c!e.Y!e!f!Ds!f!}.Y#R#S.Y#T#o.YV!DzU#kPfQ!Q![.Y!c!v.Y!v!w!E^!w!}.Y#R#S.Y#T#o.YV!EgS$YS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!EzU#kPfQ!Q![.Y!c!w.Y!w!x!F^!x!}.Y#R#S.Y#T#o.YV!FeU#kPfQ!Q![.Y!c!g.Y!g!h!Fw!h!}.Y#R#S.Y#T#o.YV!GOU#kPfQ!Q![.Y!c!t.Y!t!u!Gb!u!}.Y#R#S.Y#T#o.YV!GiU#kPfQ!Q![.Y!c!{.Y!{!|!G{!|!}.Y#R#S.Y#T#o.YV!HUS$OS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!HiW#kPfQ!Q![.Y!c!e.Y!e!f!IR!f!w.Y!w!x!Mq!x!}.Y#R#S.Y#T#o.YV!IYV#kPfQ!Q![.Y!c!d!Io!d!j.Y!j!k!Kp!k!}.Y#R#S.Y#T#o.YV!IvU#kPfQ!Q![.Y!c!n.Y!n!o!JY!o!}.Y#R#S.Y#T#o.YV!JaT#kPfQ!Q![.Y!c!d!Jp!d!}.Y#R#S.Y#T#o.YV!JwU#kPfQ!Q![.Y!c!t.Y!t!u!KZ!u!}.Y#R#S.Y#T#o.YV!KdS$XS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!KwU#kPfQ!Q![.Y!c!g.Y!g!h!LZ!h!}.Y#R#S.Y#T#o.YV!LbU#kPfQ!Q![.Y!c!o.Y!o!p!Lt!p!}.Y#R#S.Y#T#o.YV!L{T#kPfQ!Q![.Y!c!d!M[!d!}.Y#R#S.Y#T#o.YV!MeS$WS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV!MxU#kPfQ!Q![.Y!c!d.Y!d!e!N[!e!}.Y#R#S.Y#T#o.YV!NcU#kPfQ!Q![.Y!c!u.Y!u!v!Nu!v!}.Y#R#S.Y#T#o.YV!N|U#kPfQ!Q![.Y!c!e.Y!e!f# `!f!}.Y#R#S.Y#T#o.YV# gU#kPfQ!Q![.Y!c!t.Y!t!u# y!u!}.Y#R#S.Y#T#o.YV#!QU#kPfQ!Q![.Y!c!k.Y!k!l#!d!l!}.Y#R#S.Y#T#o.YV#!kU#kPfQ!Q![.Y!c!r.Y!r!s#!}!s!}.Y#R#S.Y#T#o.YV##UU#kPfQ!Q![.Y!c!v.Y!v!w##h!w!}.Y#R#S.Y#T#o.YV##oU#kPfQ!Q![.Y!c!k.Y!k!l#$R!l!}.Y#R#S.Y#T#o.YV#$YU#kPfQ!Q![.Y!c!q.Y!q!r#$l!r!}.Y#R#S.Y#T#o.YV#$sU#kPfQ!Q![.Y!c!p.Y!p!q#%V!q!}.Y#R#S.Y#T#o.YV#%`S$QS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV#%sU#kPfQ!Q![.Y!c!p.Y!p!q#&V!q!}.Y#R#S.Y#T#o.YV#&^U#kPfQ!Q![.Y!c!k.Y!k!l#&p!l!}.Y#R#S.Y#T#o.YV#&wU#kPfQ!Q![.Y!c!q.Y!q!r#'Z!r!}.Y#R#S.Y#T#o.YV#'bU#kPfQ!Q![.Y!c!p.Y!p!q#'t!q!}.Y#R#S.Y#T#o.YV#'}S$^S#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YV#(bT#kPfQ!Q![.Y!c!d#(q!d!}.Y#R#S.Y#T#o.YV#(xU#kPfQ!Q![.Y!c!t.Y!t!u#)[!u!}.Y#R#S.Y#T#o.YV#)cU#kPfQ!Q![.Y!c!k.Y!k!l#)u!l!}.Y#R#S.Y#T#o.YV#)|T#kPfQ!Q![.Y!c!d#*]!d!}.Y#R#S.Y#T#o.YV#*dU#kPfQ!Q![.Y!c!d.Y!d!e#*v!e!}.Y#R#S.Y#T#o.YV#*}U#kPfQ!Q![.Y!c!n.Y!n!o#+a!o!}.Y#R#S.Y#T#o.YV#+hU#kPfQ!Q![.Y!c!g.Y!g!h#+z!h!}.Y#R#S.Y#T#o.YV#,RS#kPfQ!Q![.Y!c!}.Y#R#S#,_#T#o.YV#,fU#kPfQ!Q![.Y!c!f.Y!f!g#,x!g!}.Y#R#S.Y#T#o.YV#-PU#kPfQ!Q![.Y!c!g.Y!g!h#-c!h!}.Y#R#S.Y#T#o.YV#-jU#kPfQ!Q![.Y!c!h.Y!h!i#-|!i!}.Y#R#S.Y#T#o.YV#.TU#kPfQ!Q![.Y!c!k.Y!k!l#.g!l!}.Y#R#S.Y#T#o.YV#.nU#kPfQ!Q![.Y!c!p.Y!p!q#/Q!q!}.Y#R#S.Y#T#o.YV#/XU#kPfQ!Q![.Y!c!k.Y!k!l#/k!l!}.Y#R#S.Y#T#o.YV#/rU#kPfQ!Q![.Y!c!v.Y!v!w#0U!w!}.Y#R#S.Y#T#o.YV#0]U#kPfQ!Q![.Y!c!k.Y!k!l#0o!l!}.Y#R#S.Y#T#o.YV#0vU#kPfQ!Q![.Y!c!q.Y!q!r#1Y!r!}.Y#R#S.Y#T#o.YV#1aU#kPfQ!Q![.Y!c!p.Y!p!q#1s!q!}.Y#R#S.Y#T#o.YV#1|S$VS#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#o.Y~#2_O]~~#2dO[~R#2kT#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#U#2z#U#o.YR#3RU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#`.Y#`#a#3e#a#o.YR#3lU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#g.Y#g#h#4O#h#o.YR#4VU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#X.Y#X#Y#4i#Y#o.YR#4rS#kPdQfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YR#5VU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#i.Y#i#j#5i#j#o.YR#5pU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#`.Y#`#a#6S#a#o.YR#6ZU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#`.Y#`#a#6m#a#o.YR#6vS#kPeQfQ!Q![.Y!c!}.Y#R#S.Y#T#o.YR#7ZU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#f.Y#f#g#7m#g#o.YR#7tU#kPfQ!Q![.Y!c!}.Y#R#S.Y#T#i.Y#i#j#4O#j#o.Y~#8]Oi~~#8bO#{~~#8gOh~",tokenizers:[0,1,2],topRules:{Document:[0,2]},specialized:[{term:119,get:n=>dk[n]||-1}],tokenPrec:2978}),gf="RootTypeDefinition InputFieldsDefinition EnumValuesDefinition FieldsDefinition SelectionSet { }",mk="scalar type interface union enum input implements fragment extend schema directive on repeatable",gk="( ) { } : [ ]",Km=Nr.define({parser:pk.configure({props:[pc({Variable:S.variableName,BooleanValue:S.bool,StringValue:S.string,Comment:S.lineComment,IntValue:S.integer,FloatValue:S.float,EnumValue:S.special(S.name),NullValue:S.null,DirectiveName:S.modifier,[mk]:S.keyword,OperationType:S.definitionKeyword,FieldName:S.propertyName,Field:S.propertyName,ArgumentAttributeName:S.attributeName,Name:S.atom,"( )":S.paren,"{ }":S.brace,",":S.separator,[gk]:S.punctuation}),yc.add({[gf]:PS({closing:"}",align:!0})}),Mm.add({[gf]:Lm})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*(\{|\})$/}});function yk(){return new _m(Km)}const vk=/^[a-zA-Z0-9_@(]$/,Ok=Km.data.of({autocomplete:n=>{const e=Tc(n.state),t=Zm(n.state);if(!e)return null;const i=n.matchBefore(/\w*/);if(!i)return null;const r=i.text.split("").pop();if(!vk.test(r)&&!n.explicit)return null;const s=n.state.doc.toString(),o=Xm(n.state.doc,n.pos),l=IT(e,s,o);return l.length===0?null:{from:i.from,options:l.map(a=>({label:a.label,detail:a.detail||"",info:c=>{if(t?.onCompletionInfoRender)return t.onCompletionInfoRender(a,n,c);if(a.documentation||a.isDeprecated&&a.deprecationReason){const u=document.createElement("div");return u.innerText=a.documentation||a.deprecationReason||"",u}}}))}}}),bk=V.domEventHandlers({click(n,e){var t,i,r;const s=Tc(e.state);if(!s)return;const o=e.state.selection.main.head,l=Xm(e.state.doc,o),a=Sm(e.state.doc.toString(),l),c=km(s,a.state),u=Zm(e.state);u?.onShowInDocs&&ck(n)&&u.onShowInDocs((t=c.fieldDef)===null||t===void 0?void 0:t.name,(i=c.type)===null||i===void 0?void 0:i.toString(),(r=c.parentType)===null||r===void 0?void 0:r.toString())}}),Tk=["error","warning","info"],Sk=rk(n=>{const e=Tc(n.state);return e?WT(n.state.doc.toString(),e).map(i=>{if(!i.severity||!i.source)return null;const r=mf(n.state.doc,new Na(i.range.start.line,i.range.start.character)),s=Math.max(0,Math.min(r,n.state.doc.length)),o=mf(n.state.doc,new Na(i.range.end.line,i.range.end.character-1)),l=Math.min(Math.max(s+1,o),n.state.doc.length);return{from:s,to:s===l?l+1:l,severity:Tk[i.severity-1],message:i.message,actions:[]}}).filter(i=>Boolean(i)):[]});function kk(n,e){return[yk(),Ok,Sk,bk,fk(n,e)]}class eg{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=at(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(tg(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function yf(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function wk(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=yf(e)+yf(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Ek(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:wk(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}class vf{constructor(e,t,i){this.completion=e,this.source=t,this.match=i}}function En(n){return n.selection.main.head}function tg(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const xk=Cn.define();function Nk(n,e,t,i){return Object.assign(Object.assign({},n.changeByRange(r=>{if(r==n.selection.main)return{changes:{from:t,to:i,insert:e},range:x.cursor(t+e.length)};let s=i-t;return!r.empty||s&&n.sliceDoc(r.from-s,r.from)!=n.sliceDoc(t,i)?{range:r}:{changes:{from:r.from-s,to:r.from,insert:e},range:x.cursor(r.from-s+e.length)}})),{userEvent:"input.complete"})}function ng(n,e){const t=e.completion.apply||e.completion.label;let i=e.source;typeof t=="string"?n.dispatch(Object.assign(Object.assign({},Nk(n.state,t,i.from,i.to)),{annotations:xk.of(e.completion)})):t(n,e.completion,i.from,i.to)}const Of=new WeakMap;function Ak(n){if(!Array.isArray(n))return n;let e=Of.get(n);return e||Of.set(n,e=Ek(n)),e}class Dk{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=je(e,t),r=ct(i);this.chars.push(i);let s=e.slice(t,t+r),o=s.toUpperCase();this.folded.push(je(o==s?s.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:s,byWord:o}=this;if(t.length==1){let w=je(e,0);return w==t[0]?[0,0,ct(w)]:w==i[0]?[-200,0,ct(w)]:null}let l=e.indexOf(this.pattern);if(l==0)return[0,0,this.pattern.length];let a=t.length,c=0;if(l<0){for(let w=0,k=Math.min(e.length,200);w<k&&c<a;){let A=je(e,w);(A==t[c]||A==i[c])&&(r[c++]=w),w+=ct(A)}if(c<a)return null}let u=0,h=0,f=!1,d=0,p=-1,y=-1,g=/[a-z]/.test(e),O=!0;for(let w=0,k=Math.min(e.length,200),A=0;w<k&&h<a;){let R=je(e,w);l<0&&(u<a&&R==t[u]&&(s[u++]=w),d<a&&(R==t[d]||R==i[d]?(d==0&&(p=w),y=w+1,d++):d=0));let _,I=R<255?R>=48&&R<=57||R>=97&&R<=122?2:R>=65&&R<=90?1:0:(_=rd(R))!=_.toLowerCase()?1:_!=_.toUpperCase()?2:0;(!w||I==1&&g||A==0&&I!=0)&&(t[h]==R||i[h]==R&&(f=!0)?o[h++]=w:o.length&&(O=!1)),A=I,w+=ct(R)}return h==a&&o[0]==0&&O?this.result(-100+(f?-200:0),o,e):d==a&&p==0?[-200-e.length,0,y]:l>-1?[-700-e.length,l,l+this.pattern.length]:d==a?[-200+-700-e.length,p,y]:h==a?this.result(-100+(f?-200:0)+-700+(O?0:-1100),o,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[e-i.length],s=1;for(let o of t){let l=o+(this.astral?ct(je(i,o)):1);s>1&&r[s-1]==o?r[s-1]=l:(r[s++]=o,r[s++]=l)}return r}}const vt=L.define({combine(n){return Pr(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>bf(e(i),t(i)),optionClass:(e,t)=>i=>bf(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function bf(n,e){return n?e?n+" "+e:n:e}function Ik(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r){let s=document.createElement("span");s.className="cm-completionLabel";let{label:o}=t,l=0;for(let a=1;a<r.length;){let c=r[a++],u=r[a++];c>l&&s.appendChild(document.createTextNode(o.slice(l,c)));let h=s.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(o.slice(c,u))),h.className="cm-completionMatchedText",l=u}return l<o.length&&s.appendChild(document.createTextNode(o.slice(l))),s},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Tf(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class Pk{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:l=>this.positionInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:r,selected:s}=i.open,o=e.state.facet(vt);this.optionContent=Ik(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=Tf(r.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{for(let a=l.target,c;a&&a!=this.dom;a=a.parentNode)if(a.nodeName=="LI"&&(c=/-(\d+)$/.exec(a.id))&&+c[1]<r.length){ng(e,r[+c[1]]),l.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(r,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var t,i,r;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=o&&(this.updateSel(),((t=s.open)===null||t===void 0?void 0:t.disabled)!=((i=o.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((r=s.open)===null||r===void 0)&&r.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Tf(t.options.length,t.selected,this.view.state.facet(vt).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o)}).catch(o=>st(this.view.state,o,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&Rk(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let p=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:p.innerWidth,bottom:p.innerHeight}}if(r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10)return null;let o=this.view.textDirection==Se.RTL,l=o,a=!1,c,u="",h="",f=t.left-s.left,d=s.right-t.right;if(l&&f<Math.min(i.width,d)?l=!1:!l&&d<Math.min(i.width,f)&&(l=!0),i.width<=(l?f:d))u=Math.max(s.top,Math.min(r.top,s.bottom-i.height))-t.top+"px",c=Math.min(400,l?f:d)+"px";else{a=!0,c=Math.min(400,(o?t.right:s.right-t.left)-30)+"px";let p=s.bottom-t.bottom;p>=i.height||p>t.top?u=r.bottom-t.top+"px":h=t.bottom-r.top+"px"}return{top:u,bottom:h,maxWidth:c,class:a?o?"left-narrow":"right-narrow":l?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let s=i.from;s<i.to;s++){let{completion:o,match:l}=e[s];const a=r.appendChild(document.createElement("li"));a.id=t+"-"+s,a.setAttribute("role","option");let c=this.optionClass(o);c&&(a.className=c);for(let u of this.optionContent){let h=u(o,this.view.state,l);h&&a.appendChild(h)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function Ck(n){return e=>new Pk(e,n)}function Rk(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<t.top?n.scrollTop-=t.top-i.top:i.bottom>t.bottom&&(n.scrollTop+=i.bottom-t.bottom)}function Sf(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function _k(n,e){let t=[],i=0;for(let l of n)if(l.hasResult())if(l.result.filter===!1){let a=l.result.getMatch;for(let c of l.result.options){let u=[1e9-i++];if(a)for(let h of a(c))u.push(h);t.push(new vf(c,l,u))}}else{let a=new Dk(e.sliceDoc(l.from,l.to)),c;for(let u of l.result.options)(c=a.match(u.label))&&(u.boost!=null&&(c[0]+=u.boost),t.push(new vf(u,l,c)))}let r=[],s=null,o=e.facet(vt).compareCompletions;for(let l of t.sort((a,c)=>c.match[0]-a.match[0]||o(a.completion,c.completion)))!s||s.label!=l.completion.label||s.detail!=l.completion.detail||s.type!=null&&l.completion.type!=null&&s.type!=l.completion.type||s.apply!=l.completion.apply?r.push(l):Sf(l.completion)>Sf(s)&&(r[r.length-1]=l),s=l.completion;return r}class fi{constructor(e,t,i,r,s,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new fi(this.options,kf(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,s){let o=_k(e,t);if(!o.length)return r&&e.some(a=>a.state==1)?new fi(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let l=t.facet(vt).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let a=r.options[r.selected].completion;for(let c=0;c<o.length;c++)if(o[c].completion==a){l=c;break}}return new fi(o,kf(i,l),{pos:e.reduce((a,c)=>c.hasResult()?Math.min(a,c.from):a,1e8),create:Ck(ut),above:s.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new fi(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class fo{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new fo(Mk,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(vt),s=(i.override||t.languageDataAt("autocomplete",En(t)).map(Ak)).map(l=>(this.active.find(c=>c.source==l)||new He(l,this.active.some(c=>c.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,a)=>l==this.active[a])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Yk(s,this.active)?o=fi.build(s,t,this.id,o,i):o&&o.disabled&&!s.some(l=>l.state==1)&&(o=null),!o&&s.every(l=>l.state!=1)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new He(l.source,0):l));for(let l of e.effects)l.is(rg)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new fo(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Qk}}function Yk(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const Qk={"aria-autocomplete":"list"};function kf(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const Mk=[];function Aa(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class He{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=Aa(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new He(r.source,0));for(let s of e.effects)if(s.is(Sc))r=new He(r.source,1,s.value?En(e.state):-1);else if(s.is(po))r=new He(r.source,0);else if(s.is(ig))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new He(this.source,1)}handleChange(e){return e.changes.touchesRange(En(e.startState))?new He(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new He(this.source,this.state,e.mapPos(this.explicitPos))}}class or extends He{constructor(e,t,i,r,s){super(e,2,t),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,t,i){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=En(e.state);if((this.explicitPos<0?l<=s:l<this.from)||l>o||t=="delete"&&En(e.startState)==this.from)return new He(this.source,t=="input"&&i.activateOnTyping?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return Lk(this.result.validFor,e.state,s,o)?new or(this.source,a,this.result,s,o):this.result.update&&(c=this.result.update(this.result,s,o,new eg(e.state,l,a>=0)))?new or(this.source,a,c,c.from,(r=c.to)!==null&&r!==void 0?r:En(e.state)):new He(this.source,1,a)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new He(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new or(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Lk(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):tg(n,!0).test(r)}const Sc=q.define(),po=q.define(),ig=q.define({map(n,e){return n.map(t=>t.map(e))}}),rg=q.define(),ut=We.define({create(){return fo.start()},update(n,e){return n.update(e)},provide:n=>[Xa.from(n,e=>e.tooltip),V.contentAttributes.from(n,e=>e.attrs)]});function ds(n,e="option"){return t=>{let i=t.state.field(ut,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(vt).interactionDelay)return!1;let r=1,s;e=="page"&&(s=Pv(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,l=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:rg.of(l)}),!0}}const Vk=n=>{let e=n.state.field(ut,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<n.state.facet(vt).interactionDelay?!1:(e.open.disabled||ng(n,e.open.options[e.open.selected]),!0)},$k=n=>n.state.field(ut,!1)?(n.dispatch({effects:Sc.of(!0)}),!0):!1,Fk=n=>{let e=n.state.field(ut,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:po.of(null)}),!0)};class Bk{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const wf=50,Uk=50,jk=1e3,qk=mt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(ut).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(ut);if(!n.selectionSet&&!n.docChanged&&n.startState.field(ut)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!Aa(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>Uk&&Date.now()-r.time>jk){for(let s of r.context.abortListeners)try{s()}catch(o){st(this.view.state,o)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),wf):-1,this.composing!=0)for(let i of n.transactions)Aa(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(ut);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=En(e),i=new eg(e,t,n.explicitPos==t),r=new Bk(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:po.of(null)}),st(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),wf))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(vt);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new or(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:En(r.updates.length?r.updates[0].startState:this.view.state));for(let l of r.updates)o=o.update(l,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(ut).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new He(r.active.source,0);for(let l of r.updates)o=o.update(l,t);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:ig.of(e)})}},{eventHandlers:{blur(){let n=this.view.state.field(ut,!1);n&&n.tooltip&&this.view.state.facet(vt).closeOnBlur&&this.view.dispatch({effects:po.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Sc.of(!1)}),20),this.composing=0}}}),Gk=V.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Dr={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Bn=q.define({map(n,e){let t=e.mapPos(n,-1,qe.TrackAfter);return t??void 0}}),kc=q.define({map(n,e){return e.mapPos(n)}}),wc=new class extends Wn{};wc.startSide=1;wc.endSide=-1;const sg=We.define({create(){return se.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=se.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(Bn)?n=n.update({add:[wc.range(t.value,t.value+1)]}):t.is(kc)&&(n=n.update({filter:i=>i!=t.value}));return n}});function zk(){return[Wk,sg]}const ml="()[]{}<>";function og(n){for(let e=0;e<ml.length;e+=2)if(ml.charCodeAt(e)==n)return ml.charAt(e+1);return rd(n<128?n:n+1)}function lg(n,e){return n.languageDataAt("closeBrackets",e)[0]||Dr}const Xk=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Wk=V.inputHandler.of((n,e,t,i)=>{if((Xk?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&ct(je(i,0))==1||e!=r.from||t!=r.to)return!1;let s=Zk(n.state,i);return s?(n.dispatch(s),!0):!1}),Hk=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=lg(n,n.selection.main.head).brackets||Dr.brackets,r=null,s=n.changeByRange(o=>{if(o.empty){let l=Kk(n.doc,o.head);for(let a of i)if(a==l&&_o(n.doc,o.head)==og(je(a,0)))return{changes:{from:o.head-a.length,to:o.head+a.length},range:x.cursor(o.head-a.length)}}return{range:r=o}});return r||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},Jk=[{key:"Backspace",run:Hk}];function Zk(n,e){let t=lg(n,n.selection.main.head),i=t.brackets||Dr.brackets;for(let r of i){let s=og(je(r,0));if(e==r)return s==r?n1(n,r,i.indexOf(r+r+r)>-1,t):e1(n,r,s,t.before||Dr.before);if(e==s&&ag(n,n.selection.main.from))return t1(n,r,s)}return null}function ag(n,e){let t=!1;return n.field(sg).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function _o(n,e){let t=n.sliceString(e,e+2);return t.slice(0,ct(je(t,0)))}function Kk(n,e){let t=n.sliceString(e-2,e);return ct(je(t,0))==t.length?t:t.slice(1)}function e1(n,e,t,i){let r=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Bn.of(o.to+e.length),range:x.range(o.anchor+e.length,o.head+e.length)};let l=_o(n.doc,o.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:Bn.of(o.head+e.length),range:x.cursor(o.head+e.length)}:{range:r=o}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function t1(n,e,t){let i=null,r=n.selection.ranges.map(s=>s.empty&&_o(n.doc,s.head)==t?x.cursor(s.head+t.length):i=s);return i?null:n.update({selection:x.create(r,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(({from:s})=>kc.of(s))})}function n1(n,e,t,i){let r=i.stringPrefixes||Dr.stringPrefixes,s=null,o=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:Bn.of(l.to+e.length),range:x.range(l.anchor+e.length,l.head+e.length)};let a=l.head,c=_o(n.doc,a),u;if(c==e){if(Ef(n,a))return{changes:{insert:e+e,from:a},effects:Bn.of(a+e.length),range:x.cursor(a+e.length)};if(ag(n,a)){let h=t&&n.sliceDoc(a,a+e.length*3)==e+e+e;return{range:x.cursor(a+e.length*(h?3:1)),effects:kc.of(a)}}}else{if(t&&n.sliceDoc(a-2*e.length,a)==e+e&&(u=xf(n,a-2*e.length,r))>-1&&Ef(n,u))return{changes:{insert:e+e+e+e,from:a},effects:Bn.of(a+e.length),range:x.cursor(a+e.length)};if(n.charCategorizer(a)(c)!=ft.Word&&xf(n,a,r)>-1&&!i1(n,a,e,r))return{changes:{insert:e+e,from:a},effects:Bn.of(a+e.length),range:x.cursor(a+e.length)}}return{range:s=l}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Ef(n,e){let t=at(n).resolveInner(e+1);return t.parent&&t.from==e}function i1(n,e,t,i){let r=at(n).resolveInner(e,-1),s=i.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),a=l.indexOf(t);if(!a||a>-1&&i.indexOf(l.slice(0,a))>-1){let u=r.firstChild;for(;u&&u.from==r.from&&u.to-u.from>t.length+a;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function xf(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=ft.Word)return e;for(let r of t){let s=e-r.length;if(n.sliceDoc(s,e)==r&&i(n.sliceDoc(s-1,s))!=ft.Word)return s}return-1}function r1(n={}){return[ut,vt.of(n),qk,s1,Gk]}const cg=[{key:"Ctrl-Space",run:$k},{key:"Escape",run:Fk},{key:"ArrowDown",run:ds(!0)},{key:"ArrowUp",run:ds(!1)},{key:"PageDown",run:ds(!0,"page")},{key:"PageUp",run:ds(!1,"page")},{key:"Enter",run:Vk}],s1=So.highest(za.computeN([vt],n=>n.facet(vt).defaultKeymap?[cg]:[])),o1="#e5c07b",Nf="#e06c75",l1="#56b6c2",a1="#ffffff",Ns="#abb2bf",Da="#7d8799",c1="#61afef",u1="#98c379",Af="#d19a66",h1="#c678dd",f1="#21252b",Df="#2c313a",If="#282c34",gl="#353a42",d1="#3E4451",Pf="#528bff",p1=V.theme({"&":{color:Ns,backgroundColor:If},".cm-content":{caretColor:Pf},".cm-cursor, .cm-dropCursor":{borderLeftColor:Pf},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:d1},".cm-panels":{backgroundColor:f1,color:Ns},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:If,color:Da,border:"none"},".cm-activeLineGutter":{backgroundColor:Df},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:gl},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:gl,borderBottomColor:gl},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Df,color:Ns}}},{dark:!0}),m1=Ro.define([{tag:S.keyword,color:h1},{tag:[S.name,S.deleted,S.character,S.propertyName,S.macroName],color:Nf},{tag:[S.function(S.variableName),S.labelName],color:c1},{tag:[S.color,S.constant(S.name),S.standard(S.name)],color:Af},{tag:[S.definition(S.name),S.separator],color:Ns},{tag:[S.typeName,S.className,S.number,S.changed,S.annotation,S.modifier,S.self,S.namespace],color:o1},{tag:[S.operator,S.operatorKeyword,S.url,S.escape,S.regexp,S.link,S.special(S.string)],color:l1},{tag:[S.meta,S.comment],color:Da},{tag:S.strong,fontWeight:"bold"},{tag:S.emphasis,fontStyle:"italic"},{tag:S.strikethrough,textDecoration:"line-through"},{tag:S.link,color:Da,textDecoration:"underline"},{tag:S.heading,fontWeight:"bold",color:Nf},{tag:[S.atom,S.bool,S.special(S.variableName)],color:Af},{tag:[S.processingInstruction,S.string,S.inserted],color:u1},{tag:S.invalid,color:a1}]),ug=[p1,_S(m1)],g1=n=>typeof n=="function",mo=(n,e)=>g1(n)?n(e):n;var be;(function(n){n[n.ADD_TOAST=0]="ADD_TOAST",n[n.UPDATE_TOAST=1]="UPDATE_TOAST",n[n.UPSERT_TOAST=2]="UPSERT_TOAST",n[n.DISMISS_TOAST=3]="DISMISS_TOAST",n[n.REMOVE_TOAST=4]="REMOVE_TOAST",n[n.START_PAUSE=5]="START_PAUSE",n[n.END_PAUSE=6]="END_PAUSE"})(be||(be={}));const[Xn,pn]=mm({toasts:[],pausedAt:void 0}),y1=()=>{const{pausedAt:n,toasts:e}=Xn;if(n)return;const t=Date.now();return e.map(r=>{if(r.duration===1/0)return;const s=(r.duration||0)+r.pauseDuration-(t-r.createdAt);if(s<=0){r.visible&&Ct({type:be.DISMISS_TOAST,toastId:r.id});return}return setTimeout(()=>{Ct({type:be.DISMISS_TOAST,toastId:r.id})},s)})},lr=new Map,Cf=(n,e)=>{if(lr.has(n))return;const t=setTimeout(()=>{lr.delete(n),Ct({type:be.REMOVE_TOAST,toastId:n})},e);lr.set(n,t)},v1=n=>{const e=lr.get(n);lr.delete(n),e&&clearTimeout(e)},Ct=n=>{switch(n.type){case be.ADD_TOAST:pn("toasts",r=>{const s=r;return[n.toast,...s]});break;case be.DISMISS_TOAST:const{toastId:e}=n,t=Xn.toasts;if(e){const r=t.find(s=>s.id===e);r&&Cf(e,r.unmountDelay),pn("toasts",s=>s.id===e,rs(s=>s.visible=!1))}else t.forEach(r=>{Cf(r.id,r.unmountDelay)}),pn("toasts",r=>r.id!==void 0,rs(r=>r.visible=!1));break;case be.REMOVE_TOAST:if(!n.toastId){pn("toasts",[]);break}pn("toasts",r=>r.filter(o=>o.id!==n.toastId));break;case be.UPDATE_TOAST:n.toast.id&&v1(n.toast.id),pn("toasts",r=>r.id===n.toast.id,r=>({...r,...n.toast}));break;case be.UPSERT_TOAST:Xn.toasts.find(r=>r.id===n.toast.id)?Ct({type:be.UPDATE_TOAST,toast:n.toast}):Ct({type:be.ADD_TOAST,toast:n.toast});break;case be.START_PAUSE:pn(rs(r=>{r.pausedAt=Date.now(),r.toasts.forEach(s=>{s.paused=!0})}));break;case be.END_PAUSE:const i=n.time-(Xn.pausedAt||0);pn(rs(r=>{r.pausedAt=void 0,r.toasts.forEach(s=>{s.pauseDuration+=i,s.paused=!1})}));break}},O1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ki={id:"",icon:"",unmountDelay:500,duration:3e3,ariaProps:{role:"status","aria-live":"polite"},className:"",style:{},position:"top-right",iconTheme:{}},hg={position:"top-right",toastOptions:ki,gutter:8,containerStyle:{},containerClassName:""},ps="16px",b1={position:"fixed","z-index":9999,top:ps,bottom:ps,left:ps,right:ps,"pointer-events":"none"},T1=(()=>{let n=0;return()=>String(++n)})(),S1=n=>{D1(e=>({containerClassName:n.containerClassName??e.containerClassName,containerStyle:n.containerStyle??e.containerStyle,gutter:n.gutter??e.gutter,position:n.position??e.position,toastOptions:{...n.toastOptions}}))},k1=(n,e)=>{const i=n.includes("top")?{top:0,"margin-top":`${e}px`}:{bottom:0,"margin-bottom":`${e}px`},r=n.includes("center")?{"justify-content":"center"}:n.includes("right")?{"justify-content":"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:"all 230ms cubic-bezier(.21,1.02,.73,1)",...i,...r}},w1=(n,e)=>{const t=n.getBoundingClientRect();t.height!==e.height&&Ct({type:be.UPDATE_TOAST,toast:{id:e.id,height:t.height}})},E1=(n,e)=>{const{toasts:t}=Xn,i=ai().gutter||hg.gutter||8,r=t.filter(a=>(a.position||e)===e&&a.height),s=r.findIndex(a=>a.id===n.id),o=r.filter((a,c)=>c<s&&a.visible).length;return r.slice(0,o).reduce((a,c)=>a+i+(c.height||0),0)},x1=(n,e)=>(n.position||e).includes("top")?1:-1,N1={display:"flex","align-items":"center",color:"#363636",background:"white","box-shadow":"0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05)","max-width":"350px","pointer-events":"auto",padding:"8px 10px","border-radius":"4px","line-height":"1.3","will-change":"transform"},A1={display:"flex","align-items":"center",flex:"1 1 auto",margin:"4px 10px","white-space":"pre-line"},ms={"flex-shrink":0,"min-width":"20px","min-height":"20px",display:"flex","align-items":"center","justify-content":"center","text-align":"center"},go=n=>({calcMode:"spline",keyTimes:"0; 1",keySplines:n}),[ai,D1]=an(hg),I1=(n,e="blank",t)=>({...ki,...ai().toastOptions,...t,type:e,message:n,pauseDuration:0,createdAt:Date.now(),visible:!0,id:t.id||T1(),paused:!1,style:{...ki.style,...ai().toastOptions?.style,...t.style},duration:t.duration||ai().toastOptions?.duration||O1[e],position:t.position||ai().toastOptions?.position||ai().position||ki.position}),Lr=n=>(e,t={})=>di(()=>{const i=Xn.toasts.find(s=>s.id===t.id),r=I1(e,n,{...i,duration:void 0,...t});return Ct({type:be.UPSERT_TOAST,toast:r}),r.id}),dt=(n,e)=>Lr("blank")(n,e);Rt(()=>dt);dt.error=Lr("error");dt.success=Lr("success");dt.loading=Lr("loading");dt.custom=Lr("custom");dt.dismiss=n=>{Ct({type:be.DISMISS_TOAST,toastId:n})};dt.promise=(n,e,t)=>{const i=dt.loading(e.loading,{...t});return n.then(r=>(dt.success(mo(e.success,r),{id:i,...t}),r)).catch(r=>{dt.error(mo(e.error,r),{id:i,...t})}),n};dt.remove=n=>{Ct({type:be.REMOVE_TOAST,toastId:n})};const P1=fe("<div><style>.sldt-active{z-index:9999;}.sldt-active>*{pointer-events:auto;}</style></div>",4),C1=n=>(Pt(()=>{S1(n)}),Pt(()=>{const e=y1();ar(()=>{e&&e.forEach(t=>t&&clearTimeout(t))})}),(()=>{const e=P1.cloneNode(!0);return e.firstChild,ee(e,K(Tl,{get each(){return Xn.toasts},children:t=>K(Q1,{toast:t})}),null),Te(t=>{const i={...b1,...n.containerStyle},r=n.containerClassName;return t._v$=en(e,i,t._v$),r!==t._v$2&&bo(e,t._v$2=r),t},{_v$:void 0,_v$2:void 0}),e})()),gs=fe("<div></div>",2),R1=fe("<div><div></div></div>",4),_1=n=>{let e;return Pt(()=>{if(!e)return;const t=x1(n.toast,n.position);n.toast.visible?e.animate([{transform:`translate3d(0,${t*-200}%,0) scale(.6)`,opacity:.5},{transform:"translate3d(0,0,0) scale(1)",opacity:1}],{duration:350,fill:"forwards",easing:"cubic-bezier(.21,1.02,.73,1)"}):e.animate([{transform:"translate3d(0,0,-1px) scale(1)",opacity:1},{transform:`translate3d(0,${t*-150}%,-1px) scale(.4)`,opacity:0}],{duration:400,fill:"forwards",easing:"cubic-bezier(.06,.71,.55,1)"})}),(()=>{const t=R1.cloneNode(!0),i=t.firstChild,r=e;return typeof r=="function"?To(r,t):e=t,ee(t,K(p0,{get children(){return[K(Fr,{get when(){return n.toast.icon},get children(){const s=gs.cloneNode(!0);return ee(s,()=>n.toast.icon),Te(o=>en(s,ms,o)),s}}),K(Fr,{get when(){return n.toast.type==="loading"},get children(){const s=gs.cloneNode(!0);return ee(s,K(j1,On(()=>n.toast.iconTheme))),Te(o=>en(s,ms,o)),s}}),K(Fr,{get when(){return n.toast.type==="success"},get children(){const s=gs.cloneNode(!0);return ee(s,K($1,On(()=>n.toast.iconTheme))),Te(o=>en(s,ms,o)),s}}),K(Fr,{get when(){return n.toast.type==="error"},get children(){const s=gs.cloneNode(!0);return ee(s,K(B1,On(()=>n.toast.iconTheme))),Te(o=>en(s,ms,o)),s}})]}}),i),un(i,On(()=>n.toast.ariaProps),!1,!0),ee(i,()=>mo(n.toast.message,n.toast)),Te(s=>{const o=n.toast.className,l={...N1,...n.toast.style},a=A1;return o!==s._v$&&bo(t,s._v$=o),s._v$2=en(t,l,s._v$2),s._v$3=en(i,a,s._v$3),s},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()},Y1=fe("<div></div>",2),Q1=n=>{const e=()=>{const r=n.toast.position||ki.position,s=E1(n.toast,r);return k1(r,s)},t=Xt(()=>e());let i;return Ya(()=>{i&&w1(i,n.toast)}),(()=>{const r=Y1.cloneNode(!0);r.addEventListener("mouseleave",()=>Ct({type:be.END_PAUSE,time:Date.now()})),r.addEventListener("mouseenter",()=>Ct({type:be.START_PAUSE,time:Date.now()}));const s=i;return typeof s=="function"?To(s,r):i=r,ee(r,(()=>{const o=Xt(()=>n.toast.type==="custom");return()=>o()?mo(n.toast.message,n.toast):K(_1,{get toast(){return n.toast},get position(){return n.toast.position||ki.position}})})()),Te(o=>{const l=t(),a=n.toast.visible?"sldt-active":"";return o._v$=en(r,l,o._v$),a!==o._v$2&&bo(r,o._v$2=a),o},{_v$:void 0,_v$2:void 0}),r})()},M1=fe('<svg><circle cx="16" cy="16" r="0"><animate attributeName="opacity" values="0; 1; 1"></animate><animate attributeName="r" values="0; 17.5; 16"></animate></circle></svg>',8,!0),L1=fe('<svg><circle cx="16" cy="16" r="12" opacity="0"><animate attributeName="opacity" values="1; 0"></animate><animate attributeName="r" values="12; 26"></animate></circle></svg>',8,!0),fg=n=>{const e={dur:"0.35s",begin:"100ms",fill:"freeze",calcMode:"spline",keyTimes:"0; 0.6; 1",keySplines:"0.25 0.71 0.4 0.88; .59 .22 .87 .63"};return(()=>{const t=M1.cloneNode(!0),i=t.firstChild,r=i.nextSibling;return un(i,e,!0,!1),un(r,e,!0,!1),Te(()=>cn(t,"fill",n.fill)),t})()},dg=n=>{const e={dur:"1s",begin:n.begin||"320ms",fill:"freeze",...go("0.0 0.0 0.2 1")};return(()=>{const t=L1.cloneNode(!0),i=t.firstChild,r=i.nextSibling;return un(i,e,!0,!1),un(r,e,!0,!1),Te(()=>cn(t,"fill",n.fill)),t})()},V1=fe('<svg viewBox="0 0 32 32" width="1.25rem" height="1.25rem"><path fill="none" stroke-width="4" stroke-dasharray="22" stroke-dashoffset="22" stroke-linecap="round" stroke-miterlimit="10" d="M9.8,17.2l3.8,3.6c0.1,0.1,0.3,0.1,0.4,0l9.6-9.7"><animate attributeName="stroke-dashoffset" values="22;0" dur="0.25s" begin="250ms" fill="freeze"></animate></path></svg>',6),$1=n=>{const e=n.primary||"#34C759";return(()=>{const t=V1.cloneNode(!0),i=t.firstChild,r=i.firstChild;return t.style.setProperty("overflow","visible"),ee(t,K(fg,{fill:e}),i),ee(t,K(dg,{fill:e,begin:"350ms"}),i),un(r,On(()=>go("0.0, 0.0, 0.58, 1.0")),!0,!1),Te(()=>cn(i,"stroke",n.secondary||"#FCFCFC")),t})()},F1=fe('<svg viewBox="0 0 32 32" width="1.25rem" height="1.25rem"><path fill="none" stroke-width="4" stroke-dasharray="9" stroke-dashoffset="9" stroke-linecap="round" d="M16,7l0,9"><animate attributeName="stroke-dashoffset" values="9;0" dur="0.2s" begin="250ms" fill="freeze"></animate></path><circle cx="16" cy="23" r="2.5" opacity="0"><animate attributeName="opacity" values="0;1" dur="0.25s" begin="350ms" fill="freeze"></animate></circle></svg>',10),B1=n=>{const e=n.primary||"#FF3B30";return(()=>{const t=F1.cloneNode(!0),i=t.firstChild,r=i.firstChild,s=i.nextSibling,o=s.firstChild;return t.style.setProperty("overflow","visible"),ee(t,K(fg,{fill:e}),i),ee(t,K(dg,{fill:e}),i),un(r,On(()=>go("0.0, 0.0, 0.58, 1.0")),!0,!1),un(o,On(()=>go("0.0, 0.0, 0.58, 1.0")),!0,!1),Te(l=>{const a=n.secondary||"#FFFFFF",c=n.secondary||"#FFFFFF";return a!==l._v$&&cn(i,"stroke",l._v$=a),c!==l._v$2&&cn(s,"fill",l._v$2=c),l},{_v$:void 0,_v$2:void 0}),t})()},U1=fe('<svg viewBox="0 0 32 32" width="1.25rem" height="1.25rem"><path fill="none" stroke-width="4" stroke-miterlimit="10" d="M16,6c3,0,5.7,1.3,7.5,3.4c1.5,1.8,2.5,4,2.5,6.6c0,5.5-4.5,10-10,10S6,21.6,6,16S10.5,6,16,6z"></path><path fill="none" stroke-width="4" stroke-linecap="round" stroke-miterlimit="10" d="M16,6c3,0,5.7,1.3,7.5,3.4c0.6,0.7,1.1,1.4,1.5,2.2"><animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.75s" repeatCount="indefinite"></animateTransform></path></svg>',8),j1=n=>(()=>{const e=U1.cloneNode(!0),t=e.firstChild,i=t.nextSibling;return e.style.setProperty("overflow","visible"),Te(r=>{const s=n.primary||"#E5E7EB",o=n.secondary||"#4b5563";return s!==r._v$&&cn(t,"stroke",r._v$=s),o!==r._v$2&&cn(i,"stroke",r._v$2=o),r},{_v$:void 0,_v$2:void 0}),e})(),pg=dt,q1=pc({String:S.string,Number:S.number,"True False":S.bool,PropertyName:S.propertyName,Null:S.null,",":S.separator,"[ ]":S.squareBracket,"{ }":S.brace}),G1=Er.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[q1],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),z1=Nr.define({name:"json",parser:G1.configure({props:[yc.add({Object:uf({except:/^\s*\}/}),Array:uf({except:/^\s*\]/})}),Mm.add({"Object Array":Lm})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function X1(){return new _m(z1)}const W1=n=>{let e=xc(n.state);return e.line?H1(n):e.block?Z1(n):!1};function Ec(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const H1=Ec(tw,0),J1=Ec(mg,0),Z1=Ec((n,e)=>mg(n,e,ew(e)),0);function xc(n,e=n.selection.main.head){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Wi=50;function K1(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-Wi,i),o=n.sliceDoc(r,r+Wi),l=/\s*$/.exec(s)[0].length,a=/^\s*/.exec(o)[0].length,c=s.length-l;if(s.slice(c-e.length,c)==e&&o.slice(a,a+t.length)==t)return{open:{pos:i-l,margin:l&&1},close:{pos:r+a,margin:a&&1}};let u,h;r-i<=2*Wi?u=h=n.sliceDoc(i,r):(u=n.sliceDoc(i,i+Wi),h=n.sliceDoc(r-Wi,r));let f=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-t.length;return u.slice(f,f+e.length)==e&&h.slice(p,p+t.length)==t?{open:{pos:i+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:r-d-t.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function ew(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from,to:r.to})}return e}function mg(n,e,t=e.selection.ranges){let i=t.map(s=>xc(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,o)=>K1(e,i[o],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let o=0,l;o<r.length;o++)if(l=r[o]){let a=i[o],{open:c,close:u}=l;s.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:s}}return null}function tw(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of t){let l=i.length,a=1e9;for(let c=s;c<=o;){let u=e.doc.lineAt(c);if(u.from>r&&(s==o||o>u.from)){r=u.from;let h=xc(e,c).line;if(!h)continue;let f=/^\s*/.exec(u.text)[0].length,d=f==u.length,p=u.text.slice(f,f+h.length)==h?f:-1;f<u.text.length&&f<a&&(a=f),i.push({line:u,comment:p,token:h,indent:f,empty:d,single:!1})}c=u.to+1}if(a<1e9)for(let c=l;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=a);i.length==l+1&&(i[l].single=!0)}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:a,indent:c,empty:u,single:h}of i)(h||!u)&&s.push({from:l.from+c,insert:a+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:a}of i)if(l>=0){let c=o.from+l,u=c+a.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const Ia=Cn.define(),nw=Cn.define(),iw=L.define(),gg=L.define({combine(n){return Pr(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}});function rw(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}const yg=We.define({create(){return qt.empty},update(n,e){let t=e.state.facet(gg),i=e.annotation(Ia);if(i){let a=e.docChanged?x.single(rw(e.changes)):void 0,c=Ze.fromTransaction(e,a),u=i.side,h=u==0?n.undone:n.done;return c?h=yo(h,h.length,t.minDepth,c):h=bg(h,e.startState.selection),new qt(u==0?i.rest:h,u==0?h:i.rest)}let r=e.annotation(nw);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(Ee.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=Ze.fromTransaction(e),o=e.annotation(Ee.time),l=e.annotation(Ee.userEvent);return s?n=n.addChanges(s,o,l,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new qt(n.done.map(Ze.fromJSON),n.undone.map(Ze.fromJSON))}});function sw(n={}){return[yg,gg.of(n),V.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?vg:e.inputType=="historyRedo"?Pa:null;return i?(e.preventDefault(),i(t)):!1}})]}function Yo(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(yg,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const vg=Yo(0,!1),Pa=Yo(1,!1),ow=Yo(0,!0),lw=Yo(1,!0);class Ze{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Ze(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Ze(e.changes&&we.fromJSON(e.changes),[],e.mapped&&Gt.fromJSON(e.mapped),e.startSelection&&x.fromJSON(e.startSelection),e.selectionsAfter.map(x.fromJSON))}static fromTransaction(e,t){let i=pt;for(let r of e.startState.facet(iw)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Ze(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,pt)}static selection(e){return new Ze(void 0,pt,void 0,void 0,e)}}function yo(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function aw(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,o,l)=>{for(let a=0;a<t.length;){let c=t[a++],u=t[a++];l>=c&&o<=u&&(i=!0)}}),i}function cw(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function Og(n,e){return n.length?e.length?n.concat(e):n:e}const pt=[],uw=200;function bg(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-uw));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),yo(n,n.length-1,1e9,t.setSelAfter(i)))}else return[Ze.selection([e])]}function hw(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function yl(n,e){if(!n.length)return n;let t=n.length,i=pt;for(;t;){let r=fw(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[Ze.selection(i)]:pt}function fw(n,e,t){let i=Og(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):pt,t);if(!n.changes)return Ze.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new Ze(r,q.mapEffects(n.effects,e),o,n.startSelection.map(s),i)}const dw=/^(input\.type|delete)($|\.)/;class qt{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new qt(this.done,this.undone):this}addChanges(e,t,i,r,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!i||dw.test(i))&&(!l.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,aw(l.changes,e.changes))||i=="input.type.compose")?o=yo(o,o.length-1,r.minDepth,new Ze(e.changes.compose(l.changes),Og(e.effects,l.effects),l.mapped,l.startSelection,pt)):o=yo(o,o.length,r.minDepth,e),new qt(o,pt,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:pt;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&cw(s[s.length-1],e)?this:new qt(bg(this.done,e),this.undone,t,i)}addMapping(e){return new qt(yl(this.done,e),yl(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1];if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Ia.of({side:e,rest:hw(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=r.length==1?pt:r.slice(0,r.length-1);return s.mapped&&(o=yl(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Ia.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}qt.empty=new qt(pt,pt);const pw=[{key:"Mod-z",run:vg,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Pa,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Pa,preventDefault:!0},{key:"Mod-u",run:ow,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:lw,preventDefault:!0}];function ji(n,e){return x.create(n.ranges.map(e),n.mainIndex)}function Jt(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Qt({state:n,dispatch:e},t){let i=ji(n.selection,t);return i.eq(n.selection)?!1:(e(Jt(n,i)),!0)}function Qo(n,e){return x.cursor(e?n.to:n.from)}function Tg(n,e){return Qt(n,t=>t.empty?n.moveByChar(t,e):Qo(t,e))}function Ue(n){return n.textDirectionAt(n.state.selection.main.head)==Se.LTR}const Sg=n=>Tg(n,!Ue(n)),kg=n=>Tg(n,Ue(n));function wg(n,e){return Qt(n,t=>t.empty?n.moveByGroup(t,e):Qo(t,e))}const mw=n=>wg(n,!Ue(n)),gw=n=>wg(n,Ue(n));function yw(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Mo(n,e,t){let i=at(n).resolveInner(e.head),r=t?B.closedBy:B.openedBy;for(let a=e.head;;){let c=t?i.childAfter(a):i.childBefore(a);if(!c)break;yw(n,c,r)?i=c:a=t?c.to:c.from}let s=i.type.prop(r),o,l;return s&&(o=t?jt(n,i.from,1):jt(n,i.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?i.to:i.from,x.cursor(l,t?-1:1)}const vw=n=>Qt(n,e=>Mo(n.state,e,!Ue(n))),Ow=n=>Qt(n,e=>Mo(n.state,e,Ue(n)));function Eg(n,e){return Qt(n,t=>{if(!t.empty)return Qo(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const xg=n=>Eg(n,!1),Ng=n=>Eg(n,!0);function Ag(n){return Math.max(n.defaultLineHeight,Math.min(n.dom.clientHeight,innerHeight)-5)}function Dg(n,e){let{state:t}=n,i=ji(t.selection,l=>l.empty?n.moveVertically(l,e,Ag(n)):Qo(l,e));if(i.eq(t.selection))return!1;let r=n.coordsAtPos(t.selection.main.head),s=n.scrollDOM.getBoundingClientRect(),o;return r&&r.top>s.top&&r.bottom<s.bottom&&r.top-s.top<=n.scrollDOM.scrollHeight-n.scrollDOM.scrollTop-n.scrollDOM.clientHeight&&(o=V.scrollIntoView(i.main.head,{y:"start",yMargin:r.top-s.top})),n.dispatch(Jt(t,i),{effects:o}),!0}const Rf=n=>Dg(n,!1),Ca=n=>Dg(n,!0);function _n(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=x.cursor(i.from+s))}return r}const bw=n=>Qt(n,e=>_n(n,e,!0)),Tw=n=>Qt(n,e=>_n(n,e,!1)),Sw=n=>Qt(n,e=>_n(n,e,!Ue(n))),kw=n=>Qt(n,e=>_n(n,e,Ue(n))),ww=n=>Qt(n,e=>x.cursor(n.lineBlockAt(e.head).from,1)),Ew=n=>Qt(n,e=>x.cursor(n.lineBlockAt(e.head).to,-1));function xw(n,e,t){let i=!1,r=ji(n.selection,s=>{let o=jt(n,s.head,-1)||jt(n,s.head,1)||s.head>0&&jt(n,s.head-1,1)||s.head<n.doc.length&&jt(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return t?x.range(s.anchor,l):x.cursor(l)});return i?(e(Jt(n,r)),!0):!1}const Nw=({state:n,dispatch:e})=>xw(n,e,!1);function bt(n,e){let t=ji(n.state.selection,i=>{let r=e(i);return x.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Jt(n.state,t)),!0)}function Ig(n,e){return bt(n,t=>n.moveByChar(t,e))}const Pg=n=>Ig(n,!Ue(n)),Cg=n=>Ig(n,Ue(n));function Rg(n,e){return bt(n,t=>n.moveByGroup(t,e))}const Aw=n=>Rg(n,!Ue(n)),Dw=n=>Rg(n,Ue(n)),Iw=n=>bt(n,e=>Mo(n.state,e,!Ue(n))),Pw=n=>bt(n,e=>Mo(n.state,e,Ue(n)));function _g(n,e){return bt(n,t=>n.moveVertically(t,e))}const Yg=n=>_g(n,!1),Qg=n=>_g(n,!0);function Mg(n,e){return bt(n,t=>n.moveVertically(t,e,Ag(n)))}const _f=n=>Mg(n,!1),Yf=n=>Mg(n,!0),Cw=n=>bt(n,e=>_n(n,e,!0)),Rw=n=>bt(n,e=>_n(n,e,!1)),_w=n=>bt(n,e=>_n(n,e,!Ue(n))),Yw=n=>bt(n,e=>_n(n,e,Ue(n))),Qw=n=>bt(n,e=>x.cursor(n.lineBlockAt(e.head).from)),Mw=n=>bt(n,e=>x.cursor(n.lineBlockAt(e.head).to)),Qf=({state:n,dispatch:e})=>(e(Jt(n,{anchor:0})),!0),Mf=({state:n,dispatch:e})=>(e(Jt(n,{anchor:n.doc.length})),!0),Lf=({state:n,dispatch:e})=>(e(Jt(n,{anchor:n.selection.main.anchor,head:0})),!0),Vf=({state:n,dispatch:e})=>(e(Jt(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),Lw=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),Vw=({state:n,dispatch:e})=>{let t=Vo(n).map(({from:i,to:r})=>x.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:x.create(t),userEvent:"select"})),!0},$w=({state:n,dispatch:e})=>{let t=ji(n.selection,i=>{var r;let s=at(n).resolveInner(i.head,1);for(;!(s.from<i.from&&s.to>=i.to||s.to>i.to&&s.from<=i.from||!(!((r=s.parent)===null||r===void 0)&&r.parent));)s=s.parent;return x.range(s.to,s.from)});return e(Jt(n,t)),!0},Fw=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=x.create([t.main]):t.main.empty||(i=x.create([x.cursor(t.main.head)])),i?(e(Jt(n,i)),!0):!1};function Lo(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let a=e(o);a<o?(t="delete.backward",a=ys(n,a,!1)):a>o&&(t="delete.forward",a=ys(n,a,!0)),o=Math.min(o,a),l=Math.max(l,a)}else o=ys(n,o,!1),l=ys(n,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:x.cursor(o)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?V.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function ys(n,e,t){if(n instanceof V)for(let i of n.state.facet(V.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const Lg=(n,e)=>Lo(n,t=>{let{state:i}=n,r=i.doc.lineAt(t),s,o;if(!e&&t>r.from&&t<r.from+200&&!/[^ \t]/.test(s=r.text.slice(0,t-r.from))){if(s[s.length-1]=="	")return t-1;let l=$a(s,i.tabSize),a=l%ho(i)||ho(i);for(let c=0;c<a&&s[s.length-1-c]==" ";c++)t--;o=t}else o=it(r.text,t-r.from,e,e)+r.from,o==t&&r.number!=(e?i.doc.lines:1)&&(o+=e?1:-1);return o}),Ra=n=>Lg(n,!1),Vg=n=>Lg(n,!0),$g=(n,e)=>Lo(n,t=>{let i=t,{state:r}=n,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let l=null;;){if(i==(e?s.to:s.from)){i==t&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let a=it(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,a)-s.from,Math.max(i,a)-s.from),u=o(c);if(l!=null&&u!=l)break;(c!=" "||i!=t)&&(l=u),i=a}return i}),Fg=n=>$g(n,!1),Bw=n=>$g(n,!0),Bg=n=>Lo(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)}),Uw=n=>Lo(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),jw=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:H.of(["",""])},range:x.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},qw=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),o=r==s.from?r-1:it(s.text,r-s.from,!1)+s.from,l=r==s.to?r+1:it(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:n.doc.slice(r,l).append(n.doc.slice(o,r))},range:x.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Vo(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function Ug(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of Vo(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),l=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let a of s.ranges)r.push(x.range(Math.min(n.doc.length,a.anchor+l),Math.min(n.doc.length,a.head+l)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let a of s.ranges)r.push(x.range(a.anchor-l,a.head-l))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:x.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Gw=({state:n,dispatch:e})=>Ug(n,e,!1),zw=({state:n,dispatch:e})=>Ug(n,e,!0);function jg(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of Vo(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Xw=({state:n,dispatch:e})=>jg(n,e,!1),Ww=({state:n,dispatch:e})=>jg(n,e,!0),Hw=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Vo(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=ji(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Jw(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=at(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(B.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from?{from:i.to,to:r.from}:null}const Zw=qg(!1),Kw=qg(!0);function qg(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,l=e.doc.lineAt(s),a=!n&&s==o&&Jw(e,s);n&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let c=new Co(e,{simulateBreak:s,simulateDoubleBreak:!!a}),u=gc(c,s);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<l.to&&/\s/.test(l.text[o-l.from]);)o++;a?{from:s,to:o}=a:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let h=["",Ar(e,u)];return a&&h.push(Ar(e,c.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:H.of(h)},range:x.cursor(s+1+h[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Nc(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let l=n.doc.lineAt(o);l.number>t&&(i.empty||i.to>l.from)&&(e(l,r,i),t=l.number),o=l.to+1}let s=n.changes(r);return{changes:r,range:x.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const eE=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Co(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),r=Nc(n,(s,o,l)=>{let a=gc(i,s.from);if(a==null)return;/\S/.test(s.text)||(a=0);let c=/^\s*/.exec(s.text)[0],u=Ar(n,a);(c!=u||l.from<s.from+c.length)&&(t[s.from]=a,o.push({from:s.from,to:s.from+c.length,insert:u}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},Gg=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Nc(n,(t,i)=>{i.push({from:t.from,insert:n.facet(mc)})}),{userEvent:"input.indent"})),!0),zg=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Nc(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=$a(r,n.tabSize),o=0,l=Ar(n,Math.max(0,s-ho(n)));for(;o<r.length&&o<l.length&&r.charCodeAt(o)==l.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),tE=[{key:"Ctrl-b",run:Sg,shift:Pg,preventDefault:!0},{key:"Ctrl-f",run:kg,shift:Cg},{key:"Ctrl-p",run:xg,shift:Yg},{key:"Ctrl-n",run:Ng,shift:Qg},{key:"Ctrl-a",run:ww,shift:Qw},{key:"Ctrl-e",run:Ew,shift:Mw},{key:"Ctrl-d",run:Vg},{key:"Ctrl-h",run:Ra},{key:"Ctrl-k",run:Bg},{key:"Ctrl-Alt-h",run:Fg},{key:"Ctrl-o",run:jw},{key:"Ctrl-t",run:qw},{key:"Ctrl-v",run:Ca}],nE=[{key:"ArrowLeft",run:Sg,shift:Pg,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:mw,shift:Aw,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Sw,shift:_w,preventDefault:!0},{key:"ArrowRight",run:kg,shift:Cg,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:gw,shift:Dw,preventDefault:!0},{mac:"Cmd-ArrowRight",run:kw,shift:Yw,preventDefault:!0},{key:"ArrowUp",run:xg,shift:Yg,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Qf,shift:Lf},{mac:"Ctrl-ArrowUp",run:Rf,shift:_f},{key:"ArrowDown",run:Ng,shift:Qg,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Mf,shift:Vf},{mac:"Ctrl-ArrowDown",run:Ca,shift:Yf},{key:"PageUp",run:Rf,shift:_f},{key:"PageDown",run:Ca,shift:Yf},{key:"Home",run:Tw,shift:Rw,preventDefault:!0},{key:"Mod-Home",run:Qf,shift:Lf},{key:"End",run:bw,shift:Cw,preventDefault:!0},{key:"Mod-End",run:Mf,shift:Vf},{key:"Enter",run:Zw},{key:"Mod-a",run:Lw},{key:"Backspace",run:Ra,shift:Ra},{key:"Delete",run:Vg},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Fg},{key:"Mod-Delete",mac:"Alt-Delete",run:Bw},{mac:"Mod-Backspace",run:Uw},{mac:"Mod-Delete",run:Bg}].concat(tE.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),iE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:vw,shift:Iw},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Ow,shift:Pw},{key:"Alt-ArrowUp",run:Gw},{key:"Shift-Alt-ArrowUp",run:Xw},{key:"Alt-ArrowDown",run:zw},{key:"Shift-Alt-ArrowDown",run:Ww},{key:"Escape",run:Fw},{key:"Mod-Enter",run:Kw},{key:"Alt-l",mac:"Ctrl-l",run:Vw},{key:"Mod-i",run:$w,preventDefault:!0},{key:"Mod-[",run:zg},{key:"Mod-]",run:Gg},{key:"Mod-Alt-\\",run:eE},{key:"Shift-Mod-k",run:Hw},{key:"Shift-Mod-\\",run:Nw},{key:"Mod-/",run:W1},{key:"Alt-A",run:J1}].concat(nE),rE={key:"Tab",run:Gg,shift:zg},sE=fe('<div class="m-2 flex gap-2"><div class="relative grow"><input type="text" class="input-bordered input w-full"></div><button type="button" class="btn-primary btn">Send</button></div>',7),oE=fe('<div role="status" class="absolute right-2 top-1/2 -translate-y-1/2"><svg aria-hidden="true" class="mr-2 inline h-6 w-6 animate-spin fill-blue-600 text-gray-200 dark:text-gray-600" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"></path></svg></div>',8),lE=fe('<button type="button" class="absolute right-4 top-1/2 -translate-y-1/2 rounded-full p-1"></button>',2),Xg=fe('<div class="h-full"></div>',2),aE=fe('<label for="my-modal"></label>',2),cE=fe('<div class="flex h-6 items-stretch bg-neutral px-1"><div class="grow"></div></div>',4),uE=fe('<div class="flex cursor-pointer items-center px-1 hover:bg-neutral-800"></div>',2),hE=fe('<input type="checkbox" id="my-modal" class="modal-toggle">',1),fE=fe('<label for="my-modal" class="modal cursor-pointer"><div class="modal-box"><div class="flex flex-col gap-6"><div class="flex flex-col gap-2"><h4 class="font-bold">Introspection Headers</h4></div><div class="flex flex-col gap-2"><h4 class="font-bold">Query Headers</h4></div></div><div class="modal-action"><label for="my-modal" class="btn">Close</label></div></div></label>',18),$f=fe('<div class="flex gap-2"><input type="text" class="input-bordered input input-sm grow"><input type="text" class="input-bordered input input-sm grow"></div>',4),dE=fe('<main class="flex h-screen flex-col"><div class="flex grow flex-col md:flex-row"><div class="grow basis-0"></div><div class="bg-neutral-900 py-0.5"></div><div class="grow basis-0"></div></div></main>',10),[rt,nn]=mm({endpoint:"https://graphql.anilist.co/",query:"",schema:null,result:null,introspectionHeaders:[{key:"",value:""}],queryHeaders:[{key:"",value:""}]});async function pE(n,e){return fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...e},body:JSON.stringify({query:tT()})}).then(t=>t.json()).then(t=>t.data)}function Wg(n){return n.reduce((e,t)=>({...e,...t.key&&{[t.key]:t.value}}),{})}async function mE(n,e,t){return fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...t},body:JSON.stringify({query:e})}).then(i=>i.json())}const[gE,Ff]=an(!1);async function Hg(){Ff(!0);try{const n=await mE(rt.endpoint,rt.query,Wg(In(rt.queryHeaders)));nn("result",()=>{}),nn("result",n)}catch(n){pg.error("Failed to fetch query",{position:"bottom-right"}),console.error(n)}Ff(!1)}const yE=()=>{const[n,e]=an(!1);Ya(()=>{rt.endpoint&&t()});async function t(){e(!0);try{const i=await pE(rt.endpoint,Wg(In(rt.introspectionHeaders)));nn("schema",nT(i))}catch(i){pg.error("Failed to load schema",{position:"bottom-right"}),console.error(i)}e(!1)}return(()=>{const i=sE.cloneNode(!0),r=i.firstChild,s=r.firstChild,o=r.nextSibling;return s.$$input=l=>nn("endpoint",l.target.value),ee(r,(()=>{const l=Xt(()=>!!n());return()=>l()?oE.cloneNode(!0):(()=>{const a=lE.cloneNode(!0);return a.$$click=t,ee(a,K(um,{path:lT,class:"h-6 w-6"})),a})()})(),null),o.$$click=Hg,Te(()=>o.disabled=gE()),Te(()=>s.value=rt.endpoint),i})()},Jg=V.theme({"&":{height:"100%"}}),vE=()=>{const{ref:n,createExtension:e,editorView:t}=am({onValueChange:i=>nn("query",i)});return cm(t,()=>rt.query),e([Jg,kk(),r1(),ug,RS(),US(),zk(),sw(),$v(),za.of([{key:"Ctrl-Enter",run(){return Hg(),!0}},...Jk,...iE,...pw,...cg,rE])]),Pt(()=>{rt.schema&&hk(t(),rt.schema)}),(()=>{const i=Xg.cloneNode(!0);return To(n,i),i})()},OE=()=>{const{ref:n,createExtension:e,editorView:t}=am();return iT(t,()=>!0),cm(t,()=>JSON.stringify(rt.result,null,2)),e([Jg,V.theme({"&":{backgroundColor:"black"}}),ug,X1()]),(()=>{const i=Xg.cloneNode(!0);return To(n,i),i})()},bE=()=>(()=>{const n=cE.cloneNode(!0);return n.firstChild,ee(n,K(TE,{get children(){const e=aE.cloneNode(!0);return ee(e,K(um,{path:aT,class:"h-4 w-4"})),e}}),null),ee(n,K(SE,{}),null),n})(),TE=({children:n})=>(()=>{const e=uE.cloneNode(!0);return ee(e,n),e})(),SE=()=>K(P0,{get children(){return[hE.cloneNode(!0),(()=>{const n=fE.cloneNode(!0),e=n.firstChild,t=e.firstChild,i=t.firstChild;i.firstChild;const r=i.nextSibling;return r.firstChild,ee(i,K(Tl,{get each(){return rt.introspectionHeaders},children:({key:s,value:o},l)=>(()=>{const a=$f.cloneNode(!0),c=a.firstChild,u=c.nextSibling;return c.addEventListener("change",h=>nn("introspectionHeaders",l(),"key",h.target.value)),c.value=s,u.addEventListener("change",h=>nn("introspectionHeaders",l(),"value",h.target.value)),u.value=o,a})()}),null),ee(r,K(Tl,{get each(){return rt.queryHeaders},children:({key:s,value:o},l)=>(()=>{const a=$f.cloneNode(!0),c=a.firstChild,u=c.nextSibling;return c.addEventListener("change",h=>nn("queryHeaders",l(),"key",h.target.value)),c.value=s,u.addEventListener("change",h=>nn("queryHeaders",l(),"value",h.target.value)),u.value=o,a})()}),null),n})()]}}),kE=()=>[(()=>{const n=dE.cloneNode(!0),e=n.firstChild,t=e.firstChild,i=t.nextSibling,r=i.nextSibling;return ee(n,K(yE,{}),e),ee(t,K(vE,{})),ee(r,K(OE,{})),ee(n,K(bE,{}),null),n})(),K(C1,{containerStyle:{"margin-bottom":"1rem"}})];Zf(["input","click"]);const wE=document.getElementById("root");S0(()=>K(kE,{}),wE);
